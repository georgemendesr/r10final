FROM node:18-alpine

WORKDIR /app

# Instalar dependências do sistema
RUN apk add --no-cache curl

# Copiar package.json do frontend
COPY r10-front_full_07ago/package.json ./

# Instalar dependências
RUN npm install

# Copiar código fonte do frontend
COPY r10-front_full_07ago/ .

# Configurar variáveis de ambiente
ENV NODE_ENV=development
ENV VITE_API_URL=http://localhost:3002

# Expor porta
EXPOSE 5175

# Comando de início com hot reload
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
