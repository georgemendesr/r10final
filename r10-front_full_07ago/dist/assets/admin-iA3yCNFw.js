var e,t,r=Object.defineProperty,n=(e,t,n)=>((e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);import{r as a,u as i,L as o,c as s,g as l,R as c,a as u,b as d,d as f}from"./vendor-Bfak-lhW.js";import{H as p,E as h,C as m,F as g,B as y,L as v,R as x,P as b,S as j,I as w,a as N,b as O,c as S,T as A,U as P,d as k,e as E,M as T,f as C,g as M,G as _,h as I,D,i as R,j as L,X as B,k as z,l as $,m as q,A as U,n as F,o as G,p as W,q as V,r as H,s as X,t as K,u as Y,v as J,w as Q,x as Z,y as ee,z as te,J as re,K as ne,N as ae,O as ie,Q as oe,Z as se,V as le,W as ce,Y as ue,_ as de,$ as fe,a0 as pe,a1 as he,a2 as me,a3 as ge,a4 as ye,a5 as ve,a6 as xe,a7 as be,a8 as je,a9 as we,aa as Ne,ab as Oe,ac as Se,ad as Ae,ae as Pe,af as ke,ag as Ee,ah as Te,ai as Ce,aj as Me,ak as _e,al as Ie,am as De,an as Re,ao as Le,ap as Be}from"./icons-C9jemfr7.js";var ze={exports:{}},$e={},qe=a,Ue=Symbol.for("react.element"),Fe=Symbol.for("react.fragment"),Ge=Object.prototype.hasOwnProperty,We=qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ve={key:!0,ref:!0,__self:!0,__source:!0};function He(e,t,r){var n,a={},i=null,o=null;for(n in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(o=t.ref),t)Ge.call(t,n)&&!Ve.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:Ue,type:e,key:i,ref:o,props:a,_owner:We.current}}$e.Fragment=Fe,$e.jsx=He,$e.jsxs=He,ze.exports=$e;var Xe=ze.exports;const Ke=(null==(t=null==(e=import.meta)?void 0:e.env)?void 0:t.VITE_API_BASE_URL)||"/api";function Ye(){try{const e=localStorage.getItem("r10_auth");if(!e)return null;const t=JSON.parse(e);return(null==t?void 0:t.token)||null}catch(e){return null}}function Je(){return Ye()}async function Qe(){try{const t=await fetch(`${Ke}/auth/refresh`,{method:"POST",credentials:"include"});if(!t.ok)return!1;try{const e=await t.json().catch(()=>null);e&&e.token&&function(e){try{const t=localStorage.getItem("r10_auth"),r={...t?JSON.parse(t):{},token:e,isAuthenticated:!!e};localStorage.setItem("r10_auth",JSON.stringify(r))}catch(t){}}(String(e.token))}catch(e){}return!0}catch(e){return!1}}async function Ze(e,t){if(!e.ok){if(401===e.status&&(null==t?void 0:t.silent401)){const t=new Error(`HTTP ${e.status}`);throw t.status=e.status,t.body="",t}const r=await e.text().catch(()=>""),n=new Error(`HTTP ${e.status}`);throw n.status=e.status,n.body=r,n}return e.json()}async function et(e,t){const r=Date.now(),n=`${Ke}${e}`,a=`GET:${n}`;window.__r10_inflight||(window.__r10_inflight=new Map);const i=window.__r10_inflight,o=i.get(a);if(o){if(r-o.ts<300)return o.p;i.delete(a)}const s=`${n}${n.includes("?")?"&":"?"}_ts=${r}`,l=Ye(),c=(async()=>{try{let e=await fetch(s,{headers:{"Cache-Control":"no-cache",...l?{Authorization:`Bearer ${l}`}:{}},credentials:"include"});if(401===e.status&&(null==t?void 0:t.silent401)){const e=new Error("Unauthorized");throw e.status=401,e}if(401===e.status){if(await Qe()){const t=Ye();e=await fetch(s,{headers:{"Cache-Control":"no-cache",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"})}}return await Ze(e,t)}finally{setTimeout(()=>{i.delete(a)},50)}})();return i.set(a,{p:c,ts:r}),c}async function tt(e,t){const r=`${Ke}${e}`,n=Ye();let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"});if(401===a.status){if(await Qe()){const e=Ye();a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"})}}return Ze(a)}async function rt(e,t){const r=`${Ke}${e}`,n=Ye();let a=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"});if(401===a.status){if(await Qe()){const e=Ye();a=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"})}}return Ze(a)}async function nt(e){const t=`${Ke}${e}`,r=Ye();let n=await fetch(t,{method:"DELETE",credentials:"include",headers:{...r?{Authorization:`Bearer ${r}`}:{}}});if(401===n.status){if(await Qe()){const e=Ye();n=await fetch(t,{method:"DELETE",credentials:"include",headers:{...e?{Authorization:`Bearer ${e}`}:{}}})}}return Ze(n)}async function at(e=!0){const t=e?"/banners":"/banners/public";return(await et(t)).items||[]}function it(e,t){const r=new Date,n=t.filter(t=>t.posicao===e).filter(e=>"pausado"!==e.status).filter(e=>{const t=e.dataInicio?new Date(e.dataInicio):null,n=e.dataFim?new Date(e.dataFim):null;return!(t&&r<t)&&(!(n&&r>n)&&(!(e.impressoesMax&&e.impressoesAtuais>=e.impressoesMax)&&!(e.cliquesMax&&e.cliquesAtuais>=e.cliquesMax)))}).sort((e,t)=>e.prioridade-t.prioridade);if(!n.length)return null;return n[Math.floor(Date.now()/1e4)%n.length]}function ot(){try{const e=JSON.parse(localStorage.getItem("r10.offline.posts2025.v5")||'{"items":[]}');return Array.isArray(e.items)?e.items:[]}catch{return[]}}function st(e){return{supermanchete:"supermanchete","super-manchete":"supermanchete",super:"supermanchete",destaque:"destaque",destaques:"destaque","manchete-principal":"destaque",geral:"geral",noticia:"geral",noticias:"geral","noticia-comum":"geral",municipios:"municipios",municipio:"municipios","municípios":"municipios"}[String(e||"").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim()]||e}let lt=!1;const ct="/api",ut=(()=>{var e;if(/^https?:\/\//i.test(ct))try{return new URL(ct).origin}catch(t){try{return new URL(ct.replace(/\/$/,"")).origin}catch(r){}}return"undefined"!=typeof window&&(null==(e=window.location)?void 0:e.origin)?window.location.origin:""})(),dt=e=>{if(!e)return"";const t=String(e).trim();return t?/^data:image\//i.test(t)||/^https?:\/\//i.test(t)?t:t.startsWith("//")?`https:${t}`:t.startsWith("/")?ut?`${ut}${t}`:t:ut?`${ut}/${t.replace(/^\/+/,"")}`:t:""};const ft=e=>{var t;const r=e.publishedAt||e.dataPublicacao||(new Date).toISOString(),n=e.autor||"R10 Piauí",a=e.categoria||"Geral",i=dt(e.imagemUrl||e.imagem||"");return{id:(null==(t=e.id)?void 0:t.toString())||"",titulo:e.titulo||"",subtitulo:e.subtitulo||"",chapeu:e.chapeu||"",conteudo:e.conteudo||"",posicao:e.posicao||"noticia-comum",categoria:a,autor:n,dataPublicacao:r,imagemUrl:i,visualizacoes:e.visualizacoes||0,title:e.titulo||"",subtitle:e.subtitulo||"",content:"",author:n,publishDate:r,createdAt:r,updatedAt:r,imagemDestaque:i,subcategorias:[a],status:"published",tags:[a],resumo:e.subtitulo||"",fonte:"R10 Piauí Pulse",views:0,slug:e.slug||`${e.id}-${(e.titulo||"").toLowerCase().replace(/[^a-z0-9]/g,"-")}`}},pt=e=>{const t=e.publishedAt||e.dataPublicacao||(new Date).toISOString(),r=e.autor||"R10 Piauí",n=e.categoria||"Geral",a=dt(e.imagemUrl||e.imagemDestaque||e.imagem||e.image||"");return{id:e.id.toString(),titulo:e.titulo||e.title||"",subtitulo:e.subtitulo||e.subtitle||"",chapeu:e.chapeu||"",conteudo:e.conteudo||e.content||"",posicao:e.posicao||"noticia-comum",categoria:n,autor:r,dataPublicacao:t,imagemUrl:a,visualizacoes:e.visualizacoes||e.views||0,title:e.titulo||e.title||"",subtitle:e.subtitulo||e.subtitle||"",content:e.conteudo||e.content||"",author:r,publishDate:t,createdAt:t,updatedAt:t,imagemDestaque:a,subcategorias:[n],status:"published",tags:[n],resumo:e.resumo||"",fonte:"R10 Piauí Pulse",views:e.visualizacoes||e.views||0,slug:e.slug||`${e.id}-${(e.titulo||e.title||"").toLowerCase().replace(/[^a-z0-9]/g,"-")}`}};async function ht(e){const t=Number(e.page),r=Number(e.limit);try{const e=`${`${ct}/posts?page=${t}&limit=${r}`}&_ts=${Date.now()}`,n=await fetch(e,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!n.ok){lt=!0;const e=ot(),n=(t-1)*r,a=n+r,i=e.slice(n,a).map(ft),o=e.length;return{items:i,page:t,pages:Math.ceil(o/r),total:o,limit:r}}return function(e){let t=Array.isArray(e)?e:Array.isArray(null==e?void 0:e.items)?e.items:Array.isArray(null==e?void 0:e.posts)?e.posts:Array.isArray(null==e?void 0:e.data)?e.data:[];t=t.map(e=>pt(e));const r=Number((null==e?void 0:e.total)??(null==e?void 0:e.totalPosts)??t.length??0),n=Number((null==e?void 0:e.limit)??(null==e?void 0:e.postsPerPage)??(Array.isArray(e)?e.length:0)??0);return{items:t,page:Number((null==e?void 0:e.page)??(null==e?void 0:e.currentPage)??1),pages:Number((null==e?void 0:e.pages)??(null==e?void 0:e.totalPages)??(n?Math.ceil(r/n):1)),total:r,limit:n}}(await n.json())}catch(n){lt=!0;const e=ot(),a=(t-1)*r,i=a+r,o=e.slice(a,i).map(ft),s=e.length;return{items:o,page:t,pages:Math.ceil(s/r),total:s,limit:r}}}async function mt(e){try{const t=new URLSearchParams;(null==e?void 0:e.categoria)&&"todas"!==e.categoria&&t.append("categoria",e.categoria),(null==e?void 0:e.posicao)&&"todas"!==e.posicao&&t.append("posicao",e.posicao),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());const r=`${ct}/posts${t.toString()?"?"+t.toString():""}`,n=`${r}${r.includes("?")?"&":"?"}_ts=${Date.now()}`,a=await fetch(n,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!a.ok)return lt=!0,ot().map(ft);const i=await a.json();return Array.isArray(i)?i.map(pt):i.items&&Array.isArray(i.items)?i.items.map(pt):[]}catch(t){return lt=!0,ot().map(ft)}}async function gt(e){try{const t=await fetch(`${ct}/posts/${e}?_ts=${Date.now()}&_cache=${Math.random()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}});if(!t.ok){const t=ot().find(t=>{var r;return(null==(r=t.id)?void 0:r.toString())===e});return t?ft(t):null}const r=await t.json();return pt(r)}catch(t){const r=ot().find(t=>{var r;return(null==(r=t.id)?void 0:r.toString())===e});return r?ft(r):null}}async function yt(e){try{const t=await tt("/posts",e);return pt(t)}catch(t){return null}}async function vt(e,t){try{const r=await rt(`/posts/${e}`,t);return pt(r)}catch(r){return null}}async function xt(e,t){try{let r=await mt({posicao:e,limit:t});const n=st(e);let a=r.filter(e=>st(e.posicao||"")===n);return t&&t>0&&(a=a.slice(0,t)),0===a.length&&r.length>0&&(a=t&&t>0?r.slice(0,t):r),a}catch(r){return[]}}async function bt(e){try{let t=await mt();return e&&e>0&&(t=t.slice(0,e)),t}catch(t){return[]}}async function jt(e=5){try{const t=`${ct}/posts/most-read?limit=${e}`,r=await async function(e){const t=`${e}${e.includes("?")?"&":"?"}_ts=${Date.now()}`,r=await fetch(t,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}(t);return(Array.isArray(r)?r:Array.isArray(null==r?void 0:r.items)?r.items:Array.isArray(null==r?void 0:r.posts)?r.posts:[]).map(pt)}catch(t){return[]}}async function wt(){try{(await fetch(`${ct}/health`)).ok}catch(e){}}const Nt="r10_users",Ot=e=>{localStorage.setItem("r10_auth",JSON.stringify(e))},St=()=>{if((()=>{const e=localStorage.getItem(Nt);return e?JSON.parse(e):[]})().length>0)return;const e=[{id:"1",name:"João Silva",email:"joao@r10piaui.com",role:"admin",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()},{id:"2",name:"Maria Santos",email:"maria@r10piaui.com",role:"editor",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()},{id:"3",name:"Carlos Oliveira",email:"carlos@r10piaui.com",role:"reporter",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()}];var t;t=e,localStorage.setItem(Nt,JSON.stringify(t))},At=a.createContext(void 0),Pt=()=>{const e=a.useContext(At);if(!e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},kt=({children:e})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!1),[o,s]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("r10_auth");if(!e)return r(null),i(!1),void s(!1);const t=JSON.parse(e);if(null==t?void 0:t.isAuthenticated){const e=await(async()=>{var e,t;try{const e=await et("/auth/me",{silent401:!0});return Ot({user:e,isAuthenticated:!0}),e}catch(r){if(401===(null==r?void 0:r.status)||401===(null==(e=null==r?void 0:r.response)?void 0:e.status))return Ot({user:null,isAuthenticated:!1}),null}try{const e=await tt("/auth/refresh");if(e&&e.user){const e=await et("/auth/me",{silent401:!0});return Ot({user:e,isAuthenticated:!0}),e}}catch(r){401!==(null==r?void 0:r.status)&&401!==(null==(t=null==r?void 0:r.response)?void 0:t.status)||Ot({user:null,isAuthenticated:!1})}return null})();r(e),i(!!e)}else r(null),i(!1)}catch(e){null==e||e.status,r(null),i(!1)}finally{s(!1)}})()},[]);const l={user:t,isAuthenticated:n,isLoading:o,login:async(e,t)=>{s(!0);try{const n=await(async(e,t)=>{try{const n=await fetch(`${Ke}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),credentials:"include"});if(n.ok){const e=await n.json(),t={user:e.user,isAuthenticated:!0};try{const t=localStorage.getItem("r10_auth"),r={...t?JSON.parse(t):{},token:(null==e?void 0:e.token)||null,user:e.user,isAuthenticated:!0};localStorage.setItem("r10_auth",JSON.stringify(r))}catch(r){}return Ot(t),t}{const e=await n.text();throw new Error(e||"Erro ao fazer login")}}catch(n){throw n}})(e,t);r(n.user),i(n.isAuthenticated)}catch(n){throw n}finally{s(!1)}},logout:async()=>{s(!0);try{await(async()=>{try{await fetch(`${Ke}/auth/logout`,{method:"POST",credentials:"include"})}catch(e){}try{const e=localStorage.getItem("r10_auth"),t={...e?JSON.parse(e):{},token:null};localStorage.setItem("r10_auth",JSON.stringify(t))}catch(e){}Ot({user:null,isAuthenticated:!1})})(),r(null),i(!1)}catch(e){throw e}finally{s(!1)}}};return Xe.jsx(At.Provider,{value:l,children:e})},Et="r10_homepage_layout",Tt=[{id:"superManchete",name:"Super Manchete",enabled:!0},{id:"destaques",name:"Destaques (Hero Grid)",enabled:!0},{id:"noticiasGerais",name:"Notícias Gerais (com Banner)",enabled:!0},{id:"maisLidas",name:"Mais Lidas",enabled:!0},{id:"reacoes",name:"Reações dos Leitores",enabled:!0},{id:"r10Play",name:"R10 Play",enabled:!0},{id:"municipios",name:"Municípios",enabled:!0}],Ct=()=>{try{const e=localStorage.getItem(Et);if(e){const t=JSON.parse(e),r=new Set(t.map(e=>e.id)),n=Tt.filter(e=>!r.has(e.id));return[...t.map(e=>({...Tt.find(t=>t.id===e.id),...e})),...n]}return Tt}catch(e){return Tt}},Mt="r10_hero_grid_layout",_t={original:{id:"original",name:"Layout Original",description:"Layout clássico com supermanchete + grid lateral",icon:"📰",component:"HeroGrid"},vertical:{id:"vertical",name:"Layout Vertical",description:"Manchete principal em destaque total + grid horizontal de 4 notícias",icon:"📋",component:"HeroGridVertical"},mosaico:{id:"mosaico",name:"Layout Mosaico",description:"Grid assimétrico estilo revista 2/3 + 1/3 + linha inferior",icon:"🎨",component:"HeroGridMosaico"},premium:{id:"premium",name:"Layout Premium",description:"Design magazine profissional com hero gigante + seção trending",icon:"🏆",component:"HeroGridPremium"}},It=()=>{try{return localStorage.getItem(Mt)||"original"}catch(e){return"original"}},Dt=({notifications:e=0})=>{const{user:t,logout:r}=Pt(),n=i(),[o,s]=a.useState(!1),l=a.useRef(null);return a.useEffect(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),Xe.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200",children:Xe.jsx("div",{className:"max-w-[1250px] mx-auto px-6 py-6",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsx("div",{className:"flex items-center space-x-6",children:Xe.jsxs("div",{children:[Xe.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:["Bom dia, ",(null==t?void 0:t.name.split(" ")[0])||"João","! 👋"]}),Xe.jsx("p",{className:"text-gray-600 mt-1",children:"Aqui está o resumo das suas atividades"})]})}),Xe.jsxs("div",{className:"flex items-center space-x-4",children:[Xe.jsxs("div",{className:"relative",ref:l,children:[Xe.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-xl border border-gray-200 p-2 shadow-sm",children:[Xe.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200 group",title:"Ver Site Principal",children:[Xe.jsx(p,{className:"w-4 h-4"}),Xe.jsx("span",{className:"text-sm font-medium",children:"Site"}),Xe.jsx(h,{className:"w-3 h-3 opacity-50 group-hover:opacity-100"})]}),Xe.jsx("div",{className:"w-px h-6 bg-gray-200"}),Xe.jsx("button",{onClick:()=>s(!o),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200",title:"Mais Links",children:Xe.jsx(m,{className:"w-4 h-4 transition-transform duration-200 "+(o?"rotate-180":"")})})]}),o&&Xe.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl border border-gray-200 shadow-lg z-50",children:Xe.jsxs("div",{className:"p-2",children:[Xe.jsxs("a",{href:"/admin/nova-materia",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Xe.jsx(g,{className:"w-4 h-4"}),Xe.jsx("span",{className:"text-sm",children:"Nova Matéria"})]}),Xe.jsxs("a",{href:"/",target:"_blank",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Xe.jsx(p,{className:"w-4 h-4"}),Xe.jsx("span",{className:"text-sm",children:"Homepage"}),Xe.jsx(h,{className:"w-3 h-3 ml-auto"})]}),Xe.jsxs("a",{href:"/admin",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Xe.jsx(y,{className:"w-4 h-4"}),Xe.jsx("span",{className:"text-sm",children:"Dashboard"})]})]})})]}),Xe.jsx("div",{className:"relative",children:Xe.jsxs("button",{className:"p-3 bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",children:[Xe.jsx(y,{className:"w-5 h-5 text-gray-600"}),e>0&&Xe.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:e})]})}),Xe.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-xl p-2 border border-gray-200",children:[Xe.jsx("img",{src:(null==t?void 0:t.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:"Avatar",className:"w-10 h-10 rounded-xl border-2 border-white shadow-sm"}),Xe.jsxs("div",{children:[Xe.jsx("p",{className:"font-semibold text-gray-900 text-base",children:(null==t?void 0:t.name)||"Usuário"}),Xe.jsx("p",{className:"text-sm text-gray-500",children:"admin"===(null==t?void 0:t.role)?"Administrador":"editor"===(null==t?void 0:t.role)?"Editor":"reporter"===(null==t?void 0:t.role)?"Repórter":"Usuário"})]})]}),Xe.jsx("button",{onClick:async()=>{try{await r(),n("/login")}catch(e){}},className:"p-3 bg-red-50 text-red-600 hover:bg-red-100 rounded-xl transition-all duration-200 flex items-center space-x-2",title:"Sair",children:Xe.jsx(v,{className:"w-5 h-5"})})]})]})})})},Rt={"SUPER MANCHETE":1,DESTAQUE:2,GERAL:4,MUNICIPIOS:5},Lt=(e,t)=>{if("DESTAQUE"!==Bt(e.posicao))return!1;const r=t.filter(e=>"DESTAQUE"===Bt(e.posicao)).sort((e,t)=>{const r=new Date(e.dataPublicacao||e.publishedAt||0);return new Date(t.dataPublicacao||t.publishedAt||0).getTime()-r.getTime()});return r.length>0&&r[0].id===e.id},Bt=e=>{if(!e)return"GERAL";const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"SUPER MANCHETE":"destaque"===t||t.includes("destaque")?"DESTAQUE":t.includes("municip")?"MUNICIPIOS":"GERAL"},zt=()=>{const[e,t]=a.useState([]),[r,n]=a.useState([]),[i,s]=a.useState(""),[l,c]=a.useState("todas"),[u,d]=a.useState("todas"),[f,p]=a.useState("todos"),[h,m]=a.useState(!0),{user:y}=Pt(),v="admin"===(null==y?void 0:y.role)||"editor"===(null==y?void 0:y.role),P="admin"===(null==y?void 0:y.role)||"editor"===(null==y?void 0:y.role),k="admin"===(null==y?void 0:y.role),E=async()=>{try{m(!0);const r=await mt(),a=(e=r,Array.isArray(e)?e:(null==e?void 0:e.posts)&&Array.isArray(e.posts)?e.posts:(null==e?void 0:e.items)&&Array.isArray(e.items)?e.items:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:[]);t(a),n(a)}catch(r){t([]),n([])}finally{m(!1)}var e};a.useEffect(()=>{E()},[]),a.useEffect(()=>{const e=()=>{E()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);const T=async(e,t)=>{try{const r=(e=>{const t=(e||"").toLowerCase();return t.includes("polici")||t.includes("segur")||t.includes("crime")||t.includes("violenc")?"policia":t.includes("politic")||t.includes("eleic")||t.includes("governo")||t.includes("prefeito")||t.includes("vereador")||t.includes("deputado")?"política":t.includes("esport")||t.includes("futebol")||t.includes("campeonato")||t.includes("jogo")||t.includes("copa")||t.includes("time")?"esporte":t.includes("entret")||t.includes("cultura")||t.includes("festival")||t.includes("show")||t.includes("cinema")||t.includes("música")||t.includes("arte")?"entretenimento":"geral"})(e.categoria),n=await fetch("http://localhost:8080/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.titulo,hat:e.chapeu||"",imageUrl:e.imagemUrl||"https://picsum.photos/1080/"+("story"===t?"1920":"1350"),categoria:r,type:"story"===t?"story":"card"})});if(!n.ok)throw new Error("Erro na resposta do servidor");{const r=await n.json();if(r.ok&&r.preview){const n=`🚨 ${e.chapeu||""} em Piauí! 🚨\n\n${e.titulo}\n\n${e.conteudo?e.conteudo.substring(0,120)+"...":""}\n\nComo isso impacta nossa região?\n\n📍 Leia a notícia completa em www.r10piaui.com ou clique no link da bio.\n🔴 R10 Piauí – Qualidade em Primeiro Lugar.\n\n#R10PiauiPulse #Piauí #Notícias #${(e.chapeu||"").replace(/[ÃÁÀ]/g,"A")}`,a=window.open("","_blank","width=700,height=900");a&&a.document.write(`\n              <html>\n                <head>\n                  <title>Preview - ${"story"===t?"Story":"Feed"} Instagram</title>\n                  <style>\n                    body { \n                      margin: 0; \n                      padding: 20px; \n                      background: #f0f0f0; \n                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    }\n                    .container { \n                      max-width: 600px; \n                      margin: 0 auto; \n                      background: white; \n                      border-radius: 12px; \n                      overflow: hidden; \n                      box-shadow: 0 8px 32px rgba(0,0,0,0.1);\n                    }\n                    .header { \n                      background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045); \n                      color: white; \n                      padding: 20px; \n                      text-align: center; \n                    }\n                    .header h2 { \n                      margin: 0; \n                      font-size: 24px; \n                      font-weight: 600; \n                    }\n                    .image-container { \n                      text-align: center; \n                      padding: 20px; \n                    }\n                    .preview-image { \n                      max-width: 100%; \n                      height: auto; \n                      border-radius: 8px; \n                      box-shadow: 0 4px 12px rgba(0,0,0,0.2); \n                    }\n                    .legend-section { \n                      padding: 20px; \n                      background: #f8f9fa; \n                      border-top: 1px solid #e9ecef; \n                    }\n                    .legend-title { \n                      font-size: 18px; \n                      font-weight: 600; \n                      color: #333; \n                      margin-bottom: 12px; \n                      display: flex; \n                      align-items: center; \n                    }\n                    .legend-text { \n                      background: white; \n                      padding: 15px; \n                      border-radius: 8px; \n                      border-left: 4px solid #e53935; \n                      white-space: pre-wrap; \n                      font-family: monospace; \n                      font-size: 14px; \n                      line-height: 1.4; \n                      color: #333; \n                      max-height: 200px; \n                      overflow-y: auto; \n                    }\n                    .actions { \n                      padding: 20px; \n                      text-align: center; \n                      background: white; \n                    }\n                    .publish-btn { \n                      background: linear-gradient(135deg, #833ab4, #fd1d1d); \n                      color: white; \n                      border: none; \n                      padding: 12px 24px; \n                      font-size: 16px; \n                      font-weight: 600; \n                      border-radius: 8px; \n                      cursor: pointer; \n                      transition: all 0.3s; \n                      box-shadow: 0 4px 12px rgba(0,0,0,0.2); \n                    }\n                    .publish-btn:hover { \n                      transform: translateY(-2px); \n                      box-shadow: 0 6px 16px rgba(0,0,0,0.3); \n                    }\n                    .publish-btn:active { \n                      transform: translateY(0); \n                    }\n                    .copy-btn { \n                      background: #28a745; \n                      color: white; \n                      border: none; \n                      padding: 8px 16px; \n                      font-size: 14px; \n                      border-radius: 6px; \n                      cursor: pointer; \n                      margin-left: 10px; \n                    }\n                  </style>\n                </head>\n                <body>\n                  <div class="container">\n                    <div class="header">\n                      <h2>🎨 ${"story"===t?"Instagram Story":"Instagram Feed"}</h2>\n                    </div>\n                    \n                    <div class="image-container">\n                      <img src="${r.preview}" alt="Instagram ${t}" class="preview-image" />\n                    </div>\n                    \n                    <div class="legend-section">\n                      <div class="legend-title">\n                        📝 Legenda do Post:\n                      </div>\n                      <div class="legend-text" id="legend-text">${n}</div>\n                    </div>\n                    \n                    <div class="actions">\n                      <button class="publish-btn" onclick="publishToInstagram()">\n                        📱 Publicar no Instagram\n                      </button>\n                      <button class="copy-btn" onclick="copyLegend()">\n                        📋 Copiar Legenda\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <script>\n                    async function publishToInstagram() {\n                      const btn = document.querySelector('.publish-btn');\n                      const originalText = btn.textContent;\n                      \n                      try {\n                        btn.textContent = '📤 Publicando...';\n                        btn.disabled = true;\n                        \n                        const response = await fetch('http://localhost:8080/api/social/instagram/publish', {\n                          method: 'POST',\n                          headers: { 'Content-Type': 'application/json' },\n                          body: JSON.stringify({\n                            titulo: '${e.titulo.replace(/'/g,"\\'")}',\n                            chapeu: '${(e.chapeu||"").replace(/'/g,"\\'")}',\n                            conteudo: '${e.conteudo.replace(/'/g,"\\'").substring(0,200)}',\n                            imageUrl: '${e.imagemUrl||""}',\n                            legenda: \`${n.replace(/'/g,"\\'")}\`\n                          })\n                        });\n                        \n                        const result = await response.json();\n                        \n                        if (result.success || result.ok) {\n                          btn.textContent = '✅ Publicado!';\n                          btn.style.background = '#28a745';\n                          setTimeout(() => {\n                            alert('Post publicado com sucesso no Instagram!');\n                          }, 500);\n                        } else {\n                          throw new Error(result.message || 'Erro ao publicar');\n                        }\n                        \n                      } catch (error) {\n                        console.error('Erro:', error);\n                        btn.textContent = '❌ Erro';\n                        btn.style.background = '#dc3545';\n                        alert('Erro ao publicar: ' + error.message);\n                        \n                        setTimeout(() => {\n                          btn.textContent = originalText;\n                          btn.style.background = 'linear-gradient(135deg, #833ab4, #fd1d1d)';\n                          btn.disabled = false;\n                        }, 2000);\n                      }\n                    }\n                    \n                    function copyLegend() {\n                      const legendText = document.getElementById('legend-text').textContent;\n                      navigator.clipboard.writeText(legendText).then(() => {\n                        const btn = event.target;\n                        const originalText = btn.textContent;\n                        btn.textContent = '✅ Copiado!';\n                        setTimeout(() => {\n                          btn.textContent = originalText;\n                        }, 2000);\n                      });\n                    }\n                  <\/script>\n                </body>\n              </html>\n            `)}}}catch(r){alert(`Erro ao gerar ${t} Instagram: ${r.message}`)}};a.useEffect(()=>{let t=[...e];i&&(t=t.filter(e=>{var t,r;return e.titulo.toLowerCase().includes(i.toLowerCase())||(null==(t=e.subtitulo)?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.chapeu)?void 0:r.toLowerCase().includes(i.toLowerCase()))||e.conteudo.toLowerCase().includes(i.toLowerCase())})),"todas"!==l&&(t=t.filter(e=>e.categoria===l)),"todas"!==u&&(t=t.filter(e=>e.posicao===u)),"todos"!==f&&(t=t.filter(e=>e.autor===f));const r=((e,t)=>[...e].sort((r,n)=>{const a=Rt[Bt(r.posicao)],i=Rt[Bt(n.posicao)];if(a!==i)return a-i;if("DESTAQUE"===Bt(r.posicao)&&"DESTAQUE"===Bt(n.posicao)){const t=Lt(r,e),a=Lt(n,e);if(t&&!a)return-1;if(!t&&a)return 1}if("title"===t)return r.titulo.localeCompare(n.titulo,"pt-BR");const o=new Date(r.dataPublicacao||0);return new Date(n.dataPublicacao||0).getTime()-o.getTime()}))(t,"date");n(r)},[e,i,l,u,f]);const C=async e=>{if(window.confirm("Tem certeza que deseja excluir esta matéria?"))try{await async function(e){try{return await nt(`/posts/${e}`),!0}catch(t){return!1}}(e),t(t=>t.filter(t=>t.id!==e)),alert("Matéria excluída com sucesso!")}catch(r){alert("Erro ao excluir matéria")}},M=Array.from(new Set(e.map(e=>e.autor))),_=Array.from(new Set(e.map(e=>e.categoria)));return h?Xe.jsx("div",{className:"flex justify-center items-center h-64",children:Xe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[Xe.jsxs("div",{children:[Xe.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciador de Matérias"}),Xe.jsxs("p",{className:"text-gray-600",children:["Total de ",r.length," matérias"]}),Xe.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"✨ Ordenação: Super Manchete → Destaque → Demais (por data)"})]}),Xe.jsxs("div",{className:"flex items-center space-x-3",children:[Xe.jsxs("button",{onClick:E,disabled:h,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Xe.jsx(x,{className:"w-4 h-4 "+(h?"animate-spin":"")}),Xe.jsx("span",{children:"Atualizar"})]}),v&&Xe.jsxs(o,{to:"/admin/nova-materia",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Xe.jsx(b,{className:"w-5 h-5"}),Xe.jsx("span",{children:"Nova Matéria"})]})]})]}),Xe.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Xe.jsxs("div",{className:"relative",children:[Xe.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),Xe.jsx("input",{type:"text",placeholder:"Buscar matérias...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Xe.jsx("option",{value:"todas",children:"Todas as categorias"},"todas"),_.map(e=>Xe.jsx("option",{value:e,children:e},e))]}),Xe.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Xe.jsx("option",{value:"todas",children:"Todas as posições"},"todas"),Xe.jsx("option",{value:"supermanchete",children:"Super Manchete"},"supermanchete"),Xe.jsx("option",{value:"manchete-principal",children:"Manchete Principal"},"manchete-principal"),Xe.jsx("option",{value:"destaque-principal",children:"Destaque Principal"},"destaque-principal"),Xe.jsx("option",{value:"destaque-secundario",children:"Destaque Secundário"},"destaque-secundario"),Xe.jsx("option",{value:"noticia-comum",children:"Notícia Comum"},"noticia-comum")]}),Xe.jsxs("select",{value:f,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Xe.jsx("option",{value:"todos",children:"Todos os autores"},"todos"),M.map(e=>Xe.jsx("option",{value:e,children:e},e))]})]})}),Xe.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[Xe.jsxs("table",{className:"min-w-full",children:[Xe.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",style:{width:"60%"},children:"MATÉRIA"}),Xe.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide hidden sm:table-cell",style:{width:"12%"},children:"DATA"}),Xe.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",style:{width:"16%"},children:"POSIÇÃO"}),Xe.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide hidden md:table-cell",style:{width:"12%"},children:"CATEGORIA"})]})}),Xe.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map(e=>{return Xe.jsxs("tr",{className:`transition-colors ${(e=>{const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"bg-red-50 hover:bg-red-100":"destaque"===t||t.includes("destaque")?"bg-orange-50 hover:bg-orange-100":"hover:bg-gray-50"})(e.posicao)}`,children:[Xe.jsx("td",{className:"px-6 py-4",style:{width:"60%"},children:Xe.jsxs("div",{className:"flex items-start space-x-4",children:[Xe.jsx("div",{className:"flex-shrink-0",children:e.imagemUrl?Xe.jsx("img",{src:e.imagemUrl,alt:e.titulo,className:"w-16 h-16 rounded-lg object-cover shadow-sm"}):Xe.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center",children:Xe.jsx(g,{className:"w-6 h-6 text-gray-400"})})}),Xe.jsxs("div",{className:"flex-1 min-w-0",children:[Xe.jsx("div",{className:"mb-1",children:Xe.jsx("button",{onClick:()=>window.location.href=`/admin/editar-materia/${e.id}`,className:"text-base font-semibold leading-tight text-gray-900 hover:text-gray-700 text-left",children:e.titulo})}),Xe.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[Xe.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["por ",e.autor]}),Xe.jsxs("div",{className:"flex items-center space-x-1",children:[Xe.jsxs("button",{onClick:()=>T(e,"feed"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded hover:from-purple-600 hover:to-pink-600 transition-all",title:"Gerar Instagram Feed",children:[Xe.jsx(w,{className:"w-3 h-3 mr-1"}),"Feed"]}),Xe.jsxs("button",{onClick:()=>T(e,"story"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded hover:from-orange-600 hover:to-red-600 transition-all",title:"Gerar Instagram Story",children:[Xe.jsx(N,{className:"w-3 h-3 mr-1"}),"Story"]}),Xe.jsx("a",{href:`/post/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 text-xs font-medium text-green-600 bg-green-100 rounded hover:bg-green-200 transition-colors",title:"Ver Artigo",children:Xe.jsx(O,{className:"w-3 h-3"})}),P&&Xe.jsx(o,{to:`/admin/editar-materia/${e.id}`,className:"inline-flex items-center p-1 text-xs font-medium text-blue-600 bg-blue-100 rounded hover:bg-blue-200 transition-colors",title:"Editar",children:Xe.jsx(S,{className:"w-3 h-3"})}),k&&Xe.jsx("button",{onClick:()=>C(e.id),className:"inline-flex items-center p-1 text-xs font-medium text-red-600 bg-red-100 rounded hover:bg-red-200 transition-colors",title:"Excluir",children:Xe.jsx(A,{className:"w-3 h-3"})})]})]})]})]})}),Xe.jsx("td",{className:"px-3 py-4 text-xs text-gray-600 align-top hidden sm:table-cell",style:{width:"12%"},children:Xe.jsx("div",{className:"whitespace-nowrap",children:(t=e.publishedAt||e.dataPublicacao,new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))})}),Xe.jsx("td",{className:"px-3 py-4 align-top",style:{width:"16%"},children:(()=>{const t=(e=>{switch(Bt(e)){case"SUPER MANCHETE":return{text:"SUPER MANCHETE",className:"bg-red-100 text-red-800 border-red-200 font-bold"};case"DESTAQUE":return{text:"DESTAQUE",className:"bg-orange-100 text-orange-800 border-orange-200 font-semibold"};case"MUNICIPIOS":return{text:"MUNICÍPIOS",className:"bg-blue-100 text-blue-800 border-blue-200"};default:return null}})(e.posicao);return t?Xe.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full border ${t.className} whitespace-nowrap`,children:t.text}):Xe.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full whitespace-nowrap",children:e.posicao})})()}),Xe.jsx("td",{className:"px-3 py-4 align-top hidden md:table-cell",style:{width:"12%"},children:Xe.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded whitespace-nowrap",children:e.categoria})})]},e.id);var t})})]}),0===r.length&&Xe.jsxs("div",{className:"text-center py-12",children:[Xe.jsx(g,{className:"mx-auto h-12 w-12 text-gray-400"}),Xe.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma matéria encontrada"}),Xe.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||"todas"!==l||"todas"!==u||"todos"!==f?"Tente ajustar os filtros para encontrar matérias.":"Comece criando uma nova matéria."}),v&&!i&&"todas"===l&&"todas"===u&&"todos"===f&&Xe.jsx("div",{className:"mt-6",children:Xe.jsxs(o,{to:"/admin/nova-materia",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[Xe.jsx(b,{className:"w-4 h-4 mr-2"}),"Nova Matéria"]})})]})]})]})},$t="r10_media",qt=()=>{const e=localStorage.getItem($t);return e?JSON.parse(e):[]},Ut=async e=>{const t=qt(),r=t.filter(t=>t.id!==e);return r.length===t.length?Promise.resolve(!1):(n=r,localStorage.setItem($t,JSON.stringify(n)),new Promise(e=>{setTimeout(()=>e(!0),300)}));var n},Ft=({initialFilter:e,onSelect:t,selectable:r=!1})=>{const[n,i]=a.useState([]),[o,s]=a.useState(!0),[l,c]=a.useState(null),[u,d]=a.useState(e||{}),[f,p]=a.useState([]),[h,m]=a.useState("grid"),[g,y]=a.useState(1),[v,x]=a.useState(1),[b,w]=a.useState(""),[N,z]=a.useState(!1),[$,q]=a.useState(null),[U,F]=a.useState(null);a.useEffect(()=>{(async()=>{s(!0);try{const e=await(async e=>{let t=qt();if(e){if(e.type&&(t=t.filter(t=>t.type===e.type)),e.searchTerm){const r=e.searchTerm.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(r)||e.tags.some(e=>e.toLowerCase().includes(r)))}e.tags&&e.tags.length>0&&(t=t.filter(t=>e.tags.some(e=>t.tags.includes(e))))}return new Promise(e=>{setTimeout(()=>e(t),300)})})(u),t=12*(g-1),r=e.slice(t,t+12);i(r),x(Math.ceil(e.length/12))}catch(e){c("Erro ao carregar mídia")}finally{s(!1)}})()},[u,g]);const G=()=>{d(e=>({...e,searchTerm:b})),y(1)},W=e=>{d(t=>({...t,type:e})),y(1)},V=e=>{if(r&&t){const r=n.find(t=>t.id===e);return void(r&&t(r))}p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},H=async e=>{if(window.confirm("Tem certeza que deseja excluir este arquivo?"))try{await Ut(e),i(t=>t.filter(t=>t.id!==e)),p(t=>t.filter(t=>t!==e))}catch(t){c("Erro ao excluir arquivo")}},X=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},K=e=>{switch(e){case"image":return Xe.jsx(k,{className:"w-6 h-6"});case"video":return Xe.jsx(E,{className:"w-6 h-6"});case"audio":return Xe.jsx(T,{className:"w-6 h-6"});default:return Xe.jsx(C,{className:"w-6 h-6"})}},Y=e=>{switch(e){case"image":return"bg-blue-100 text-blue-600";case"video":return"bg-purple-100 text-purple-600";case"audio":return"bg-green-100 text-green-600";case"document":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}};return o&&0===n.length?Xe.jsx("div",{className:"flex justify-center items-center h-64",children:Xe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"})}):l&&0===n.length?Xe.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:[Xe.jsx("p",{children:l}),Xe.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar novamente"})]}):Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Biblioteca de Mídia"}),Xe.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie imagens, vídeos, áudios e documentos"})]}),Xe.jsxs("button",{onClick:()=>z(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[Xe.jsx(P,{className:"w-5 h-5"}),"Upload"]})]}),Xe.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-white rounded-2xl shadow-lg border border-gray-100 p-4",children:[Xe.jsxs("div",{className:"flex flex-wrap gap-2",children:[Xe.jsx("button",{onClick:()=>W(void 0),className:"px-4 py-2 rounded-lg transition-colors "+(u.type?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-purple-600 text-white"),children:"Todos"}),Xe.jsx("button",{onClick:()=>W("image"),className:"px-4 py-2 rounded-lg transition-colors "+("image"===u.type?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Xe.jsxs("span",{className:"flex items-center gap-1",children:[Xe.jsx(k,{className:"w-4 h-4"}),"Imagens"]})}),Xe.jsx("button",{onClick:()=>W("video"),className:"px-4 py-2 rounded-lg transition-colors "+("video"===u.type?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Xe.jsxs("span",{className:"flex items-center gap-1",children:[Xe.jsx(E,{className:"w-4 h-4"}),"Vídeos"]})}),Xe.jsx("button",{onClick:()=>W("audio"),className:"px-4 py-2 rounded-lg transition-colors "+("audio"===u.type?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Xe.jsxs("span",{className:"flex items-center gap-1",children:[Xe.jsx(T,{className:"w-4 h-4"}),"Áudios"]})}),Xe.jsx("button",{onClick:()=>W("document"),className:"px-4 py-2 rounded-lg transition-colors "+("document"===u.type?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Xe.jsxs("span",{className:"flex items-center gap-1",children:[Xe.jsx(C,{className:"w-4 h-4"}),"Documentos"]})})]}),Xe.jsxs("div",{className:"flex w-full md:w-auto items-center gap-2",children:[Xe.jsxs("div",{className:"relative flex-grow",children:[Xe.jsx("input",{type:"text",placeholder:"Buscar arquivos...",value:b,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyDown:e=>"Enter"===e.key&&G()}),Xe.jsx("button",{onClick:G,className:"absolute inset-y-0 right-0 px-3 flex items-center bg-gray-100 rounded-r-lg border-l border-gray-300",children:Xe.jsx(j,{className:"w-5 h-5 text-gray-500"})})]}),Xe.jsx("button",{className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:Xe.jsx(M,{className:"w-5 h-5 text-gray-700"})}),Xe.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[Xe.jsx("button",{onClick:()=>m("grid"),className:"p-2 "+("grid"===h?"bg-gray-200":"bg-white hover:bg-gray-100"),children:Xe.jsx(_,{className:"w-5 h-5 text-gray-700"})}),Xe.jsx("button",{onClick:()=>m("list"),className:"p-2 "+("list"===h?"bg-gray-200":"bg-white hover:bg-gray-100"),children:Xe.jsx(I,{className:"w-5 h-5 text-gray-700"})})]})]})]}),f.length>0&&Xe.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[Xe.jsxs("p",{className:"text-blue-700",children:[Xe.jsx("span",{className:"font-bold",children:f.length})," arquivos selecionados"]}),Xe.jsxs("div",{className:"flex space-x-2",children:[Xe.jsxs("button",{onClick:async()=>{if(0!==f.length&&window.confirm(`Tem certeza que deseja excluir ${f.length} arquivos?`))try{for(const e of f)await Ut(e);i(e=>e.filter(e=>!f.includes(e.id))),p([])}catch(e){c("Erro ao excluir arquivos")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[Xe.jsx(A,{className:"w-4 h-4"}),"Excluir selecionados"]}),Xe.jsx("button",{onClick:()=>p([]),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]}),"grid"===h&&Xe.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:0===n.length?Xe.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"Nenhum arquivo encontrado"}):n.map(e=>Xe.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden shadow-sm hover:shadow-md transition-shadow "+(f.includes(e.id)?"ring-2 ring-purple-500":""),children:[Xe.jsxs("div",{className:"aspect-square relative cursor-pointer",onClick:()=>V(e.id),children:["image"===e.type?Xe.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.title,className:"w-full h-full object-cover"}):Xe.jsx("div",{className:`w-full h-full flex items-center justify-center ${Y(e.type)}`,children:K(e.type)}),f.includes(e.id)&&Xe.jsx("div",{className:"absolute inset-0 bg-purple-500 bg-opacity-20 flex items-center justify-center",children:Xe.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:Xe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:Xe.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),Xe.jsxs("div",{className:"p-3",children:[Xe.jsx("h3",{className:"font-medium text-gray-900 truncate text-sm",children:e.title}),Xe.jsx("p",{className:"text-xs text-gray-500",children:X(e.fileSize)})]}),Xe.jsxs("div",{className:"px-3 pb-3 flex justify-between",children:[Xe.jsxs("div",{className:"flex space-x-1",children:[Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Xe.jsx(O,{className:"w-4 h-4"})}),Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Xe.jsx(D,{className:"w-4 h-4"})})]}),Xe.jsxs("div",{className:"flex space-x-1",children:[Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",children:Xe.jsx(S,{className:"w-4 h-4"})}),Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:t=>{t.stopPropagation(),H(e.id)},children:Xe.jsx(A,{className:"w-4 h-4"})})]})]})]},e.id))}),"list"===h&&Xe.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:Xe.jsxs("table",{className:"w-full",children:[Xe.jsx("thead",{className:"bg-gray-50",children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"px-4 py-4",children:Xe.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:f.length===n.length&&n.length>0,onChange:()=>{f.length===n.length?p([]):p(n.map(e=>e.id))}})}),Xe.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Arquivo"}),Xe.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),Xe.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamanho"}),Xe.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviado por"}),Xe.jsx("th",{className:"px-4 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),Xe.jsx("tbody",{className:"divide-y divide-gray-100",children:0===n.length?Xe.jsx("tr",{children:Xe.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum arquivo encontrado"})}):n.map(e=>Xe.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[Xe.jsx("td",{className:"px-4 py-3 text-center",children:Xe.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:f.includes(e.id),onChange:()=>V(e.id)})}),Xe.jsx("td",{className:"px-4 py-3",children:Xe.jsxs("div",{className:"flex items-center",children:[Xe.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3",children:"image"===e.type?Xe.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.title,className:"w-10 h-10 rounded object-cover"}):Xe.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${Y(e.type)}`,children:K(e.type)})}),Xe.jsxs("div",{children:[Xe.jsx("p",{className:"font-medium text-gray-900",children:e.title}),Xe.jsx("p",{className:"text-xs text-gray-500",children:e.alt||e.title})]})]})}),Xe.jsx("td",{className:"px-4 py-3 text-gray-700",children:Xe.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Y(e.type)}`,children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})}),Xe.jsx("td",{className:"px-4 py-3 text-gray-700",children:X(e.fileSize)}),Xe.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.uploadedBy}),Xe.jsx("td",{className:"px-4 py-3 text-center",children:Xe.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Xe.jsx(O,{className:"w-4 h-4"})}),Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Xe.jsx(D,{className:"w-4 h-4"})}),Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",children:Xe.jsx(S,{className:"w-4 h-4"})}),Xe.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:()=>H(e.id),children:Xe.jsx(A,{className:"w-4 h-4"})})]})})]},e.id))})]})}),v>1&&Xe.jsx("div",{className:"flex justify-center mt-6",children:Xe.jsxs("div",{className:"flex items-center space-x-2",children:[Xe.jsx("button",{onClick:()=>y(e=>Math.max(e-1,1)),disabled:1===g,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:Xe.jsx(R,{className:"w-5 h-5 text-gray-600"})}),Array.from({length:v},(e,t)=>t+1).map(e=>Xe.jsx("button",{onClick:()=>y(e),className:"w-10 h-10 rounded-lg "+(g===e?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)),Xe.jsx("button",{onClick:()=>y(e=>Math.min(e+1,v)),disabled:g===v,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:Xe.jsx(L,{className:"w-5 h-5 text-gray-600"})})]})}),N&&Xe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full",children:[Xe.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Xe.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upload de Arquivo"}),Xe.jsx("button",{onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600",children:Xe.jsx(B,{className:"w-6 h-6"})})]}),Xe.jsxs("div",{className:"p-6",children:[Xe.jsxs("div",{className:"mb-6",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um arquivo"}),Xe.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[U?Xe.jsxs("div",{className:"flex flex-col items-center",children:[Xe.jsx("img",{src:U,alt:"Preview",className:"max-h-40 mb-4 rounded"}),Xe.jsx("p",{className:"text-sm text-gray-500",children:null==$?void 0:$.name})]}):Xe.jsxs("div",{className:"flex flex-col items-center",children:[Xe.jsx(P,{className:"w-12 h-12 text-gray-400 mb-2"}),Xe.jsx("p",{className:"text-gray-500",children:"Arraste um arquivo ou clique para selecionar"})]}),Xe.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)if(q(r),r.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{var t;F(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(r)}else F(null)}})]})]}),Xe.jsxs("div",{className:"mb-6",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),Xe.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Digite um título para o arquivo"})]}),Xe.jsxs("div",{className:"mb-6",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto alternativo"}),Xe.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Descreva o conteúdo do arquivo (para acessibilidade)"})]})]}),Xe.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[Xe.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),Xe.jsx("button",{onClick:async()=>{z(!1),q(null),F(null)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",disabled:!$,children:"Fazer Upload"})]})]})})]})},Gt=()=>{const[e,t]=a.useState(""),[r,n]=a.useState(""),[i,o]=a.useState(""),[s,l]=a.useState(null),[c,u]=a.useState(""),[d,f]=a.useState(!1),[p,m]=a.useState(!1),[g,y]=a.useState([]),[v,b]=a.useState(!1);a.useEffect(()=>{j()},[]);const j=()=>{const e=localStorage.getItem("r10_instagram_posts");if(e)try{y(JSON.parse(e))}catch(t){}},S=e=>{const t=[e,...g.slice(0,9)];y(t),localStorage.setItem("r10_instagram_posts",JSON.stringify(t))};async function A(){if(e.trim()){m(!0);try{const t=await fetch("http://localhost:8080/api/social/generate-caption",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r})}),n=await t.json();n.ok&&n.caption?u(n.caption):u(`${e}\n\n📰 Confira mais notícias em R10piaui.com\n\n#R10Piauí #Notícias #Piauí`)}catch(t){u(`${e}\n\n📰 Confira mais notícias em R10piaui.com\n\n#R10Piauí #Notícias #Piauí`)}finally{m(!1)}}}return Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[Xe.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:Xe.jsx(w,{className:"w-6 h-6 text-white"})}),Xe.jsxs("div",{className:"flex-1",children:[Xe.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gerador de Cards Instagram"}),Xe.jsx("p",{className:"text-gray-600 text-sm",children:"Crie e publique cards automaticamente com IA"})]}),Xe.jsxs("button",{onClick:()=>b(!v),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[Xe.jsx(z,{className:"w-4 h-4"}),"Histórico (",g.length,")"]})]}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapéu"}),Xe.jsx("input",{value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ex.: POLÍCIA"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),Xe.jsx("textarea",{value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Digite o título da notícia",required:!0})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem (opcional)"}),Xe.jsx("input",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.jpg"}),Xe.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se não informada, será usada uma imagem aleatória"})]}),Xe.jsxs("div",{className:"flex gap-3",children:[Xe.jsxs("button",{onClick:async function(){if(e.trim()){f(!0);try{const t=await fetch("http://localhost:8080/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r||"NOTÍCIA",imageUrl:i||"https://picsum.photos/1080/1350"})}),n=await t.json();n.ok?(l(n.preview),c||await A()):alert("Erro ao gerar preview: "+JSON.stringify(n.error))}catch(t){alert("Erro: "+t)}finally{f(!1)}}else alert("Por favor, digite um título")},disabled:d||!e.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d?Xe.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):Xe.jsx(O,{className:"w-4 h-4"}),d?"Gerando...":"Gerar Preview"]}),Xe.jsxs("button",{onClick:async function(){if(!s)return void alert("Gere um preview primeiro");if(!c.trim())return void alert("Por favor, adicione uma legenda");f(!0);const a=(new Date).toISOString();try{const i=await fetch("http://localhost:8080/api/social/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r,caption:c})}),s=await i.json();if(s.ok&&s.postId){const r={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:s.postId,publishedAt:a,status:"success"};S(r),alert(`✅ Publicado no Instagram com sucesso!\n\nID: ${s.postId}\nTítulo: ${e}`),t(""),n(""),o(""),l(null),u("")}else{const t={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:"ERRO",publishedAt:a,status:"error"};S(t),alert("❌ Falha na publicação: "+JSON.stringify(s.error||s))}}catch(i){const t={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:"ERRO",publishedAt:a,status:"error"};S(t),alert("❌ Erro: "+i)}finally{f(!1)}},disabled:d||!s,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d?Xe.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):Xe.jsx(w,{className:"w-4 h-4"}),d?"Publicando...":"Publicar"]})]})]}),Xe.jsx("div",{className:"space-y-4",children:s?Xe.jsxs("div",{children:[Xe.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview do Card"}),Xe.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:Xe.jsx("img",{src:s,alt:"Preview do card",className:"w-64 mx-auto rounded-lg shadow-lg"})}),Xe.jsxs("div",{className:"mt-4",children:[Xe.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Legenda"}),Xe.jsxs("button",{onClick:A,disabled:p||!e.trim(),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50 transition-colors",children:[p?Xe.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t border-b border-blue-700"}):Xe.jsx(x,{className:"w-3 h-3"}),p?"Gerando...":"IA"]})]}),Xe.jsx("textarea",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Legenda será gerada automaticamente..."}),Xe.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length," caracteres"]})]})]}):Xe.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[Xe.jsx(N,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Xe.jsx("p",{className:"text-gray-500",children:'Preencha o título e clique em "Gerar Preview" para ver o card'})]})})]})]}),v&&g.length>0&&Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[Xe.jsx(z,{className:"w-5 h-5"}),"Últimas Publicações"]}),Xe.jsx("div",{className:"space-y-3",children:g.map(e=>Xe.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:["success"===e.status?Xe.jsx($,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):Xe.jsx(q,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),Xe.jsxs("div",{className:"flex-1 min-w-0",children:[Xe.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.title}),Xe.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.publishedAt).toLocaleString("pt-BR")})]}),"success"===e.status&&"ERRO"!==e.instagramPostId&&Xe.jsxs("a",{href:`https://www.instagram.com/p/${e.instagramPostId}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",children:[Xe.jsx(h,{className:"w-3 h-3"}),"Ver Post"]})]},e.id))})]}),Xe.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl border border-purple-200 p-6",children:[Xe.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Xe.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-400 rounded-lg flex items-center justify-center",children:Xe.jsx(w,{className:"w-5 h-5 text-white"})}),Xe.jsxs("div",{children:[Xe.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Stories Instagram"}),Xe.jsx("p",{className:"text-sm text-gray-600",children:"Em breve: Criação automática de Stories com links clicáveis"})]})]}),Xe.jsx("div",{className:"bg-white/50 rounded-lg p-4 text-center",children:Xe.jsx("p",{className:"text-gray-500 text-sm",children:"🚧 Funcionalidade em desenvolvimento"})})]})]})};function Wt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Wt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Wt(e))&&(n&&(n+=" "),n+=t);return n}var Ht=Array.isArray,Xt="object"==typeof s&&s&&s.Object===Object&&s,Kt=Xt,Yt="object"==typeof self&&self&&self.Object===Object&&self,Jt=Kt||Yt||Function("return this")(),Qt=Jt.Symbol,Zt=Qt,er=Object.prototype,tr=er.hasOwnProperty,rr=er.toString,nr=Zt?Zt.toStringTag:void 0;var ar=function(e){var t=tr.call(e,nr),r=e[nr];try{e[nr]=void 0;var n=!0}catch(i){}var a=rr.call(e);return n&&(t?e[nr]=r:delete e[nr]),a},ir=Object.prototype.toString;var or=ar,sr=function(e){return ir.call(e)},lr=Qt?Qt.toStringTag:void 0;var cr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":lr&&lr in Object(e)?or(e):sr(e)};var ur=function(e){return null!=e&&"object"==typeof e},dr=cr,fr=ur;var pr=function(e){return"symbol"==typeof e||fr(e)&&"[object Symbol]"==dr(e)},hr=Ht,mr=pr,gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yr=/^\w*$/;var vr=function(e,t){if(hr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!mr(e))||(yr.test(e)||!gr.test(e)||null!=t&&e in Object(t))};var xr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const br=l(xr);var jr=cr,wr=xr;var Nr=function(e){if(!wr(e))return!1;var t=jr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Or=l(Nr);var Sr,Ar=Jt["__core-js_shared__"],Pr=(Sr=/[^.]+$/.exec(Ar&&Ar.keys&&Ar.keys.IE_PROTO||""))?"Symbol(src)_1."+Sr:"";var kr=function(e){return!!Pr&&Pr in e},Er=Function.prototype.toString;var Tr=function(e){if(null!=e){try{return Er.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Cr=Nr,Mr=kr,_r=xr,Ir=Tr,Dr=/^\[object .+?Constructor\]$/,Rr=Function.prototype,Lr=Object.prototype,Br=Rr.toString,zr=Lr.hasOwnProperty,$r=RegExp("^"+Br.call(zr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var qr=function(e){return!(!_r(e)||Mr(e))&&(Cr(e)?$r:Dr).test(Ir(e))},Ur=function(e,t){return null==e?void 0:e[t]};var Fr=function(e,t){var r=Ur(e,t);return qr(r)?r:void 0},Gr=Fr(Object,"create"),Wr=Gr;var Vr=function(){this.__data__=Wr?Wr(null):{},this.size=0};var Hr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xr=Gr,Kr=Object.prototype.hasOwnProperty;var Yr=function(e){var t=this.__data__;if(Xr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Kr.call(t,e)?t[e]:void 0},Jr=Gr,Qr=Object.prototype.hasOwnProperty;var Zr=Gr;var en=Vr,tn=Hr,rn=Yr,nn=function(e){var t=this.__data__;return Jr?void 0!==t[e]:Qr.call(t,e)},an=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zr&&void 0===t?"__lodash_hash_undefined__":t,this};function on(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}on.prototype.clear=en,on.prototype.delete=tn,on.prototype.get=rn,on.prototype.has=nn,on.prototype.set=an;var sn=on;var ln=function(){this.__data__=[],this.size=0};var cn=function(e,t){return e===t||e!=e&&t!=t},un=cn;var dn=function(e,t){for(var r=e.length;r--;)if(un(e[r][0],t))return r;return-1},fn=dn,pn=Array.prototype.splice;var hn=dn;var mn=dn;var gn=dn;var yn=ln,vn=function(e){var t=this.__data__,r=fn(t,e);return!(r<0)&&(r==t.length-1?t.pop():pn.call(t,r,1),--this.size,!0)},xn=function(e){var t=this.__data__,r=hn(t,e);return r<0?void 0:t[r][1]},bn=function(e){return mn(this.__data__,e)>-1},jn=function(e,t){var r=this.__data__,n=gn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function wn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wn.prototype.clear=yn,wn.prototype.delete=vn,wn.prototype.get=xn,wn.prototype.has=bn,wn.prototype.set=jn;var Nn=wn,On=Fr(Jt,"Map"),Sn=sn,An=Nn,Pn=On;var kn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var En=function(e,t){var r=e.__data__;return kn(t)?r["string"==typeof t?"string":"hash"]:r.map},Tn=En;var Cn=En;var Mn=En;var _n=En;var In=function(){this.size=0,this.__data__={hash:new Sn,map:new(Pn||An),string:new Sn}},Dn=function(e){var t=Tn(this,e).delete(e);return this.size-=t?1:0,t},Rn=function(e){return Cn(this,e).get(e)},Ln=function(e){return Mn(this,e).has(e)},Bn=function(e,t){var r=_n(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function zn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zn.prototype.clear=In,zn.prototype.delete=Dn,zn.prototype.get=Rn,zn.prototype.has=Ln,zn.prototype.set=Bn;var $n=zn,qn=$n;function Un(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Un.Cache||qn),r}Un.Cache=qn;var Fn=Un;const Gn=l(Fn);var Wn=Fn;var Vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hn=/\\(\\)?/g,Xn=function(e){var t=Wn(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Vn,function(e,r,n,a){t.push(n?a.replace(Hn,"$1"):r||e)}),t});var Kn=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Yn=Kn,Jn=Ht,Qn=pr,Zn=Qt?Qt.prototype:void 0,ea=Zn?Zn.toString:void 0;var ta=function e(t){if("string"==typeof t)return t;if(Jn(t))return Yn(t,e)+"";if(Qn(t))return ea?ea.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},ra=ta;var na=function(e){return null==e?"":ra(e)},aa=Ht,ia=vr,oa=Xn,sa=na;var la=function(e,t){return aa(e)?e:ia(e,t)?[e]:oa(sa(e))},ca=pr;var ua=function(e){if("string"==typeof e||ca(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},da=la,fa=ua;var pa=function(e,t){for(var r=0,n=(t=da(t,e)).length;null!=e&&r<n;)e=e[fa(t[r++])];return r&&r==n?e:void 0},ha=pa;var ma=function(e,t,r){var n=null==e?void 0:ha(e,t);return void 0===n?r:n};const ga=l(ma);const ya=l(function(e){return null==e});var va=cr,xa=Ht,ba=ur;const ja=l(function(e){return"string"==typeof e||!xa(e)&&ba(e)&&"[object String]"==va(e)});var wa,Na={exports:{}},Oa={},Sa=Symbol.for("react.element"),Aa=Symbol.for("react.portal"),Pa=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),Ta=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Ma=Symbol.for("react.server_context"),_a=Symbol.for("react.forward_ref"),Ia=Symbol.for("react.suspense"),Da=Symbol.for("react.suspense_list"),Ra=Symbol.for("react.memo"),La=Symbol.for("react.lazy"),Ba=Symbol.for("react.offscreen");function za(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Sa:switch(e=e.type){case Pa:case Ea:case ka:case Ia:case Da:return e;default:switch(e=e&&e.$$typeof){case Ma:case Ca:case _a:case La:case Ra:case Ta:return e;default:return t}}case Aa:return t}}}wa=Symbol.for("react.module.reference"),Oa.ContextConsumer=Ca,Oa.ContextProvider=Ta,Oa.Element=Sa,Oa.ForwardRef=_a,Oa.Fragment=Pa,Oa.Lazy=La,Oa.Memo=Ra,Oa.Portal=Aa,Oa.Profiler=Ea,Oa.StrictMode=ka,Oa.Suspense=Ia,Oa.SuspenseList=Da,Oa.isAsyncMode=function(){return!1},Oa.isConcurrentMode=function(){return!1},Oa.isContextConsumer=function(e){return za(e)===Ca},Oa.isContextProvider=function(e){return za(e)===Ta},Oa.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Sa},Oa.isForwardRef=function(e){return za(e)===_a},Oa.isFragment=function(e){return za(e)===Pa},Oa.isLazy=function(e){return za(e)===La},Oa.isMemo=function(e){return za(e)===Ra},Oa.isPortal=function(e){return za(e)===Aa},Oa.isProfiler=function(e){return za(e)===Ea},Oa.isStrictMode=function(e){return za(e)===ka},Oa.isSuspense=function(e){return za(e)===Ia},Oa.isSuspenseList=function(e){return za(e)===Da},Oa.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Pa||e===Ea||e===ka||e===Ia||e===Da||e===Ba||"object"==typeof e&&null!==e&&(e.$$typeof===La||e.$$typeof===Ra||e.$$typeof===Ta||e.$$typeof===Ca||e.$$typeof===_a||e.$$typeof===wa||void 0!==e.getModuleId)},Oa.typeOf=za,Na.exports=Oa;var $a=Na.exports,qa=cr,Ua=ur;var Fa=function(e){return"number"==typeof e||Ua(e)&&"[object Number]"==qa(e)};const Ga=l(Fa);var Wa=Fa;const Va=l(function(e){return Wa(e)&&e!=+e});var Ha=function(e){return 0===e?0:e>0?1:-1},Xa=function(e){return ja(e)&&e.indexOf("%")===e.length-1},Ka=function(e){return Ga(e)&&!Va(e)},Ya=function(e){return Ka(e)||ja(e)},Ja=0,Qa=function(e){var t=++Ja;return"".concat(e||"").concat(t)},Za=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ka(e)&&!ja(e))return n;if(Xa(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Va(r)&&(r=n),a&&r>t&&(r=t),r},ei=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ti=function(e,t){return Ka(e)&&Ka(t)?function(r){return e+r*(t-e)}:function(){return t}};function ri(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):ga(e,t))===r}):null}var ni=function(e,t){return Ka(e)&&Ka(t)?e-t:ja(e)&&ja(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function ai(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var oi=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],si=["points","pathLength"],li={svg:["viewBox","children"],polygon:si,polyline:si},ci=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ui=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(a.isValidElement(e)&&(r=e.props),!br(r))return null;var n={};return Object.keys(r).forEach(function(e){ci.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},di=function(e,t,r){if(!br(e)||"object"!==ii(e))return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];ci.includes(a)&&"function"==typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))}),n},fi=["children"],pi=["children"];function hi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gi={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yi=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},vi=null,xi=null,bi=function e(t){if(t===vi&&Array.isArray(xi))return xi;var r=[];return a.Children.forEach(t,function(t){ya(t)||($a.isFragment(t)?r=r.concat(e(t.props.children)):r.push(t))}),xi=r,vi=t,r};function ji(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return yi(e)}):[yi(t)],bi(e).forEach(function(e){var t=ga(e,"type.displayName")||ga(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function wi(e,t){var r=ji(e,t);return r&&r[0]}var Ni=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Ka(r)||r<=0||!Ka(n)||n<=0)},Oi=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Si=function(e){return e&&"object"===mi(e)&&"clipDot"in e},Ai=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(a.isValidElement(e)&&(n=e.props),!br(n))return null;var i={};return Object.keys(n).forEach(function(e){var a;(function(e,t,r,n){var a,i=null!==(a=null==li?void 0:li[n])&&void 0!==a?a:[];return t.startsWith("data-")||!Or(e)&&(n&&i.includes(t)||oi.includes(t))||r&&ci.includes(t)})(null===(a=n)||void 0===a?void 0:a[e],e,t,r)&&(i[e]=n[e])}),i},Pi=function e(t,r){if(t===r)return!0;var n=a.Children.count(t);if(n!==a.Children.count(r))return!1;if(0===n)return!0;if(1===n)return ki(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!ki(o,s))return!1}return!0},ki=function(e,t){if(ya(e)&&ya(t))return!0;if(!ya(e)&&!ya(t)){var r=e.props||{},n=r.children,a=hi(r,fi),i=t.props||{},o=i.children,s=hi(i,pi);return n&&o?ai(a,s)&&Pi(n,o):!n&&!o&&ai(a,s)}return!1},Ei=function(e,t){var r=[],n={};return bi(e).forEach(function(e,a){if(function(e){return e&&e.type&&ja(e.type)&&Oi.indexOf(e.type)>=0}(e))r.push(e);else if(e){var i=yi(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!n[i])){var c=s(e,i,a);r.push(c),n[i]=!0}}}),r},Ti=["children","width","height","viewBox","className","style","title","desc"];function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}function Mi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _i(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=Mi(e,Ti),d=a||{width:r,height:n,x:0,y:0},f=Vt("recharts-surface",i);return c.createElement("svg",Ci({},Ai(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),c.createElement("title",null,s),c.createElement("desc",null,l),t)}var Ii=["children","className"];function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function Ri(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Li=c.forwardRef(function(e,t){var r=e.children,n=e.className,a=Ri(e,Ii),i=Vt("recharts-layer",n);return c.createElement("g",Di({className:i},Ai(a,!0),{ref:t}),r)}),Bi=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};var zi=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i};var $i=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:zi(e,t,r)},qi=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ui=function(e){return qi.test(e)};var Fi=function(e){return e.split("")},Gi="\\ud800-\\udfff",Wi="["+Gi+"]",Vi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Hi="\\ud83c[\\udffb-\\udfff]",Xi="[^"+Gi+"]",Ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Yi="[\\ud800-\\udbff][\\udc00-\\udfff]",Ji="(?:"+Vi+"|"+Hi+")"+"?",Qi="[\\ufe0e\\ufe0f]?",Zi=Qi+Ji+("(?:\\u200d(?:"+[Xi,Ki,Yi].join("|")+")"+Qi+Ji+")*"),eo="(?:"+[Xi+Vi+"?",Vi,Ki,Yi,Wi].join("|")+")",to=RegExp(Hi+"(?="+Hi+")|"+eo+Zi,"g");var ro=Fi,no=Ui,ao=function(e){return e.match(to)||[]};var io=$i,oo=Ui,so=function(e){return no(e)?ao(e):ro(e)},lo=na;const co=l(function(e){return function(t){t=lo(t);var r=oo(t)?so(t):void 0,n=r?r[0]:t.charAt(0),a=r?io(r,1).join(""):t.slice(1);return n[e]()+a}}("toUpperCase"));function uo(e){return function(){return e}}const fo=Math.cos,po=Math.sin,ho=Math.sqrt,mo=Math.PI,go=2*mo,yo=Math.PI,vo=2*yo,xo=1e-6,bo=vo-xo;function jo(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class wo{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?jo:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return jo;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>xo)if(Math.abs(u*s-l*c)>xo&&a){let f=r-i,p=n-o,h=s*s+l*l,m=f*f+p*p,g=Math.sqrt(h),y=Math.sqrt(d),v=a*Math.tan((yo-Math.acos((h+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>xo&&this._append`L${e+x*c},${t+x*u}`,this._append`A${a},${a},0,0,${+(u*f>c*p)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>xo||Math.abs(this._y1-c)>xo)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%vo+vo),d>bo?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>xo&&this._append`A${r},${r},0,${+(d>=yo)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function No(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new wo(t)}function Oo(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function So(e){this._context=e}function Ao(e){return new So(e)}function Po(e){return e[0]}function ko(e){return e[1]}function Eo(e,t){var r=uo(!0),n=null,a=Ao,i=null,o=No(s);function s(s){var l,c,u,d=(s=Oo(s)).length,f=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?Po:uo(e),t="function"==typeof t?t:void 0===t?ko:uo(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:uo(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:uo(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:uo(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function To(e,t,r){var n=null,a=uo(!0),i=null,o=Ao,s=null,l=No(c);function c(c){var u,d,f,p,h,m=(c=Oo(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(h=l())),u=0;u<=m;++u){if(!(u<m&&a(p=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(y[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(p,u,c),v[u]=+t(p,u,c),s.point(n?+n(p,u,c):y[u],r?+r(p,u,c):v[u]))}if(h)return s=null,h+""||null}function u(){return Eo().defined(a).curve(o).context(i)}return e="function"==typeof e?e:void 0===e?Po:uo(+e),t="function"==typeof t?t:uo(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?ko:uo(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:uo(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:uo(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:uo(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:uo(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:uo(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:uo(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:uo(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}So.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Co{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Mo={draw(e,t){const r=ho(t/mo);e.moveTo(r,0),e.arc(0,0,r,0,go)}},_o={draw(e,t){const r=ho(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Io=ho(1/3),Do=2*Io,Ro={draw(e,t){const r=ho(t/Do),n=r*Io;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Lo={draw(e,t){const r=ho(t),n=-r/2;e.rect(n,n,r,r)}},Bo=po(mo/10)/po(7*mo/10),zo=po(go/10)*Bo,$o=-fo(go/10)*Bo,qo={draw(e,t){const r=ho(.8908130915292852*t),n=zo*r,a=$o*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=go*i/5,o=fo(t),s=po(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},Uo=ho(3),Fo={draw(e,t){const r=-ho(t/(3*Uo));e.moveTo(0,2*r),e.lineTo(-Uo*r,-r),e.lineTo(Uo*r,-r),e.closePath()}},Go=-.5,Wo=ho(3)/2,Vo=1/ho(12),Ho=3*(Vo/2+1),Xo={draw(e,t){const r=ho(t/Ho),n=r/2,a=r*Vo,i=n,o=r*Vo+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Go*n-Wo*a,Wo*n+Go*a),e.lineTo(Go*i-Wo*o,Wo*i+Go*o),e.lineTo(Go*s-Wo*l,Wo*s+Go*l),e.lineTo(Go*n+Wo*a,Go*a-Wo*n),e.lineTo(Go*i+Wo*o,Go*o-Wo*i),e.lineTo(Go*s+Wo*l,Go*l-Wo*s),e.closePath()}};function Ko(){}function Yo(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Jo(e){this._context=e}function Qo(e){this._context=e}function Zo(e){this._context=e}function es(e){this._context=e}function ts(e){return e<0?-1:1}function rs(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(ts(i)+ts(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function ns(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function as(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function is(e){this._context=e}function os(e){this._context=new ss(e)}function ss(e){this._context=e}function ls(e){this._context=e}function cs(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function us(e,t){this._context=e,this._t=t}function ds(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function fs(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ps(e,t){return e[t]}function hs(e){const t=[];return t.key=e,t}function ms(e){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Qo.prototype={areaStart:Ko,areaEnd:Ko,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yo(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},es.prototype={areaStart:Ko,areaEnd:Ko,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:as(this,this._t0,ns(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,as(this,ns(this,r=rs(this,e,t)),r);break;default:as(this,this._t0,r=rs(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(os.prototype=Object.create(is.prototype)).point=function(e,t){is.prototype.point.call(this,t,e)},ss.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=cs(e),a=cs(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},us.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var gs=["type","size","sizeType"];function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(r),!0).forEach(function(t){bs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bs(e,t,r){var n;return n=function(e,t){if("object"!=ms(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ms(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ms(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function js(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ws={symbolCircle:Mo,symbolCross:_o,symbolDiamond:Ro,symbolSquare:Lo,symbolStar:qo,symbolTriangle:Fo,symbolWye:Xo},Ns=Math.PI/180,Os=function(e){var t,r,n=e.type,a=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,s=e.sizeType,l=void 0===s?"area":s,u=xs(xs({},js(e,gs)),{},{type:a,size:o,sizeType:l}),d=u.className,f=u.cx,p=u.cy,h=Ai(u,!0);return f===+f&&p===+p&&o===+o?c.createElement("path",ys({},h,{className:Vt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:(t=function(e){var t="symbol".concat(co(e));return ws[t]||Mo}(a),r=function(e,t){let r=null,n=No(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:uo(e||Mo),t="function"==typeof t?t:uo(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:uo(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:uo(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(t).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Ns;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,l,a)),r())})):null};function Ss(e){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},As.apply(this,arguments)}function Ps(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ks(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Is(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Es(e,t,r){return t=Cs(t),function(e,t){if(t&&("object"===Ss(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ts()?Reflect.construct(t,r||[],Cs(e).constructor):t.apply(e,r))}function Ts(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ts=function(){return!!e})()}function Cs(e){return(Cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ms(e,t){return(Ms=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _s(e,t,r){return(t=Is(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Is(e){var t=function(e,t){if("object"!=Ss(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ss(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ss(t)?t:t+""}Os.registerSymbol=function(e,t){ws["symbol".concat(co(e))]=t};var Ds=32,Rs=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Es(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ms(e,t)}(e,a.PureComponent),ks(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Ds/6,a=Ds/3,i=e.inactive?t:e.color;if("plainline"===e.type)return c.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Ds,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return c.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Ds,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return c.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Ds,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(c.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(r),!0).forEach(function(t){_s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ps(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,c.cloneElement(e.legendIcon,o)}return c.createElement(Os,{fill:i,cx:r,cy:r,size:Ds,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,o=t.inactiveColor,s={x:0,y:0,width:Ds,height:Ds},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var a=t.formatter||i,d=Vt(_s(_s({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var f=Or(t.value)?null:t.value;Bi(!Or(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?o:t.color;return c.createElement("li",As({className:d,style:l,key:"legend-item-".concat(r)},di(e.props,t,r)),c.createElement(_i,{width:n,height:n,viewBox:s,style:u},e.renderIcon(t)),c.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},a?a(f,t,r):f))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return c.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();_s(Rs,"displayName","Legend"),_s(Rs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ls=Nn;var Bs=Nn,zs=On,$s=$n;var qs=Nn,Us=function(){this.__data__=new Ls,this.size=0},Fs=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gs=function(e){return this.__data__.get(e)},Ws=function(e){return this.__data__.has(e)},Vs=function(e,t){var r=this.__data__;if(r instanceof Bs){var n=r.__data__;if(!zs||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $s(n)}return r.set(e,t),this.size=r.size,this};function Hs(e){var t=this.__data__=new qs(e);this.size=t.size}Hs.prototype.clear=Us,Hs.prototype.delete=Fs,Hs.prototype.get=Gs,Hs.prototype.has=Ws,Hs.prototype.set=Vs;var Xs=Hs;var Ks=$n,Ys=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Js=function(e){return this.__data__.has(e)};function Qs(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ks;++t<r;)this.add(e[t])}Qs.prototype.add=Qs.prototype.push=Ys,Qs.prototype.has=Js;var Zs=Qs;var el=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var tl=function(e,t){return e.has(t)},rl=Zs,nl=el,al=tl;var il=function(e,t,r,n,a,i){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,p=2&r?new rl:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],m=t[d];if(n)var g=o?n(m,h,d,t,e,i):n(h,m,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!nl(t,function(e,t){if(!al(p,t)&&(h===e||a(h,e,r,n,i)))return p.push(t)})){f=!1;break}}else if(h!==m&&!a(h,m,r,n,i)){f=!1;break}}return i.delete(e),i.delete(t),f};var ol=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},sl=Jt.Uint8Array,ll=cn,cl=il,ul=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},dl=ol,fl=Qt?Qt.prototype:void 0,pl=fl?fl.valueOf:void 0;var hl=function(e,t,r,n,a,i,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new sl(e),new sl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ll(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ul;case"[object Set]":var l=1&n;if(s||(s=dl),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var u=cl(s(e),s(t),n,a,i,o);return o.delete(e),u;case"[object Symbol]":if(pl)return pl.call(e)==pl.call(t)}return!1};var ml=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},gl=ml,yl=Ht;var vl=function(e,t,r){var n=t(e);return yl(e)?n:gl(n,r(e))};var xl=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i},bl=function(){return[]},jl=Object.prototype.propertyIsEnumerable,wl=Object.getOwnPropertySymbols,Nl=wl?function(e){return null==e?[]:(e=Object(e),xl(wl(e),function(t){return jl.call(e,t)}))}:bl;var Ol=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Sl=cr,Al=ur;var Pl,kl,El,Tl,Cl,Ml,_l,Il,Dl=function(e){return Al(e)&&"[object Arguments]"==Sl(e)},Rl=ur,Ll=Object.prototype,Bl=Ll.hasOwnProperty,zl=Ll.propertyIsEnumerable,$l=Dl(function(){return arguments}())?Dl:function(e){return Rl(e)&&Bl.call(e,"callee")&&!zl.call(e,"callee")},ql={exports:{}};Pl=ql,El=Jt,Tl=function(){return!1},Cl=(kl=ql.exports)&&!kl.nodeType&&kl,Ml=Cl&&Pl&&!Pl.nodeType&&Pl,_l=Ml&&Ml.exports===Cl?El.Buffer:void 0,Il=(_l?_l.isBuffer:void 0)||Tl,Pl.exports=Il;var Ul=ql.exports,Fl=/^(?:0|[1-9]\d*)$/;var Gl=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Fl.test(e))&&e>-1&&e%1==0&&e<t};var Wl=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Vl=cr,Hl=Wl,Xl=ur,Kl={};Kl["[object Float32Array]"]=Kl["[object Float64Array]"]=Kl["[object Int8Array]"]=Kl["[object Int16Array]"]=Kl["[object Int32Array]"]=Kl["[object Uint8Array]"]=Kl["[object Uint8ClampedArray]"]=Kl["[object Uint16Array]"]=Kl["[object Uint32Array]"]=!0,Kl["[object Arguments]"]=Kl["[object Array]"]=Kl["[object ArrayBuffer]"]=Kl["[object Boolean]"]=Kl["[object DataView]"]=Kl["[object Date]"]=Kl["[object Error]"]=Kl["[object Function]"]=Kl["[object Map]"]=Kl["[object Number]"]=Kl["[object Object]"]=Kl["[object RegExp]"]=Kl["[object Set]"]=Kl["[object String]"]=Kl["[object WeakMap]"]=!1;var Yl=function(e){return Xl(e)&&Hl(e.length)&&!!Kl[Vl(e)]};var Jl=function(e){return function(t){return e(t)}},Ql={exports:{}};!function(e,t){var r=Xt,n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&r.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o}(Ql,Ql.exports);var Zl=Ql.exports,ec=Yl,tc=Jl,rc=Zl&&Zl.isTypedArray,nc=rc?tc(rc):ec,ac=Ol,ic=$l,oc=Ht,sc=Ul,lc=Gl,cc=nc,uc=Object.prototype.hasOwnProperty;var dc=function(e,t){var r=oc(e),n=!r&&ic(e),a=!r&&!n&&sc(e),i=!r&&!n&&!a&&cc(e),o=r||n||a||i,s=o?ac(e.length,String):[],l=s.length;for(var c in e)!t&&!uc.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||lc(c,l))||s.push(c);return s},fc=Object.prototype;var pc=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fc)};var hc=function(e,t){return function(r){return e(t(r))}},mc=hc(Object.keys,Object),gc=pc,yc=mc,vc=Object.prototype.hasOwnProperty;var xc=Nr,bc=Wl;var jc=function(e){return null!=e&&bc(e.length)&&!xc(e)},wc=dc,Nc=function(e){if(!gc(e))return yc(e);var t=[];for(var r in Object(e))vc.call(e,r)&&"constructor"!=r&&t.push(r);return t},Oc=jc;var Sc=function(e){return Oc(e)?wc(e):Nc(e)},Ac=vl,Pc=Nl,kc=Sc;var Ec=function(e){return Ac(e,kc,Pc)},Tc=Object.prototype.hasOwnProperty;var Cc=function(e,t,r,n,a,i){var o=1&r,s=Ec(e),l=s.length;if(l!=Ec(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:Tc.call(t,u)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var h=o;++c<l;){var m=e[u=s[c]],g=t[u];if(n)var y=o?n(g,m,u,t,e,i):n(m,g,u,e,t,i);if(!(void 0===y?m===g||a(m,g,r,n,i):y)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var v=e.constructor,x=t.constructor;v==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof x&&x instanceof x||(p=!1)}return i.delete(e),i.delete(t),p},Mc=Fr(Jt,"DataView"),_c=Fr(Jt,"Promise"),Ic=Fr(Jt,"Set"),Dc=Mc,Rc=On,Lc=_c,Bc=Ic,zc=Fr(Jt,"WeakMap"),$c=cr,qc=Tr,Uc="[object Map]",Fc="[object Promise]",Gc="[object Set]",Wc="[object WeakMap]",Vc="[object DataView]",Hc=qc(Dc),Xc=qc(Rc),Kc=qc(Lc),Yc=qc(Bc),Jc=qc(zc),Qc=$c;(Dc&&Qc(new Dc(new ArrayBuffer(1)))!=Vc||Rc&&Qc(new Rc)!=Uc||Lc&&Qc(Lc.resolve())!=Fc||Bc&&Qc(new Bc)!=Gc||zc&&Qc(new zc)!=Wc)&&(Qc=function(e){var t=$c(e),r="[object Object]"==t?e.constructor:void 0,n=r?qc(r):"";if(n)switch(n){case Hc:return Vc;case Xc:return Uc;case Kc:return Fc;case Yc:return Gc;case Jc:return Wc}return t});var Zc=Xs,eu=il,tu=hl,ru=Cc,nu=Qc,au=Ht,iu=Ul,ou=nc,su="[object Arguments]",lu="[object Array]",cu="[object Object]",uu=Object.prototype.hasOwnProperty;var du=function(e,t,r,n,a,i){var o=au(e),s=au(t),l=o?lu:nu(e),c=s?lu:nu(t),u=(l=l==su?cu:l)==cu,d=(c=c==su?cu:c)==cu,f=l==c;if(f&&iu(e)){if(!iu(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new Zc),o||ou(e)?eu(e,t,r,n,a,i):tu(e,t,l,r,n,a,i);if(!(1&r)){var p=u&&uu.call(e,"__wrapped__"),h=d&&uu.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,g=h?t.value():t;return i||(i=new Zc),a(m,g,r,n,i)}}return!!f&&(i||(i=new Zc),ru(e,t,r,n,a,i))},fu=ur;var pu=function e(t,r,n,a,i){return t===r||(null==t||null==r||!fu(t)&&!fu(r)?t!=t&&r!=r:du(t,r,n,a,e,i))},hu=Xs,mu=pu;var gu=xr;var yu=function(e){return e==e&&!gu(e)},vu=yu,xu=Sc;var bu=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},ju=function(e,t,r,n){var a=r.length,i=a,o=!n;if(null==e)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var l=(s=r[a])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new hu;if(n)var f=n(c,u,l,e,t,d);if(!(void 0===f?mu(u,c,3,n,d):f))return!1}}return!0},wu=function(e){for(var t=xu(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,vu(a)]}return t},Nu=bu;var Ou=la,Su=$l,Au=Ht,Pu=Gl,ku=Wl,Eu=ua;var Tu=function(e,t){return null!=e&&t in Object(e)},Cu=function(e,t,r){for(var n=-1,a=(t=Ou(t,e)).length,i=!1;++n<a;){var o=Eu(t[n]);if(!(i=null!=e&&r(e,o)))break;e=e[o]}return i||++n!=a?i:!!(a=null==e?0:e.length)&&ku(a)&&Pu(o,a)&&(Au(e)||Su(e))};var Mu=pu,_u=ma,Iu=function(e,t){return null!=e&&Cu(e,t,Tu)},Du=vr,Ru=yu,Lu=bu,Bu=ua;var zu=function(e){return e};var $u=pa;var qu=function(e){return function(t){return null==t?void 0:t[e]}},Uu=function(e){return function(t){return $u(t,e)}},Fu=vr,Gu=ua;var Wu=function(e){var t=wu(e);return 1==t.length&&t[0][2]?Nu(t[0][0],t[0][1]):function(r){return r===e||ju(r,e,t)}},Vu=function(e,t){return Du(e)&&Ru(t)?Lu(Bu(e),t):function(r){var n=_u(r,e);return void 0===n&&n===t?Iu(r,e):Mu(t,n,3)}},Hu=zu,Xu=Ht,Ku=function(e){return Fu(e)?qu(Gu(e)):Uu(e)};var Yu=function(e){return"function"==typeof e?e:null==e?Hu:"object"==typeof e?Xu(e)?Vu(e[0],e[1]):Wu(e):Ku(e)};var Ju=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1};var Qu=Ju,Zu=function(e){return e!=e},ed=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1};var td=function(e,t,r){return t==t?ed(e,t,r):Qu(e,Zu,r)};var rd=function(e,t){return!!(null==e?0:e.length)&&td(e,t,0)>-1};var nd=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1};var ad=Ic,id=function(){},od=ad&&1/ol(new ad([,-0]))[1]==1/0?function(e){return new ad(e)}:id,sd=Zs,ld=rd,cd=nd,ud=tl,dd=od,fd=ol;var pd=Yu,hd=function(e,t,r){var n=-1,a=ld,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=cd;else if(i>=200){var c=t?null:dd(e);if(c)return fd(c);o=!1,a=ud,l=new sd}else l=t?[]:s;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s};const md=l(function(e,t){return e&&e.length?hd(e,pd(t)):[]});function gd(e,t,r){return!0===t?md(e,r):Or(t)?md(e,t):e}function yd(e){return(yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var vd=["ref"];function xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(r),!0).forEach(function(t){Ad(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pd(n.key),n)}}function wd(e,t,r){return t=Od(t),function(e,t){if(t&&("object"===yd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Nd()?Reflect.construct(t,r||[],Od(e).constructor):t.apply(e,r))}function Nd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Nd=function(){return!!e})()}function Od(e){return(Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sd(e,t){return(Sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ad(e,t,r){return(t=Pd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pd(e){var t=function(e,t){if("object"!=yd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=yd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==yd(t)?t:t+""}function kd(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ed(e){return e.value}var Td=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ad(t=wd(this,e,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sd(e,t)}(e,a.PureComponent),t=e,n=[{key:"getWithHeight",value:function(e,t){var r=bd(bd({},this.defaultProps),e.props).layout;return"vertical"===r&&Ka(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?bd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),bd(bd({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,o=t.payloadUniqBy,s=t.payload,l=bd(bd({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return c.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(c.isValidElement(e))return c.cloneElement(e,t);if("function"==typeof e)return c.createElement(e,t);t.ref;var r=kd(t,vd);return c.createElement(Rs,r)}(r,bd(bd({},this.props),{},{payload:gd(s,o,Ed)})))}}])&&jd(t.prototype,r),n&&jd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Ad(Td,"displayName","Legend"),Ad(Td,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Cd=$l,Md=Ht,_d=Qt?Qt.isConcatSpreadable:void 0;var Id=ml,Dd=function(e){return Md(e)||Cd(e)||!!(_d&&e&&e[_d])};var Rd=function e(t,r,n,a,i){var o=-1,s=t.length;for(n||(n=Dd),i||(i=[]);++o<s;){var l=t[o];r>0&&n(l)?r>1?e(l,r-1,n,a,i):Id(i,l):a||(i[i.length]=l)}return i};var Ld=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===r(i[l],l,i))break}return t}}(),Bd=Sc;var zd=function(e,t){return e&&Ld(e,t,Bd)},$d=jc;var qd=function(e,t){return function(r,n){if(null==r)return r;if(!$d(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&!1!==n(o[i],i,o););return r}}(zd),Ud=qd,Fd=jc;var Gd=function(e,t){var r=-1,n=Fd(e)?Array(e.length):[];return Ud(e,function(e,a,i){n[++r]=t(e,a,i)}),n};var Wd=pr;var Vd=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,a=e==e,i=Wd(e),o=void 0!==t,s=null===t,l=t==t,c=Wd(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0};var Hd=Kn,Xd=pa,Kd=Yu,Yd=Gd,Jd=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},Qd=Jl,Zd=function(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=Vd(a[n],i[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index},ef=zu,tf=Ht;var rf=function(e,t,r){t=t.length?Hd(t,function(e){return tf(e)?function(t){return Xd(t,1===e.length?e[0]:e)}:e}):[ef];var n=-1;t=Hd(t,Qd(Kd));var a=Yd(e,function(e,r,a){return{criteria:Hd(t,function(t){return t(e)}),index:++n,value:e}});return Jd(a,function(e,t){return Zd(e,t,r)})};var nf=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},af=Math.max;var of=function(e,t,r){return t=af(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=af(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),nf(e,this,s)}};var sf=function(e){return function(){return e}},lf=Fr,cf=function(){try{var e=lf(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),uf=sf,df=cf,ff=df?function(e,t){return df(e,"toString",{configurable:!0,enumerable:!1,value:uf(t),writable:!0})}:zu,pf=Date.now;var hf=function(e){var t=0,r=0;return function(){var n=pf(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ff),mf=zu,gf=of,yf=hf;var vf=cn,xf=jc,bf=Gl,jf=xr;var wf=function(e,t,r){if(!jf(r))return!1;var n=typeof t;return!!("number"==n?xf(r)&&bf(t,r.length):"string"==n&&t in r)&&vf(r[t],e)},Nf=Rd,Of=rf,Sf=wf;const Af=l(function(e,t){return yf(gf(e,t,mf),e+"")}(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Sf(e,t[0],t[1])?t=[]:r>2&&Sf(t[0],t[1],t[2])&&(t=[t[0]]),Of(e,Nf(t,1),[])}));function Pf(e){return(Pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kf.apply(this,arguments)}function Ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cf(Object(r),!0).forEach(function(t){_f(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _f(e,t,r){var n;return n=function(e,t){if("object"!=Pf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Pf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Pf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function If(e){return Array.isArray(e)&&Ya(e[0])&&Ya(e[1])?e.join(" ~ "):e}var Df=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,i=e.itemStyle,o=void 0===i?{}:i,s=e.labelStyle,l=void 0===s?{}:s,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=Mf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=Mf({margin:0},l),j=!ya(m),w=j?m:"",N=Vt("recharts-default-tooltip",p),O=Vt("recharts-tooltip-label",h);j&&g&&null!=u&&(w=g(m,u));var S=v?{role:"status","aria-live":"assertive"}:{};return c.createElement("div",kf({className:N,style:x},S),c.createElement("p",{className:O,style:b},c.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(f?Af(u,f):u).map(function(e,t){if("none"===e.type)return null;var n=Mf({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),a=e.formatter||d||If,i=e.value,s=e.name,l=i,f=s;if(a&&null!=l&&null!=f){var p=a(i,s,e,t,u);if(Array.isArray(p)){var h=Ef(p,2);l=h[0],f=h[1]}else l=p}return c.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},Ya(f)?c.createElement("span",{className:"recharts-tooltip-item-name"},f):null,Ya(f)?c.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,c.createElement("span",{className:"recharts-tooltip-item-value"},l),c.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return c.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Rf(e){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lf(e,t,r){var n;return n=function(e,t){if("object"!=Rf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Rf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Rf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bf="recharts-tooltip-wrapper",zf={visibility:"hidden"};function $f(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Vt(Bf,Lf(Lf(Lf(Lf({},"".concat(Bf,"-right"),Ka(r)&&t&&Ka(t.x)&&r>=t.x),"".concat(Bf,"-left"),Ka(r)&&t&&Ka(t.x)&&r<t.x),"".concat(Bf,"-bottom"),Ka(n)&&t&&Ka(t.y)&&n>=t.y),"".concat(Bf,"-top"),Ka(n)&&t&&Ka(t.y)&&n<t.y))}function qf(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Ka(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;return t[n]?o[n]?u:d:o[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+s>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function Uf(e){return(Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ff(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ff(Object(r),!0).forEach(function(t){Yf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ff(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wf(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jf(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vf(e,t,r){return t=Xf(t),function(e,t){if(t&&("object"===Uf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Hf()?Reflect.construct(t,r||[],Xf(e).constructor):t.apply(e,r))}function Hf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Hf=function(){return!!e})()}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kf(e,t){return(Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Yf(e,t,r){return(t=Jf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jf(e){var t=function(e,t){if("object"!=Uf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Uf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Uf(t)?t:t+""}var Qf=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Yf(t=Vf(this,e,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yf(t,"handleKeyDown",function(e){var r,n,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=t.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kf(e,t)}(e,a.PureComponent),Wf(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.children,s=t.coordinate,l=t.hasPayload,u=t.isAnimationActive,d=t.offset,f=t.position,p=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=qf({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=qf({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):zf,cssClasses:$f({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),v=y.cssClasses,x=y.cssProperties,b=Gf(Gf({transition:u&&r?"transform ".concat(a,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0},g);return c.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},o)}}])}(),Zf=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function ep(e){return(ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(r),!0).forEach(function(t){lp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function np(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cp(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ap(e,t,r){return t=op(t),function(e,t){if(t&&("object"===ep(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ip()?Reflect.construct(t,r||[],op(e).constructor):t.apply(e,r))}function ip(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ip=function(){return!!e})()}function op(e){return(op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sp(e,t){return(sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lp(e,t,r){return(t=cp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cp(e){var t=function(e,t){if("object"!=ep(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ep(t)?t:t+""}function up(e){return e.dataKey}var dp=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ap(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}(e,a.PureComponent),np(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.content,s=t.coordinate,l=t.filterNull,u=t.isAnimationActive,d=t.offset,f=t.payload,p=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,x=null!=f?f:[];l&&x.length&&(x=gd(f.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,up));var b=x.length>0;return c.createElement(Qf,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:r,coordinate:s,hasPayload:b,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):"function"==typeof e?c.createElement(e,t):c.createElement(Df,t)}(o,rp(rp({},this.props),{},{payload:x})))}}])}();lp(dp,"displayName","Tooltip"),lp(dp,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Zf,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var fp=Jt,pp=/\s/;var hp=function(e){for(var t=e.length;t--&&pp.test(e.charAt(t)););return t},mp=/^\s+/;var gp=function(e){return e?e.slice(0,hp(e)+1).replace(mp,""):e},yp=xr,vp=pr,xp=/^[-+]0x[0-9a-f]+$/i,bp=/^0b[01]+$/i,jp=/^0o[0-7]+$/i,wp=parseInt;var Np=function(e){if("number"==typeof e)return e;if(vp(e))return NaN;if(yp(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=yp(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=gp(e);var r=bp.test(e);return r||jp.test(e)?wp(e.slice(2),r?2:8):xp.test(e)?NaN:+e},Op=xr,Sp=function(){return fp.Date.now()},Ap=Np,Pp=Math.max,kp=Math.min;var Ep=function(e,t,r){var n,a,i,o,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var r=n,i=a;return n=a=void 0,c=t,o=e.apply(i,r)}function h(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-c>=i}function m(){var e=Sp();if(h(e))return g(e);s=setTimeout(m,function(e){var r=t-(e-l);return d?kp(r,i-(e-c)):r}(e))}function g(e){return s=void 0,f&&n?p(e):(n=a=void 0,o)}function y(){var e=Sp(),r=h(e);if(n=arguments,a=this,l=e,r){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Ap(t)||0,Op(r)&&(u=!!r.leading,i=(d="maxWait"in r)?Pp(Ap(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=a=s=void 0},y.flush=function(){return void 0===s?o:g(Sp())},y},Tp=xr;const Cp=l(function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Tp(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ep(e,t,{leading:n,maxWait:t,trailing:a})});function Mp(e){return(Mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ip(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(r),!0).forEach(function(t){Dp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Dp(e,t,r){var n;return n=function(e,t){if("object"!=Mp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Mp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bp=a.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=void 0===n?{width:-1,height:-1}:n,o=e.width,s=void 0===o?"100%":o,l=e.height,u=void 0===l?"100%":l,d=e.minWidth,f=void 0===d?0:d,p=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,y=void 0===g?0:g,v=e.id,x=e.className,b=e.onResize,j=e.style,w=void 0===j?{}:j,N=a.useRef(null),O=a.useRef();O.current=b,a.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return N.current},configurable:!0})});var S=Rp(a.useState({containerWidth:i.width,containerHeight:i.height}),2),A=S[0],P=S[1],k=a.useCallback(function(e,t){P(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);a.useEffect(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;k(n,a),null===(t=O.current)||void 0===t||t.call(O,n,a)};y>0&&(e=Cp(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=N.current.getBoundingClientRect(),n=r.width,a=r.height;return k(n,a),t.observe(N.current),function(){t.disconnect()}},[k,y]);var E=a.useMemo(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;Bi(Xa(s)||Xa(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,u),Bi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=Xa(s)?e:s,i=Xa(u)?t:u;r&&r>0&&(n?i=n/r:i&&(n=i*r),h&&i>h&&(i=h)),Bi(n>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,i,s,u,f,p,r);var o=!Array.isArray(m)&&yi(m.type).endsWith("Chart");return c.Children.map(m,function(e){return c.isValidElement(e)?a.cloneElement(e,Ip({width:n,height:i},o?{style:Ip({height:"100%",width:"100%",maxHeight:i,maxWidth:n},e.props.style)}:{})):e})},[r,m,u,h,p,f,A,s]);return c.createElement("div",{id:v?"".concat(v):void 0,className:Vt("recharts-responsive-container",x),style:Ip(Ip({},w),{},{width:s,height:u,minWidth:f,minHeight:p,maxHeight:h}),ref:N},E)}),zp=function(e){return null};function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qp(Object(r),!0).forEach(function(t){Fp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fp(e,t,r){var n;return n=function(e,t){if("object"!=$p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=$p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$p(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}zp.displayName="Cell";var Gp={widthCache:{},cacheCount:0},Wp={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vp="recharts_measurement_span";var Hp=function(e){if(null==e||Zf)return{width:0,height:0};var t,r=(t=Up({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),n=JSON.stringify({text:e,copyStyle:r});if(Gp.widthCache[n])return Gp.widthCache[n];try{var a=document.getElementById(Vp);a||((a=document.createElement("span")).setAttribute("id",Vp),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=Up(Up({},Wp),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return Gp.widthCache[n]=s,++Gp.cacheCount>2e3&&(Gp.cacheCount=0,Gp.widthCache={}),s}catch(l){return{width:0,height:0}}};function Xp(e){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qp(n.key),n)}}function Qp(e){var t=function(e,t){if("object"!=Xp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Xp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Xp(t)?t:t+""}var Zp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,th=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rh=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nh={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ah=Object.keys(nh),ih="NaN";var oh=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||th.test(r)||(this.num=NaN,this.unit=""),ah.includes(r)&&(this.num=function(e,t){return e*nh[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Kp(null!==(r=rh.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!=i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Jp(t.prototype,r),n&&Jp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function sh(e){if(e.includes(ih))return ih;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Kp(null!==(r=Zp.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],o=n[3],s=oh.parse(null!=a?a:""),l=oh.parse(null!=o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return ih;t=t.replace(Zp,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Kp(null!==(u=eh.exec(t))&&void 0!==u?u:[],4),f=d[1],p=d[2],h=d[3],m=oh.parse(null!=f?f:""),g=oh.parse(null!=h?h:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return ih;t=t.replace(eh,y.toString())}return t}var lh=/\(([^()]*)\)/;function ch(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Kp(lh.exec(t),2)[1];t=t.replace(lh,sh(r))}return t}(t),t=sh(t)}function uh(e){var t=function(e){try{return ch(e)}catch(t){return ih}}(e.slice(5,-1));return t===ih?"":t}var dh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fh=["dx","dy","angle","className","breakAll"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function hh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yh=/[ \f\n\r\t\v\u2028\u2029]+/,vh=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return ya(t)||(a=r?t.toString().split(""):t.toString().split(yh)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Hp(e,n).width}}),spaceWidth:r?0:Hp(" ",n).width}}catch(i){return null}},xh=function(e){return[{words:ya(e)?[]:e.toString().split(yh)}]},bh=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!Zf){var s=vh({breakAll:i,children:n,style:a});return s?function(e,t,r,n,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Ka(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e},[])},f=d(t);if(!c)return f;for(var p,h=function(e){var t=u.slice(0,e),r=vh({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,a=d(r),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[o,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),x=mh(h(v-1),2),b=x[0],j=x[1],w=mh(h(v),1)[0];if(b||w||(m=v+1),b&&w&&(g=v-1),!b&&w){p=j;break}y++}return p||f}({breakAll:i,children:n,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,r):xh(n)}return xh(n)},jh="#808080",wh=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,i=void 0===n?0:n,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,u=void 0===l?"0.71em":l,d=e.scaleToFit,f=void 0!==d&&d,p=e.textAnchor,h=void 0===p?"start":p,m=e.verticalAnchor,g=void 0===m?"end":m,y=e.fill,v=void 0===y?jh:y,x=hh(e,dh),b=a.useMemo(function(){return bh({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),j=x.dx,w=x.dy,N=x.angle,O=x.className,S=x.breakAll,A=hh(x,fh);if(!Ya(r)||!Ya(i))return null;var P,k=r+(Ka(j)?j:0),E=i+(Ka(w)?w:0);switch(g){case"start":P=uh("calc(".concat(u,")"));break;case"middle":P=uh("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=uh("calc(".concat(b.length-1," * -").concat(s,")"))}var T=[];if(f){var C=b[0].width,M=x.width;T.push("scale(".concat((Ka(M)?M/C:1)/C,")"))}return N&&T.push("rotate(".concat(N,", ").concat(k,", ").concat(E,")")),T.length&&(A.transform=T.join(" ")),c.createElement("text",ph({},Ai(A,!0),{x:k,y:E,className:Vt("recharts-text",O),textAnchor:h,fill:v.includes("url")?jh:v}),b.map(function(e,t){var r=e.words.join(S?"":" ");return c.createElement("tspan",{x:k,dy:0===t?P:s,key:"".concat(r,"-").concat(t)},r)}))};function Nh(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Oh(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sh(e){let t,r,n;function a(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Nh,r=(t,r)=>Nh(e(t),r),n=(t,r)=>e(t)-r):(t=e===Nh||e===Oh?e:Ah,r=e,n=e),{left:a,center:function(e,t,r=0,i=e.length){const o=a(e,t,r,i-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Ah(){return 0}function Ph(e){return null===e?NaN:+e}const kh=Sh(Nh).right;Sh(Ph).center;class Eh extends Map{constructor(e,t=Ch){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Th(this,e))}has(e){return super.has(Th(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function Th({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Ch(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Mh(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const _h=Math.sqrt(50),Ih=Math.sqrt(10),Dh=Math.sqrt(2);function Rh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=_h?10:i>=Ih?5:i>=Dh?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Rh(e,t,2*r):[s,l,c]}function Lh(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?Rh(t,e,r):Rh(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Bh(e,t,r){return Rh(e=+e,t=+t,r=+r)[2]}function zh(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Bh(t,e,r):Bh(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $h(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function qh(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function Uh(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Mh:function(e=Nh){if(e===Nh)return Mh;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Uh(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(Fh(e,r,t),a(e[n],i)>0&&Fh(e,r,n);o<s;){for(Fh(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?Fh(e,r,s):(++s,Fh(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Fh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Gh(e,t,r=Ph){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function Wh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Vh(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Hh=Symbol("implicit");function Xh(){var e=new Eh,t=[],r=[],n=Hh;function a(a){let i=e.get(a);if(void 0===i){if(n!==Hh)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Eh;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Xh(t,r).unknown(n)},Wh.apply(a,arguments),a}function Kh(){var e,t,r=Xh().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,f=d?o:i,p=d?i:o;e=(p-f)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),f+=(p-f-e*(r-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var h=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return f+e*t});return a(d?h.reverse():h)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Kh(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Wh.apply(d(),arguments)}function Yh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yh(t())},e}function Jh(){return Yh(Kh.apply(null,arguments).paddingInner(1))}function Qh(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Zh(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function em(){}var tm=.7,rm=1/tm,nm="\\s*([+-]?\\d+)\\s*",am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",im="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",om=/^#([0-9a-f]{3,8})$/,sm=new RegExp(`^rgb\\(${nm},${nm},${nm}\\)$`),lm=new RegExp(`^rgb\\(${im},${im},${im}\\)$`),cm=new RegExp(`^rgba\\(${nm},${nm},${nm},${am}\\)$`),um=new RegExp(`^rgba\\(${im},${im},${im},${am}\\)$`),dm=new RegExp(`^hsl\\(${am},${im},${im}\\)$`),fm=new RegExp(`^hsla\\(${am},${im},${im},${am}\\)$`),pm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hm(){return this.rgb().formatHex()}function mm(){return this.rgb().formatRgb()}function gm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=om.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?ym(t):3===r?new bm(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?vm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?vm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=sm.exec(e))?new bm(t[1],t[2],t[3],1):(t=lm.exec(e))?new bm(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=cm.exec(e))?vm(t[1],t[2],t[3],t[4]):(t=um.exec(e))?vm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=dm.exec(e))?Am(t[1],t[2]/100,t[3]/100,1):(t=fm.exec(e))?Am(t[1],t[2]/100,t[3]/100,t[4]):pm.hasOwnProperty(e)?ym(pm[e]):"transparent"===e?new bm(NaN,NaN,NaN,0):null}function ym(e){return new bm(e>>16&255,e>>8&255,255&e,1)}function vm(e,t,r,n){return n<=0&&(e=t=r=NaN),new bm(e,t,r,n)}function xm(e,t,r,n){return 1===arguments.length?((a=e)instanceof em||(a=gm(a)),a?new bm((a=a.rgb()).r,a.g,a.b,a.opacity):new bm):new bm(e,t,r,null==n?1:n);var a}function bm(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function jm(){return`#${Sm(this.r)}${Sm(this.g)}${Sm(this.b)}`}function wm(){const e=Nm(this.opacity);return`${1===e?"rgb(":"rgba("}${Om(this.r)}, ${Om(this.g)}, ${Om(this.b)}${1===e?")":`, ${e})`}`}function Nm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Om(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sm(e){return((e=Om(e))<16?"0":"")+e.toString(16)}function Am(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new km(e,t,r,n)}function Pm(e){if(e instanceof km)return new km(e.h,e.s,e.l,e.opacity);if(e instanceof em||(e=gm(e)),!e)return new km;if(e instanceof km)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new km(o,s,l,e.opacity)}function km(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Em(e){return(e=(e||0)%360)<0?e+360:e}function Tm(e){return Math.max(0,Math.min(1,e||0))}function Cm(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Qh(em,gm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hm,formatHex:hm,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Pm(this).formatHsl()},formatRgb:mm,toString:mm}),Qh(bm,xm,Zh(em,{brighter(e){return e=null==e?rm:Math.pow(rm,e),new bm(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?tm:Math.pow(tm,e),new bm(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bm(Om(this.r),Om(this.g),Om(this.b),Nm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jm,formatHex:jm,formatHex8:function(){return`#${Sm(this.r)}${Sm(this.g)}${Sm(this.b)}${Sm(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:wm,toString:wm})),Qh(km,function(e,t,r,n){return 1===arguments.length?Pm(e):new km(e,t,r,null==n?1:n)},Zh(em,{brighter(e){return e=null==e?rm:Math.pow(rm,e),new km(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?tm:Math.pow(tm,e),new km(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new bm(Cm(e>=240?e-240:e+120,a,n),Cm(e,a,n),Cm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new km(Em(this.h),Tm(this.s),Tm(this.l),Nm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nm(this.opacity);return`${1===e?"hsl(":"hsla("}${Em(this.h)}, ${100*Tm(this.s)}%, ${100*Tm(this.l)}%${1===e?")":`, ${e})`}`}}));const Mm=e=>()=>e;function _m(e){return 1===(e=+e)?Im:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Mm(isNaN(t)?r:t)}}function Im(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):Mm(isNaN(e)?t:e)}const Dm=function e(t){var r=_m(t);function n(e,t){var n=r((e=xm(e)).r,(t=xm(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=Im(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Rm(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function Lm(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=Gm(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function Bm(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $m(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Gm(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var qm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Um=new RegExp(qm.source,"g");function Fm(e,t){var r,n,a,i=qm.lastIndex=Um.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=qm.exec(e))&&(n=Um.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:zm(r,n)})),i=Um.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function Gm(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?Mm(t):("number"===a?zm:"string"===a?(r=gm(t))?(t=r,Dm):Fm:t instanceof gm?Dm:t instanceof Date?Bm:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Lm:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?$m:zm:Rm))(e,t)}function Wm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vm(e){return+e}var Hm=[0,1];function Xm(e){return e}function Km(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Ym(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Km(a,n),i=r(o,i)):(n=Km(n,a),i=r(i,o)),function(e){return i(n(e))}}function Jm(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Km(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=kh(e,t,1,n)-1;return i[r](a[r](t))}}function Qm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zm(){var e,t,r,n,a,i,o=Hm,s=Hm,l=Gm,c=Xm;function u(){var e,t,r,l=Math.min(o.length,s.length);return c!==Xm&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?Jm:Ym,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),zm)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Vm),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Wm,u()},d.clamp=function(e){return arguments.length?(c=!!e||Xm,u()):c!==Xm},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function eg(){return Zm()(Xm,Xm)}function tg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function rg(e){return(e=tg(Math.abs(e)))?e[1]:NaN}var ng,ag=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ig(e){if(!(t=ag.exec(e)))throw new Error("invalid format: "+e);var t;return new og({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function og(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sg(e,t){var r=tg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}ig.prototype=og.prototype,og.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const lg={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sg(100*e,t),r:sg,s:function(e,t){var r=tg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(ng=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+tg(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cg(e){return e}var ug,dg,fg,pg=Array.prototype.map,hg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mg(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?cg:(t=pg.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?cg:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(pg.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ig(e)).fill,r=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):lg[v]||(void 0===g&&(g=12),y=!0,v="g"),(p||"0"===t&&"="===r)&&(p=!0,t="0",r="=");var x="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?i:/[%p]/.test(v)?l:"",j=lg[v],w=/[defgprs%]/.test(v);function N(e){var a,i,l,f=x,N=b;if("c"===v)N=j(e)+N,e="";else{var O=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),O&&0===+e&&"+"!==d&&(O=!1),f=(O?"("===d?d:c:"-"===d||"("===d?"":d)+f,N=("s"===v?hg[8+ng/3]:"")+N+(O&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!p&&(e=n(e,1/0));var S=f.length+e.length+N.length,A=S<h?new Array(h-S+1).join(t):"";switch(m&&p&&(e=n(A+e,A.length?h-N.length:1/0),A=""),r){case"<":e=f+e+N+A;break;case"=":e=f+A+e+N;break;case"^":e=A.slice(0,S=A.length>>1)+f+e+N+A.slice(S);break;default:e=A+f+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=ig(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(rg(t)/3))),a=Math.pow(10,-n),i=hg[8+n/3];return function(e){return r(a*e)+i}}}}function gg(e,t,r,n){var a,i=zh(e,t,r);switch((n=ig(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rg(t)/3)))-rg(Math.abs(e)))}(i,o))||(n.precision=a),fg(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rg(t)-rg(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-rg(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return dg(n)}function yg(e){var t=e.domain;return e.ticks=function(e){var r=t();return Lh(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return gg(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=Bh(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function vg(){var e=eg();return e.copy=function(){return Qm(e,vg())},Wh.apply(e,arguments),yg(e)}function xg(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function bg(e){return Math.log(e)}function jg(e){return Math.exp(e)}function wg(e){return-Math.log(-e)}function Ng(e){return-Math.exp(-e)}function Og(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Sg(e){return(t,r)=>-e(-t,r)}function Ag(e){const t=e(bg,jg),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Og:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=Sg(n),a=Sg(a),e(wg,Ng)):e(bg,jg),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),f=n(s);const p=null==e?10:+e;let h=[];if(!(i%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;h.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;h.push(u)}2*h.length<p&&(h=Lh(o,s,p))}else h=Lh(d,f,Math.min(f-d,p)).map(a);return l?h.reverse():h},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!=typeof r&&(i%1||null!=(r=ig(r)).precision||(r.trim=!0),r=dg(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(xg(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Pg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Eg(e){var t=1,r=e(Pg(t),kg(t));return r.constant=function(r){return arguments.length?e(Pg(t=+r),kg(t)):t},yg(r)}function Tg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Cg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mg(e){return e<0?-e*e:e*e}function _g(e){var t=e(Xm,Xm),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Xm,Xm):.5===r?e(Cg,Mg):e(Tg(r),Tg(1/r)):r},yg(t)}function Ig(){var e=_g(Zm());return e.copy=function(){return Qm(e,Ig()).exponent(e.exponent())},Wh.apply(e,arguments),e}function Dg(e){return Math.sign(e)*e*e}ug=mg({thousands:",",grouping:[3],currency:["$",""]}),dg=ug.format,fg=ug.formatPrefix;const Rg=new Date,Lg=new Date;function Bg(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>Bg(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(Rg.setTime(+t),Lg.setTime(+n),e(Rg),e(Lg),Math.floor(r(Rg,Lg))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const zg=Bg(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zg.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Bg(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zg:null),zg.range;const $g=1e3,qg=6e4,Ug=36e5,Fg=864e5,Gg=6048e5,Wg=2592e6,Vg=31536e6,Hg=Bg(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$g)},(e,t)=>(t-e)/$g,e=>e.getUTCSeconds());Hg.range;const Xg=Bg(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$g)},(e,t)=>{e.setTime(+e+t*qg)},(e,t)=>(t-e)/qg,e=>e.getMinutes());Xg.range;const Kg=Bg(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qg)},(e,t)=>(t-e)/qg,e=>e.getUTCMinutes());Kg.range;const Yg=Bg(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$g-e.getMinutes()*qg)},(e,t)=>{e.setTime(+e+t*Ug)},(e,t)=>(t-e)/Ug,e=>e.getHours());Yg.range;const Jg=Bg(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ug)},(e,t)=>(t-e)/Ug,e=>e.getUTCHours());Jg.range;const Qg=Bg(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qg)/Fg,e=>e.getDate()-1);Qg.range;const Zg=Bg(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fg,e=>e.getUTCDate()-1);Zg.range;const ey=Bg(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fg,e=>Math.floor(e/Fg));function ty(e){return Bg(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qg)/Gg)}ey.range;const ry=ty(0),ny=ty(1),ay=ty(2),iy=ty(3),oy=ty(4),sy=ty(5),ly=ty(6);function cy(e){return Bg(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Gg)}ry.range,ny.range,ay.range,iy.range,oy.range,sy.range,ly.range;const uy=cy(0),dy=cy(1),fy=cy(2),py=cy(3),hy=cy(4),my=cy(5),gy=cy(6);uy.range,dy.range,fy.range,py.range,hy.range,my.range,gy.range;const yy=Bg(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());yy.range;const vy=Bg(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());vy.range;const xy=Bg(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xy.every=e=>isFinite(e=Math.floor(e))&&e>0?Bg(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,xy.range;const by=Bg(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function jy(e,t,r,n,a,i){const o=[[Hg,1,$g],[Hg,5,5e3],[Hg,15,15e3],[Hg,30,3e4],[i,1,qg],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Ug],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Fg],[n,2,1728e5],[r,1,Gg],[t,1,Wg],[t,3,7776e6],[e,1,Vg]];function s(t,r,n){const a=Math.abs(r-t)/n,i=Sh(([,,e])=>e).right(o,a);if(i===o.length)return e.every(zh(t/Vg,r/Vg,n));if(0===i)return zg.every(Math.max(zh(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}by.every=e=>isFinite(e=Math.floor(e))&&e>0?Bg(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,by.range;const[wy,Ny]=jy(by,vy,uy,ey,Jg,Kg),[Oy,Sy]=jy(xy,yy,ry,Qg,Yg,Xg);function Ay(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Py(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ky(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Ey,Ty,Cy,My={"-":"",_:" ",0:"0"},_y=/^\s*\d+/,Iy=/^%/,Dy=/[\\^$*+?|[\]().{}]/g;function Ry(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Ly(e){return e.replace(Dy,"\\$&")}function By(e){return new RegExp("^(?:"+e.map(Ly).join("|")+")","i")}function zy(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function $y(e,t,r){var n=_y.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qy(e,t,r){var n=_y.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Uy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Fy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Gy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Wy(e,t,r){var n=_y.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Vy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Hy(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Xy(e,t,r){var n=_y.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Ky(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Yy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Jy(e,t,r){var n=_y.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Qy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zy(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ev(e,t,r){var n=_y.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tv(e,t,r){var n=_y.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rv(e,t,r){var n=_y.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nv(e,t,r){var n=Iy.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function av(e,t,r){var n=_y.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function iv(e,t,r){var n=_y.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ov(e,t){return Ry(e.getDate(),t,2)}function sv(e,t){return Ry(e.getHours(),t,2)}function lv(e,t){return Ry(e.getHours()%12||12,t,2)}function cv(e,t){return Ry(1+Qg.count(xy(e),e),t,3)}function uv(e,t){return Ry(e.getMilliseconds(),t,3)}function dv(e,t){return uv(e,t)+"000"}function fv(e,t){return Ry(e.getMonth()+1,t,2)}function pv(e,t){return Ry(e.getMinutes(),t,2)}function hv(e,t){return Ry(e.getSeconds(),t,2)}function mv(e){var t=e.getDay();return 0===t?7:t}function gv(e,t){return Ry(ry.count(xy(e)-1,e),t,2)}function yv(e){var t=e.getDay();return t>=4||0===t?oy(e):oy.ceil(e)}function vv(e,t){return e=yv(e),Ry(oy.count(xy(e),e)+(4===xy(e).getDay()),t,2)}function xv(e){return e.getDay()}function bv(e,t){return Ry(ny.count(xy(e)-1,e),t,2)}function jv(e,t){return Ry(e.getFullYear()%100,t,2)}function wv(e,t){return Ry((e=yv(e)).getFullYear()%100,t,2)}function Nv(e,t){return Ry(e.getFullYear()%1e4,t,4)}function Ov(e,t){var r=e.getDay();return Ry((e=r>=4||0===r?oy(e):oy.ceil(e)).getFullYear()%1e4,t,4)}function Sv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ry(t/60|0,"0",2)+Ry(t%60,"0",2)}function Av(e,t){return Ry(e.getUTCDate(),t,2)}function Pv(e,t){return Ry(e.getUTCHours(),t,2)}function kv(e,t){return Ry(e.getUTCHours()%12||12,t,2)}function Ev(e,t){return Ry(1+Zg.count(by(e),e),t,3)}function Tv(e,t){return Ry(e.getUTCMilliseconds(),t,3)}function Cv(e,t){return Tv(e,t)+"000"}function Mv(e,t){return Ry(e.getUTCMonth()+1,t,2)}function _v(e,t){return Ry(e.getUTCMinutes(),t,2)}function Iv(e,t){return Ry(e.getUTCSeconds(),t,2)}function Dv(e){var t=e.getUTCDay();return 0===t?7:t}function Rv(e,t){return Ry(uy.count(by(e)-1,e),t,2)}function Lv(e){var t=e.getUTCDay();return t>=4||0===t?hy(e):hy.ceil(e)}function Bv(e,t){return e=Lv(e),Ry(hy.count(by(e),e)+(4===by(e).getUTCDay()),t,2)}function zv(e){return e.getUTCDay()}function $v(e,t){return Ry(dy.count(by(e)-1,e),t,2)}function qv(e,t){return Ry(e.getUTCFullYear()%100,t,2)}function Uv(e,t){return Ry((e=Lv(e)).getUTCFullYear()%100,t,2)}function Fv(e,t){return Ry(e.getUTCFullYear()%1e4,t,4)}function Gv(e,t){var r=e.getUTCDay();return Ry((e=r>=4||0===r?hy(e):hy.ceil(e)).getUTCFullYear()%1e4,t,4)}function Wv(){return"+0000"}function Vv(){return"%"}function Hv(e){return+e}function Xv(e){return Math.floor(+e/1e3)}function Kv(e){return new Date(e)}function Yv(e){return e instanceof Date?+e:+new Date(+e)}function Jv(e,t,r,n,a,i,o,s,l,c){var u=eg(),d=u.invert,f=u.domain,p=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function j(e){return(l(e)<e?p:s(e)<e?h:o(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?y:v:r(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,Yv)):f().map(Kv)},u.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(xg(r,e)):u},u.copy=function(){return Qm(u,Jv(e,t,r,n,a,i,o,s,l,c))},u}function Qv(){var e,t,r,n,a,i=0,o=1,s=Xm,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Gm),c.rangeRound=u(Wm),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function Zv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ex(){var e=_g(Qv());return e.copy=function(){return Zv(e,ex()).exponent(e.exponent())},Vh.apply(e,arguments)}function tx(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=Xm,f=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Gm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(Gm),p.rangeRound=h(Wm),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,p}}function rx(){var e=_g(tx());return e.copy=function(){return Zv(e,rx()).exponent(e.exponent())},Vh.apply(e,arguments)}!function(e){Ey=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=By(a),u=zy(a),d=By(i),f=zy(i),p=By(o),h=zy(o),m=By(s),g=zy(s),y=By(l),v=zy(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ov,e:ov,f:dv,g:wv,G:Ov,H:sv,I:lv,j:cv,L:uv,m:fv,M:pv,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Hv,s:Xv,S:hv,u:mv,U:gv,V:vv,w:xv,W:bv,x:null,X:null,y:jv,Y:Nv,Z:Sv,"%":Vv},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Av,e:Av,f:Cv,g:Uv,G:Gv,H:Pv,I:kv,j:Ev,L:Tv,m:Mv,M:_v,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Hv,s:Xv,S:Iv,u:Dv,U:Rv,V:Bv,w:zv,W:$v,x:null,X:null,y:qv,Y:Fv,Z:Wv,"%":Vv},j={a:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return O(e,t,r,n)},d:Yy,e:Yy,f:rv,g:Vy,G:Wy,H:Qy,I:Qy,j:Jy,L:tv,m:Ky,M:Zy,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Xy,Q:av,s:iv,S:ev,u:qy,U:Uy,V:Fy,w:$y,W:Gy,x:function(e,t,n){return O(e,r,t,n)},X:function(e,t,r){return O(e,n,t,r)},y:Vy,Y:Wy,Z:Hy,"%":nv};function w(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=My[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(r){var n,a,i=ky(1900,void 0,1);if(O(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=Py(ky(i.y,0,1))).getUTCDay(),n=a>4||0===a?dy.ceil(n):dy(n),n=Zg.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Ay(ky(i.y,0,1))).getDay(),n=a>4||0===a?ny.ceil(n):ny(n),n=Qg.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Py(ky(i.y,0,1)).getUTCDay():Ay(ky(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Py(i)):Ay(i)}}function O(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=j[a in My?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),{format:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Ty=Ey.format,Ey.parse,Cy=Ey.utcFormat,Ey.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const nx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kh,scaleDiverging:function e(){var t=yg(tx()(Xm));return t.copy=function(){return Zv(t,e())},Vh.apply(t,arguments)},scaleDivergingLog:function e(){var t=Ag(tx()).domain([.1,1,10]);return t.copy=function(){return Zv(t,e()).base(t.base())},Vh.apply(t,arguments)},scaleDivergingPow:rx,scaleDivergingSqrt:function(){return rx.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Eg(tx());return t.copy=function(){return Zv(t,e()).constant(t.constant())},Vh.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Vm),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,Vm):[0,1],yg(n)},scaleImplicit:Hh,scaleLinear:vg,scaleLog:function e(){const t=Ag(Zm()).domain([1,10]);return t.copy=()=>Qm(t,e()).base(t.base()),Wh.apply(t,arguments),t},scaleOrdinal:Xh,scalePoint:Jh,scalePow:Ig,scaleQuantile:function e(){var t,r=[],n=[],a=[];function i(){var e=0,t=Math.max(1,n.length);for(a=new Array(t-1);++e<t;)a[e-1]=Gh(r,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:n[kh(a,e)]}return o.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},o.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(Nh),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return a.slice()},o.copy=function(){return e().domain(r).range(n).unknown(t)},Wh.apply(o,arguments)},scaleQuantize:function e(){var t,r=0,n=1,a=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[kh(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*n-(e-a)*r)/(a+1);return s}return s.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},s.range=function(e){return arguments.length?(a=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,i[0]]:t>=a?[i[a-1],n]:[i[t-1],i[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return e().domain([r,n]).range(o).unknown(t)},Wh.apply(yg(s),arguments)},scaleRadial:function e(){var t,r=eg(),n=[0,1],a=!1;function i(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:a?Math.round(n):n}return i.invert=function(e){return r.invert(Dg(e))},i.domain=function(e){return arguments.length?(r.domain(e),i):r.domain()},i.range=function(e){return arguments.length?(r.range((n=Array.from(e,Vm)).map(Dg)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(r.clamp(e),i):r.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(r.domain(),n).round(a).clamp(r.clamp()).unknown(t)},Wh.apply(i,arguments),yg(i)},scaleSequential:function e(){var t=yg(Qv()(Xm));return t.copy=function(){return Zv(t,e())},Vh.apply(t,arguments)},scaleSequentialLog:function e(){var t=Ag(Qv()).domain([1,10]);return t.copy=function(){return Zv(t,e()).base(t.base())},Vh.apply(t,arguments)},scaleSequentialPow:ex,scaleSequentialQuantile:function e(){var t=[],r=Xm;function n(e){if(null!=e&&!isNaN(e=+e))return r((kh(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Nh),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return qh(e);if(t>=1)return $h(e);var r,n=(r-1)*t,a=Math.floor(n),i=$h(Uh(e,a).subarray(0,a+1));return i+(qh(e.subarray(a+1))-i)*(n-a)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},Vh.apply(n,arguments)},scaleSequentialSqrt:function(){return ex.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Eg(Qv());return t.copy=function(){return Zv(t,e()).constant(t.constant())},Vh.apply(t,arguments)},scaleSqrt:function(){return Ig.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Eg(Zm());return t.copy=function(){return Qm(t,e()).constant(t.constant())},Wh.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],a=1;function i(e){return null!=e&&e<=e?n[kh(r,e,0,a)]:t}return i.domain=function(e){return arguments.length?(r=Array.from(e),a=Math.min(r.length,n.length-1),i):r.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),a=Math.min(r.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(r).range(n).unknown(t)},Wh.apply(i,arguments)},scaleTime:function(){return Wh.apply(Jv(Oy,Sy,xy,yy,ry,Qg,Yg,Xg,Hg,Ty).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Wh.apply(Jv(wy,Ny,by,vy,uy,Zg,Jg,Kg,Hg,Cy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:gg},Symbol.toStringTag,{value:"Module"}));var ax=pr;var ix=function(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(null!=o&&(void 0===s?o==o&&!ax(o):r(o,s)))var s=o,l=i}return l};var ox=function(e,t){return e>t},sx=ix,lx=ox,cx=zu;const ux=l(function(e){return e&&e.length?sx(e,cx,lx):void 0});var dx=function(e,t){return e<t},fx=ix,px=dx,hx=zu;const mx=l(function(e){return e&&e.length?fx(e,hx,px):void 0});var gx=Kn,yx=Yu,vx=Gd,xx=Ht;var bx=Rd,jx=function(e,t){return(xx(e)?gx:vx)(e,yx(t))};const wx=l(function(e,t){return bx(jx(e,t),1)});var Nx=pu;const Ox=l(function(e,t){return Nx(e,t)});var Sx,Ax=1e9,Px=!0,kx="[DecimalError] ",Ex=kx+"Invalid argument: ",Tx=kx+"Exponent out of range: ",Cx=Math.floor,Mx=Math.pow,_x=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ix=1e7,Dx=9007199254740991,Rx=Cx(1286742750677284.5),Lx={};function Bx(e,t){var r,n,a,i,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Px?Xx(t,d):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),i>(s=(o=Math.ceil(d/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=l.length)-(i=c.length)<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Ix|0,l[i]%=Ix;for(r&&(l.unshift(r),++a),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=a,Px?Xx(t,d):t}function zx(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ex+e)}function $x(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=Wx(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=Wx(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return i+o}Lx.absoluteValue=Lx.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Lx.comparedTo=Lx.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},Lx.decimalPlaces=Lx.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},Lx.dividedBy=Lx.div=function(e){return qx(this,new this.constructor(e))},Lx.dividedToIntegerBy=Lx.idiv=function(e){var t=this.constructor;return Xx(qx(this,new t(e),0,1),t.precision)},Lx.equals=Lx.eq=function(e){return!this.cmp(e)},Lx.exponent=function(){return Fx(this)},Lx.greaterThan=Lx.gt=function(e){return this.cmp(e)>0},Lx.greaterThanOrEqualTo=Lx.gte=function(e){return this.cmp(e)>=0},Lx.isInteger=Lx.isint=function(){return this.e>this.d.length-2},Lx.isNegative=Lx.isneg=function(){return this.s<0},Lx.isPositive=Lx.ispos=function(){return this.s>0},Lx.isZero=function(){return 0===this.s},Lx.lessThan=Lx.lt=function(e){return this.cmp(e)<0},Lx.lessThanOrEqualTo=Lx.lte=function(e){return this.cmp(e)<1},Lx.logarithm=Lx.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(Sx))throw Error(kx+"NaN");if(r.s<1)throw Error(kx+(r.s?"NaN":"-Infinity"));return r.eq(Sx)?new n(0):(Px=!1,t=qx(Vx(r,i),Vx(e,i),i),Px=!0,Xx(t,a))},Lx.minus=Lx.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Kx(t,e):Bx(t,(e.s=-e.s,e))},Lx.modulo=Lx.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(kx+"NaN");return r.s?(Px=!1,t=qx(r,e,0,1).times(e),Px=!0,r.minus(t)):Xx(new n(r),a)},Lx.naturalExponential=Lx.exp=function(){return Ux(this)},Lx.naturalLogarithm=Lx.ln=function(){return Vx(this)},Lx.negated=Lx.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Lx.plus=Lx.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bx(t,e):Kx(t,(e.s=-e.s,e))},Lx.precision=Lx.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Ex+e);if(t=Fx(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Lx.squareRoot=Lx.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(kx+"NaN")}for(e=Fx(s),Px=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=$x(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cx((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=o=(r=l.precision)+3;;)if(n=(i=n).plus(qx(s,i,o+2)).times(.5),$x(i.d).slice(0,o)===(t=$x(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(Xx(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if("9999"!=t)break;o+=4}return Px=!0,Xx(n,r)},Lx.times=Lx.mul=function(e){var t,r,n,a,i,o,s,l,c,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,(l=f.length)<(c=p.length)&&(i=f,f=p,p=i,o=l,l=c,c=o),i=[],n=o=l+c;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*f[a-n-1]+t,i[a--]=s%Ix|0,t=s/Ix|0;i[a]=(i[a]+t)%Ix|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Px?Xx(e,d.precision):e},Lx.toDecimalPlaces=Lx.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(zx(e,0,Ax),void 0===t?t=n.rounding:zx(t,0,8),Xx(r,e+Fx(r)+1,t))},Lx.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=Yx(n,!0):(zx(e,0,Ax),void 0===t?t=a.rounding:zx(t,0,8),r=Yx(n=Xx(new a(n),e+1,t),!0,e+1)),r},Lx.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?Yx(a):(zx(e,0,Ax),void 0===t?t=i.rounding:zx(t,0,8),r=Yx((n=Xx(new i(a),e+Fx(a)+1,t)).abs(),!1,e+Fx(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},Lx.toInteger=Lx.toint=function(){var e=this,t=e.constructor;return Xx(new t(e),Fx(e)+1,t.rounding)},Lx.toNumber=function(){return+this},Lx.toPower=Lx.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(Sx);if(!(s=new l(s)).s){if(e.s<1)throw Error(kx+"Infinity");return s}if(s.eq(Sx))return s;if(n=l.precision,e.eq(Sx))return Xx(s,n);if(o=(t=e.e)>=(r=e.d.length-1),i=s.s,o){if((r=c<0?-c:c)<=Dx){for(a=new l(Sx),t=Math.ceil(n/7+4),Px=!1;r%2&&Jx((a=a.times(s)).d,t),0!==(r=Cx(r/2));)Jx((s=s.times(s)).d,t);return Px=!0,e.s<0?new l(Sx).div(a):Xx(a,n)}}else if(i<0)throw Error(kx+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,Px=!1,a=e.times(Vx(s,n+12)),Px=!0,(a=Ux(a)).s=i,a},Lx.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=Yx(a,(r=Fx(a))<=i.toExpNeg||r>=i.toExpPos):(zx(e,1,Ax),void 0===t?t=i.rounding:zx(t,0,8),n=Yx(a=Xx(new i(a),e,t),e<=(r=Fx(a))||r<=i.toExpNeg,e)),n},Lx.toSignificantDigits=Lx.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(zx(e,1,Ax),void 0===t?t=r.rounding:zx(t,0,8)),Xx(new r(this),e,t)},Lx.toString=Lx.valueOf=Lx.val=Lx.toJSON=Lx[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fx(e),r=e.constructor;return Yx(e,t<=r.toExpNeg||t>=r.toExpPos)};var qx=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%Ix|0,n=r/Ix|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*Ix+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,l,c,u,d,f,p,h,m,g,y,v,x,b,j,w,N,O,S=n.constructor,A=n.s==a.s?1:-1,P=n.d,k=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(kx+"Division by zero");for(l=n.e-a.e,N=k.length,j=P.length,h=(p=new S(A)).d=[],c=0;k[c]==(P[c]||0);)++c;if(k[c]>(P[c]||0)&&--l,(v=null==i?i=S.precision:o?i+(Fx(n)-Fx(a))+1:i)<0)return new S(0);if(v=v/7+2|0,c=0,1==N)for(u=0,k=k[0],v++;(c<j||u)&&v--;c++)x=u*Ix+(P[c]||0),h[c]=x/k|0,u=x%k|0;else{for((u=Ix/(k[0]+1)|0)>1&&(k=e(k,u),P=e(P,u),N=k.length,j=P.length),b=N,g=(m=P.slice(0,N)).length;g<N;)m[g++]=0;(O=k.slice()).unshift(0),w=k[0],k[1]>=Ix/2&&++w;do{u=0,(s=t(k,m,N,g))<0?(y=m[0],N!=g&&(y=y*Ix+(m[1]||0)),(u=y/w|0)>1?(u>=Ix&&(u=Ix-1),1==(s=t(d=e(k,u),m,f=d.length,g=m.length))&&(u--,r(d,N<f?O:k,f))):(0==u&&(s=u=1),d=k.slice()),(f=d.length)<g&&d.unshift(0),r(m,d,g),-1==s&&(s=t(k,m,N,g=m.length))<1&&(u++,r(m,N<g?O:k,g)),g=m.length):0===s&&(u++,m=[0]),h[c++]=u,s&&m[0]?m[g++]=P[b]||0:(m=[P[b]],g=1)}while((b++<j||void 0!==m[0])&&v--)}return h[0]||h.shift(),p.e=l,Xx(p,o?i+Fx(p)+1:i)}}();function Ux(e,t){var r,n,a,i,o,s=0,l=0,c=e.constructor,u=c.precision;if(Fx(e)>16)throw Error(Tx+Fx(e));if(!e.s)return new c(Sx);for(Px=!1,o=u,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(o+=Math.log(Mx(2,l))/Math.LN10*2+5|0,r=n=a=new c(Sx),c.precision=o;;){if(n=Xx(n.times(e),o),r=r.times(++s),$x((i=a.plus(qx(n,r,o))).d).slice(0,o)===$x(a.d).slice(0,o)){for(;l--;)a=Xx(a.times(a),o);return c.precision=u,null==t?(Px=!0,Xx(a,u)):a}a=i}}function Fx(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function Gx(e,t,r){if(t>e.LN10.sd())throw Px=!0,r&&(e.precision=r),Error(kx+"LN10 precision limit exceeded");return Xx(new e(e.LN10),t)}function Wx(e){for(var t="";e--;)t+="0";return t}function Vx(e,t){var r,n,a,i,o,s,l,c,u,d=1,f=e,p=f.d,h=f.constructor,m=h.precision;if(f.s<1)throw Error(kx+(f.s?"NaN":"-Infinity"));if(f.eq(Sx))return new h(0);if(null==t?(Px=!1,c=m):c=t,f.eq(10))return null==t&&(Px=!0),Gx(h,c);if(c+=10,h.precision=c,n=(r=$x(p)).charAt(0),i=Fx(f),!(Math.abs(i)<15e14))return l=Gx(h,c+2,m).times(i+""),f=Vx(new h(n+"."+r.slice(1)),c-10).plus(l),h.precision=m,null==t?(Px=!0,Xx(f,m)):f;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=$x((f=f.times(e)).d)).charAt(0),d++;for(i=Fx(f),n>1?(f=new h("0."+r),i++):f=new h(n+"."+r.slice(1)),s=o=f=qx(f.minus(Sx),f.plus(Sx),c),u=Xx(f.times(f),c),a=3;;){if(o=Xx(o.times(u),c),$x((l=s.plus(qx(o,new h(a),c))).d).slice(0,c)===$x(s.d).slice(0,c))return s=s.times(2),0!==i&&(s=s.plus(Gx(h,c+2,m).times(i+""))),s=qx(s,new h(d),c),h.precision=m,null==t?(Px=!0,Xx(s,m)):s;s=l,a+=2}}function Hx(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=Cx(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Px&&(e.e>Rx||e.e<-Rx))throw Error(Tx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xx(e,t,r){var n,a,i,o,s,l,c,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,c=d[u=0];else{if((u=Math.ceil((n+1)/7))>=(i=d.length))return e;for(c=i=d[u],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(s=c/(i=Mx(10,o-a-1))%10|0,l=t<0||void 0!==d[u+1]||c%i,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(n>0?a>0?c/Mx(10,o-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Fx(e),d.length=1,t=t-i-1,d[0]=Mx(10,(7-t%7)%7),e.e=Cx(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,i=1,u--):(d.length=u+1,i=Mx(10,7-n),d[u]=a>0?(c/Mx(10,o-a)%Mx(10,a)|0)*i:0),l)for(;;){if(0==u){(d[0]+=i)==Ix&&(d[0]=1,++e.e);break}if(d[u]+=i,d[u]!=Ix)break;d[u--]=0,i=1}for(n=d.length;0===d[--n];)d.pop();if(Px&&(e.e>Rx||e.e<-Rx))throw Error(Tx+Fx(e));return e}function Kx(e,t){var r,n,a,i,o,s,l,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Px?Xx(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((u=o<0)?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),o>(a=Math.max(Math.ceil(p/7),s)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((u=(a=l.length)<(s=d.length))&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&0===l[--i];)l[i]=Ix-1;--l[i],l[a]+=Ix}l[a]-=d[a]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,Px?Xx(t,p):t):new f(0)}function Yx(e,t,r){var n,a=Fx(e),i=$x(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Wx(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wx(-a-1)+i,r&&(n=r-o)>0&&(i+=Wx(n))):a>=o?(i+=Wx(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Wx(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Wx(n))),e.s<0?"-"+i:i}function Jx(e,t){if(e.length>t)return e.length=t,!0}function Qx(e){if(!e||"object"!=typeof e)throw Error(kx+"Object expected");var t,r,n,a=["precision",1,Ax,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(Cx(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(Ex+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(Ex+r+": "+n);this[r]=new this(n)}return this}var Zx=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Ex+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Hx(t,e.toString())}if("string"!=typeof e)throw Error(Ex+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!_x.test(e))throw Error(Ex+e);Hx(t,e)}if(i.prototype=Lx,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=Qx,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Sx=new Zx(1);const eb=Zx;function tb(e){return function(e){if(Array.isArray(e))return rb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nb=function(e){return e},ab={},ib=function(e){return e===ab},ob=function(e){return function t(){return 0===arguments.length||1===arguments.length&&ib(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},sb=function e(t,r){return 1===t?r:ob(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==ab}).length;return o>=t?r.apply(void 0,a):e(t-o,ob(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map(function(e){return ib(e)?t.shift():e});return r.apply(void 0,tb(i).concat(t))}))})},lb=function(e){return sb(e.length,e)},cb=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ub=lb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),db=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fb=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};const pb={rangeStep:function(e,t,r){for(var n=new eb(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new eb(e).abs().log(10).toNumber())+1},interpolateNumber:lb(function(e,t,r){var n=+e;return n+r*(+t-n)}),uninterpolateNumber:lb(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),uninterpolateTruncation:lb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))})};function hb(e){return function(e){if(Array.isArray(e))return yb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||gb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gb(e,t){if(e){if("string"==typeof e)return yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yb(e,t):void 0}}function yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vb(e){var t=mb(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function xb(e,t,r){if(e.lte(0))return new eb(0);var n=pb.getDigitCount(e.toNumber()),a=new eb(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new eb(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?s:new eb(Math.ceil(s))}function bb(e,t,r){var n=1,a=new eb(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new eb(10).pow(pb.getDigitCount(e)-1),a=new eb(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new eb(Math.floor(e)))}else 0===e?a=new eb(Math.floor((t-1)/2)):r||(a=new eb(Math.floor(e)));var o=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return nb;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(ub(function(e){return a.add(new eb(e-o).mul(n)).toNumber()}),cb);return s(0,t)}function jb(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new eb(0),tickMin:new eb(0),tickMax:new eb(0)};var i,o=xb(new eb(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new eb(0):(i=new eb(e).add(t).div(2)).sub(new eb(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new eb(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?jb(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new eb(s).mul(o)),tickMax:i.add(new eb(l).mul(o))})}var wb=fb(function(e){var t=mb(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=mb(vb([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(hb(cb(0,a-1).map(function(){return 1/0}))):[].concat(hb(cb(0,a-1).map(function(){return-1/0})),[c]);return r>n?db(u):u}if(l===c)return bb(l,a,i);var d=jb(l,c,o,i),f=d.step,p=d.tickMin,h=d.tickMax,m=pb.rangeStep(p,h.add(new eb(.1).mul(f)),f);return r>n?db(m):m}),Nb=fb(function(e,t){var r=mb(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=mb(vb([n,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(t,2),u=xb(new eb(l).sub(s).div(c-1),i,0),d=[].concat(hb(pb.rangeStep(new eb(s),new eb(l).sub(new eb(.99).mul(u)),u)),[l]);return n>a?db(d):d});function Ob(e,t){throw new Error("Invariant failed")}var Sb=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ab(e){return(Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function kb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Eb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cb(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lb(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mb(e,t,r){return t=Ib(t),function(e,t){if(t&&("object"===Ab(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_b()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function _b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_b=function(){return!!e})()}function Ib(e){return(Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Db(e,t){return(Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Rb(e,t,r){return(t=Lb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lb(e){var t=function(e,t){if("object"!=Ab(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ab(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ab(t)?t:t+""}var Bb=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Mb(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Db(e,t)}(e,c.Component),Cb(e,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,o=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,u=Tb(e,Sb),d=Ai(u,!1);"x"===this.props.direction&&"number"!==s.type&&Ob();var f=i.map(function(e){var i=o(e,a),u=i.x,f=i.y,p=i.value,h=i.errorVal;if(!h)return null;var m,g,y=[];if(Array.isArray(h)){var v=kb(h,2);m=v[0],g=v[1]}else m=g=h;if("vertical"===r){var x=s.scale,b=f+t,j=b+n,w=b-n,N=x(p-m),O=x(p+g);y.push({x1:O,y1:j,x2:O,y2:w}),y.push({x1:N,y1:b,x2:O,y2:b}),y.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var S=l.scale,A=u+t,P=A-n,k=A+n,E=S(p-m),T=S(p+g);y.push({x1:P,y1:T,x2:k,y2:T}),y.push({x1:A,y1:E,x2:A,y2:T}),y.push({x1:P,y1:E,x2:k,y2:E})}return c.createElement(Li,Pb({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return c.createElement("line",Pb({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return c.createElement(Li,{className:"recharts-errorBars"},f)}}])}();function zb(e){return(zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$b(Object(r),!0).forEach(function(t){Ub(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ub(e,t,r){var n;return n=function(e,t){if("object"!=zb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Rb(Bb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Rb(Bb,"displayName","ErrorBar");var Fb=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=wi(t,Td);if(!i)return null;var o,s=Td.defaultProps,l=void 0!==s?qb(qb({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?qb(qb({},r),t.props):{},a=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:Qb(t),value:i||a,payload:n}}),qb(qb(qb({},l),Td.getWithHeight(i,n)),{},{payload:o,item:i})};function Gb(e){return(Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wb(e){return function(e){if(Array.isArray(e))return Vb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hb(Object(r),!0).forEach(function(t){Kb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kb(e,t,r){var n;return n=function(e,t){if("object"!=Gb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Gb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Gb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yb(e,t,r){return ya(e)||ya(t)?r:Ya(t)?ga(e,t,r):Or(t)?t(e):r}function Jb(e,t,r,n){var a=wx(e,function(e){return Yb(e,t)});if("number"===r){var i=a.filter(function(e){return Ka(e)||parseFloat(e)});return i.length?[mx(i),ux(i)]:[1/0,-1/0]}return(n?a.filter(function(e){return!ya(e)}):a).map(function(e){return Ya(e)||e instanceof Date?e:""})}var Qb=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Xb(Xb({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:o;break;default:r=o}return r},Zb=function(e,t,r,n,a){var i=ji(t.props.children,Bb).filter(function(e){return function(e,t,r){return!!ya(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=Yb(t,r);if(ya(n))return e;var a=Array.isArray(n)?[mx(n),ux(n)]:[n,n],i=o.reduce(function(e,r){var n=Yb(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},ej=function(e,t,r,n,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===r&&i&&Zb(e,t,i,n)||Jb(e,i,r,a)});if("number"===r)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e},[])},tj=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},rj=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(r),o},nj=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==o?void 0:o.length)>=2?2*Ha(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Va(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},aj=new WeakMap,ij=function(e,t){if("function"!=typeof t)return e;aj.has(e)||aj.set(e,new WeakMap);var r=aj.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},oj=function(e,t,r){var n=e.scale,a=e.type,i=e.layout,o=e.axisType;if("auto"===n)return"radial"===i&&"radiusAxis"===o?{scale:Kh(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:vg(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Jh(),realScaleType:"point"}:"category"===a?{scale:Kh(),realScaleType:"band"}:{scale:vg(),realScaleType:"linear"};if(ja(n)){var s="scale".concat(co(n));return{scale:(nx[s]||Jh)(),realScaleType:nx[s]?s:"point"}}return Or(n)?{scale:n}:{scale:Jh(),realScaleType:"point"}},sj=1e-4,lj=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-sj,i=Math.max(n[0],n[1])+sj,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},cj={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=Va(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}ds(e,t)}},none:ds,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}ds(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,f=(d-(u[o-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];f+=(h[o][1]||0)-(h[o-1][1]||0)}l+=d,c+=f*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,ds(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Va(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},uj=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=cj[r],i=function(){var e=uo([]),t=fs,r=ds,n=ps;function a(a){var i,o,s=Array.from(e.apply(this,arguments),hs),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=Oo(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:uo(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:uo(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?fs:"function"==typeof e?e:uo(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?ds:e,a):r},a}().keys(n).value(function(e,t){return+Yb(e,t,0)}).order(fs).offset(a);return i(e)},dj=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=wb(l,a,o);return e.domain([mx(c),ux(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:Nb(u,a,o)}}return null};function fj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ya(a[t.dataKey])){var s=ri(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Yb(a,ya(o)?t.dataKey:o);return ya(l)?null:t.scale(l)}var pj=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=Yb(i,t.dataKey,t.domain[o]);return ya(s)?null:t.scale(s)-a/2+n},hj=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a].stackedData.reduce(function(e,n){var a=n.slice(t,r+1).reduce(function(e,t){return[mx(t.concat([e[0]]).filter(Ka)),ux(t.concat([e[1]]).filter(Ka))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},mj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yj=function(e,t,r){if(Or(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Ka(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(mj.test(e[0])){var a=+mj.exec(e[0])[1];n[0]=t[0]-a}else Or(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Ka(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(gj.test(e[1])){var i=+gj.exec(e[1])[1];n[1]=t[1]+i}else Or(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},vj=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Af(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},xj=function(e,t,r){return e&&e.length?Ox(e,ga(r,"type.defaultProps.domain"))?t:e:t},bj=function(e,t){var r=e.type.defaultProps?Xb(Xb({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return Xb(Xb({},Ai(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:Qb(e),value:Yb(t,n),type:s,payload:t,chartType:l,hide:c})};function jj(e){return(jj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(t){Oj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oj(e,t,r){var n;return n=function(e,t){if("object"!=jj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Aj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pj=Math.PI/180,kj=function(e){return 180*e/Math.PI},Ej=function(e,t,r,n){return{x:e+Math.cos(-Pj*n)*r,y:t+Math.sin(-Pj*n)*r}},Tj=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Cj=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:kj(l),angleInRadian:l}},Mj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},_j=function(e,t){var r=e.x,n=e.y,a=Cj({x:r,y:n},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,f=u.endAngle,p=o;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;c=p>=f&&p<=d}return c?Nj(Nj({},t),{},{radius:i,angle:Mj(p,t)}):null},Ij=function(e){return a.isValidElement(e)||Or(e)||"boolean"==typeof e?"":e.className};function Dj(e){return(Dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Rj=["offset"];function Lj(e){return function(e){if(Array.isArray(e))return Bj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(t){Uj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Uj(e,t,r){var n;return n=function(e,t){if("object"!=Dj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Dj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Dj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(this,arguments)}var Gj=function(e,t,r){var n,a,i=e.position,o=e.viewBox,s=e.offset,l=e.className,u=o,d=u.cx,f=u.cy,p=u.innerRadius,h=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(p+h)/2,x=function(e,t){return Ha(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===i?(n=m+b*s,a=y):"insideEnd"===i?(n=g-b*s,a=!y):"end"===i&&(n=g+b*s,a=y),a=x<=0?a:!a;var j=Ej(d,f,v,n),w=Ej(d,f,v,n+359*(a?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(w.x,",").concat(w.y),O=ya(e.id)?Qa("recharts-radial-line-"):e.id;return c.createElement("text",Fj({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",l)}),c.createElement("defs",null,c.createElement("path",{id:O,d:N})),c.createElement("textPath",{xlinkHref:"#".concat(O)},t))};function Wj(e){var t,r=e.offset,n=qj({offset:void 0===r?5:r},zj(e,Rj)),i=n.viewBox,o=n.position,s=n.value,l=n.children,u=n.content,d=n.className,f=void 0===d?"":d,p=n.textBreakAll;if(!i||ya(s)&&ya(l)&&!a.isValidElement(u)&&!Or(u))return null;if(a.isValidElement(u))return a.cloneElement(u,n);if(Or(u)){if(t=a.createElement(u,n),a.isValidElement(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=ya(e.children)?t:e.children;return Or(r)?r(n):n}(n);var h=function(e){return"cx"in e&&Ka(e.cx)}(i),m=Ai(n,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return Gj(n,t,m);var g=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=Ej(i,o,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=Ej(i,o,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",p=u>0?"start":"end",h=l>=0?1:-1,m=h*n,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===a)return qj(qj({},{x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return qj(qj({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return qj(qj({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var x={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return qj(qj({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?qj({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?qj({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?qj({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===a?qj({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},b):"insideTopLeft"===a?qj({x:o+m,y:s+d,textAnchor:y,verticalAnchor:p},b):"insideTopRight"===a?qj({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:p},b):"insideBottomLeft"===a?qj({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:f},b):"insideBottomRight"===a?qj({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:f},b):br(a)&&(Ka(a.x)||Xa(a.x))&&(Ka(a.y)||Xa(a.y))?qj({x:o+Za(a.x,l),y:s+Za(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):qj({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(n);return c.createElement(wh,Fj({className:Vt("recharts-label",f)},m,g,{breakAll:p}),t)}Wj.displayName="Label";var Vj=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,p=e.left,h=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ka(h)&&Ka(m)){if(Ka(u)&&Ka(d))return{x:u,y:d,width:h,height:m};if(Ka(f)&&Ka(p))return{x:f,y:p,width:h,height:m}}return Ka(u)&&Ka(d)?{x:u,y:d,width:0,height:0}:Ka(t)&&Ka(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};Wj.parseViewBox=Vj,Wj.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Vj(e),o=ji(n,Wj).map(function(e,r){return a.cloneElement(e,{viewBox:t||i,key:"label-".concat(r)})});if(!r)return o;var s=function(e,t){return e?!0===e?c.createElement(Wj,{key:"label-implicit",viewBox:t}):Ya(e)?c.createElement(Wj,{key:"label-implicit",viewBox:t,value:e}):a.isValidElement(e)?e.type===Wj?a.cloneElement(e,{key:"label-implicit",viewBox:t}):c.createElement(Wj,{key:"label-implicit",content:e,viewBox:t}):Or(e)?c.createElement(Wj,{key:"label-implicit",content:e,viewBox:t}):br(e)?c.createElement(Wj,Fj({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(Lj(o))};const Hj=l(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function Xj(e){return(Xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kj=["valueAccessor"],Yj=["data","dataKey","clockWise","id","textBreakAll"];function Jj(e){return function(e){if(Array.isArray(e))return Qj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zj.apply(this,arguments)}function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(t){rw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rw(e,t,r){var n;return n=function(e,t){if("object"!=Xj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Xj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Xj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var aw=function(e){return Array.isArray(e.value)?Hj(e.value):e.value};function iw(e){var t=e.valueAccessor,r=void 0===t?aw:t,n=nw(e,Kj),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=nw(n,Yj);return a&&a.length?c.createElement(Li,{className:"recharts-label-list"},a.map(function(e,t){var n=ya(i)?r(e,t):Yb(e&&e.payload,i),a=ya(s)?{}:{id:"".concat(s,"-").concat(t)};return c.createElement(Wj,Zj({},Ai(e,!0),u,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:l,viewBox:Wj.parseViewBox(ya(o)?e:tw(tw({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}function ow(e){return(ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(t){uw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uw(e,t,r){var n;return n=function(e,t){if("object"!=ow(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ow(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ow(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}iw.displayName="LabelList",iw.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=ji(e.children,iw).map(function(e,r){return a.cloneElement(e,{data:t,key:"labelList-".concat(r)})});return r?[function(e,t){return e?!0===e?c.createElement(iw,{key:"labelList-implicit",data:t}):c.isValidElement(e)||Or(e)?c.createElement(iw,{key:"labelList-implicit",data:t,content:e}):br(e)?c.createElement(iw,Zj({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Jj(n)):n};var dw=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Pj,d=l?a:a+i*u,f=l?a-i*u:a;return{center:Ej(t,r,c,d),circleTangency:Ej(t,r,n,d),lineTangency:Ej(t,r,c*Math.cos(u*Pj),f),theta:u}},fw=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Ha(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=Ej(t,r,a,i),c=Ej(t,r,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=Ej(t,r,n,i),f=Ej(t,r,n,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},pw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hw=function(e){var t=cw(cw({},pw),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(i<a||u===d)return null;var p,h=Vt("recharts-sector",f),m=i-a,g=Za(o,m,0,!0);return p=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Ha(c-l),d=dw({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,p=d.lineTangency,h=d.theta,m=dw({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-h-v;if(x<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):fw({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(n>0){var j=dw({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=j.circleTangency,N=j.lineTangency,O=j.theta,S=dw({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),A=S.circleTangency,P=S.lineTangency,k=S.theta,E=s?Math.abs(l-c):Math.abs(l-c)-O-k;if(E<0&&0===i)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):fw({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),c.createElement("path",sw({},Ai(t,!0),{className:h,d:p,role:"img"}))};function mw(e){return(mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(t){xw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xw(e,t,r){var n;return n=function(e,t){if("object"!=mw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=mw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==mw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bw={curveBasisClosed:function(e){return new Qo(e)},curveBasisOpen:function(e){return new Zo(e)},curveBasis:function(e){return new Jo(e)},curveBumpX:function(e){return new Co(e,!0)},curveBumpY:function(e){return new Co(e,!1)},curveLinearClosed:function(e){return new es(e)},curveLinear:Ao,curveMonotoneX:function(e){return new is(e)},curveMonotoneY:function(e){return new os(e)},curveNatural:function(e){return new ls(e)},curveStep:function(e){return new us(e,.5)},curveStepAfter:function(e){return new us(e,1)},curveStepBefore:function(e){return new us(e,0)}},jw=function(e){return e.x===+e.x&&e.y===+e.y},ww=function(e){return e.x},Nw=function(e){return e.y},Ow=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Or(e))return e;var r="curve".concat(co(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?bw[r]||Ao:bw["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),d=c?i.filter(function(e){return jw(e)}):i;if(Array.isArray(o)){var f=c?o.filter(function(e){return jw(e)}):o,p=d.map(function(e,t){return vw(vw({},e),{},{base:f[t]})});return(t="vertical"===s?To().y(Nw).x1(ww).x0(function(e){return e.base.x}):To().x(ww).y1(Nw).y0(function(e){return e.base.y})).defined(jw).curve(u),t(p)}return(t="vertical"===s&&Ka(o)?To().y(Nw).x1(ww).x0(o):Ka(o)?To().x(ww).y1(Nw).y0(o):Eo().x(ww).y(Nw)).defined(jw).curve(u),t(d)},Sw=function(e){var t=e.className,r=e.points,n=e.path,i=e.pathRef;if(!(r&&r.length||n))return null;var o=r&&r.length?Ow(e):n;return a.createElement("path",gw({},Ai(e,!1),ui(e),{className:Vt("recharts-curve",t),d:o,ref:i}))},Aw={exports:{}};function Pw(){}function kw(){}kw.resetWarningCache=Pw;Aw.exports=function(){function e(e,t,r,n,a,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kw,resetWarningCache:Pw};return r.PropTypes=r,r}();const Ew=l(Aw.exports);var Tw=Object.getOwnPropertyNames,Cw=Object.getOwnPropertySymbols,Mw=Object.prototype.hasOwnProperty;function _w(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function Iw(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function Dw(e){return Tw(e).concat(Cw(e))}var Rw=Object.hasOwn||function(e,t){return Mw.call(e,t)};function Lw(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var Bw=Object.getOwnPropertyDescriptor,zw=Object.keys;function $w(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function qw(e,t){return Lw(e.getTime(),t.getTime())}function Uw(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Fw(e,t){return e===t}function Gw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var f=a.value,p=i.value;if(r.equals(f[0],p[0],l,d,e,t,r)&&r.equals(f[1],p[1],f[0],p[0],e,t,r)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Ww=Lw;function Vw(e,t,r){var n=zw(e),a=n.length;if(zw(t).length!==a)return!1;for(;a-- >0;)if(!Zw(e,t,r,n[a]))return!1;return!0}function Hw(e,t,r){var n,a,i,o=Dw(e),s=o.length;if(Dw(t).length!==s)return!1;for(;s-- >0;){if(!Zw(e,t,r,n=o[s]))return!1;if(a=Bw(e,n),i=Bw(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Xw(e,t){return Lw(e.valueOf(),t.valueOf())}function Kw(e,t){return e.source===t.source&&e.flags===t.flags}function Yw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Jw(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Qw(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Zw(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Rw(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var eN=Array.isArray,tN="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,rN=Object.assign,nN=Object.prototype.toString.call.bind(Object.prototype.toString);var aN=iN();function iN(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Hw:$w,areDatesEqual:qw,areErrorsEqual:Uw,areFunctionsEqual:Fw,areMapsEqual:n?_w(Gw,Hw):Gw,areNumbersEqual:Ww,areObjectsEqual:n?Hw:Vw,arePrimitiveWrappersEqual:Xw,areRegExpsEqual:Kw,areSetsEqual:n?_w(Yw,Hw):Yw,areTypedArraysEqual:n?Hw:Jw,areUrlsEqual:Qw};if(r&&(a=rN({},a,r(a))),t){var i=Iw(a.areArraysEqual),o=Iw(a.areMapsEqual),s=Iw(a.areObjectsEqual),l=Iw(a.areSetsEqual);a=rN({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?o(e,p,h):"function"===m&&a(e,p,h);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(e,p,h);if(eN(e))return t(e,p,h);if(null!=tN&&tN(e))return d(e,p,h);if(g===Date)return r(e,p,h);if(g===RegExp)return c(e,p,h);if(g===Map)return i(e,p,h);if(g===Set)return u(e,p,h);var y=nN(e);return"[object Date]"===y?r(e,p,h):"[object RegExp]"===y?c(e,p,h):"[object Map]"===y?i(e,p,h):"[object Set]"===y?u(e,p,h):"[object Object]"===y?"function"!=typeof e.then&&"function"!=typeof p.then&&s(e,p,h):"[object URL]"===y?f(e,p,h):"[object Error]"===y?n(e,p,h):"[object Arguments]"===y?s(e,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,p,h)}}(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return r(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:i,equals:a?a(c):(t=c,function(e,r,n,a,i,o,s){return t(e,r,s)}),strict:s})}function oN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function sN(e){return(sN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lN(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uN(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=lN(n),i=a[0],o=a.slice(1);return"number"==typeof i?void oN(r.bind(null,o),i):(r(i),void oN(r.bind(null,o)))}"object"===sN(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function dN(e){return(dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(t){hN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==dN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==dN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}iN({strict:!0}),iN({circular:!0}),iN({circular:!0,strict:!0}),iN({createInternalComparator:function(){return Lw}}),iN({strict:!0,createInternalComparator:function(){return Lw}}),iN({circular:!0,createInternalComparator:function(){return Lw}}),iN({circular:!0,createInternalComparator:function(){return Lw},strict:!0});var mN=function(e){return e},gN=function(e,t){return Object.keys(t).reduce(function(r,n){return pN(pN({},r),{},hN({},n,e(n,t[n])))},{})},yN=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function vN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||bN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xN(e){return function(e){if(Array.isArray(e))return jN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bN(e,t){if(e){if("string"==typeof e)return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jN(e,t):void 0}}function jN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wN=1e-4,NN=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},ON=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},SN=function(e,t){return function(r){var n=NN(e,t);return ON(n,r)}},AN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=vN(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],i=l[2],o=l[3]}}var c,u,d=SN(n,i),f=SN(a,o),p=(c=n,u=i,function(e){var t=NN(c,u),r=[].concat(xN(t.map(function(e,t){return e*t}).slice(1)),[0]);return ON(r,e)}),h=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,i=p(r);if(Math.abs(a-t)<wN||i<wN)return f(r);r=h(r-a/i)}return f(r)};return m.isStepper=!1,m},PN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AN(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,o=void 0===i?17:i,s=function(e,t,n){var i=n+(-(e-t)*r-n*a)*o/1e3,s=n*o/1e3+e;return Math.abs(s-t)<wN&&Math.abs(i)<wN?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===n.split("(")[0])return AN(n)}return"function"==typeof n?n:null};function kN(e){return(kN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EN(e){return function(e){if(Array.isArray(e))return DN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||IN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(t){MN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==kN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||IN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IN(e,t){if(e){if("string"==typeof e)return DN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DN(e,t):void 0}}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var RN=function(e,t,r){return e+(t-e)*r},LN=function(e){return e.from!==e.to},BN=function e(t,r,n){var a=gN(function(e,r){if(LN(r)){var n=_N(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return CN(CN({},r),{},{from:a,velocity:i})}return r},r);return n<1?gN(function(e,t){return LN(t)?CN(CN({},t),{},{velocity:RN(t.velocity,a[e].velocity,n),from:RN(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const zN=function(e,t,r,n,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(r,n){return CN(CN({},r),{},MN({},n,[e[n],t[n]]))},{}),d=c.reduce(function(r,n){return CN(CN({},r),{},MN({},n,{from:e[n],velocity:0,to:t[n]}))},{}),f=-1,p=function(){return null};return p=r.isStepper?function(n){s||(s=n);var i=(n-s)/r.dt;d=BN(r,d,i),a(CN(CN(CN({},e),t),gN(function(e,t){return t.from},d))),s=n,Object.values(d).filter(LN).length&&(f=requestAnimationFrame(p))}:function(i){l||(l=i);var o=(i-l)/n,s=gN(function(e,t){return RN.apply(void 0,EN(t).concat([r(o)]))},u);if(a(CN(CN(CN({},e),t),s)),o<1)f=requestAnimationFrame(p);else{var c=gN(function(e,t){return RN.apply(void 0,EN(t).concat([r(1)]))},u);a(CN(CN(CN({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function $N(e){return($N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function UN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FN(e){return function(e){if(Array.isArray(e))return GN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return GN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(t){HN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HN(e,t,r){return(t=KN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XN(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KN(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KN(e){var t=function(e,t){if("object"!==$N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==$N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$N(t)?t:String(t)}function YN(e,t){return(YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function JN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=eO(e);if(t){var a=eO(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return QN(this,r)}}function QN(e,t){if(t&&("object"===$N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZN(e)}function ZN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(e){return(eO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tO=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YN(e,t)}(t,a.PureComponent);var e=JN(t);function t(r,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=e.call(this,r,n)).props,o=i.isActive,s=i.attributeName,l=i.from,c=i.to,u=i.steps,d=i.children,f=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(ZN(a)),a.changeStyle=a.changeStyle.bind(ZN(a)),!o||f<=0)return a.state={style:{}},"function"==typeof d&&(a.state={style:c}),QN(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof d)return a.state={style:l},QN(a);a.state={style:s?HN({},s,l):l}}else a.state={style:{}};return a}return XN(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(aN(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?HN({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(VN(VN({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?HN({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=zN(r,n,PN(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(FN(r.reduce(function(e,n,a){if(0===a)return e;var i=n.duration,o=n.easing,s=void 0===o?"ease":o,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,f=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(FN(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var p=yN(f,i,s),h=VN(VN(VN({},d.style),l),{},{transition:p});return[].concat(FN(e),[h,i,u]).filter(mN)},[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=uN());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?HN({},n,a):a,f=yN(Object.keys(d),r,i);u.start([o,t,VN(VN({},d),{},{transition:f}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var r=e.duration;e.attributeName,e.easing;var n=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=UN(e,qN),o=a.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!n||0===o||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,o=t.className;return a.cloneElement(e,VN(VN({},i),{},{style:VN(VN({},n),s),className:o}))};return 1===o?l(a.Children.only(t)):c.createElement("div",null,a.Children.map(t,function(e){return l(e)}))}}]),t}();function rO(e){return(rO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}function aO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(t){lO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lO(e,t,r){var n;return n=function(e,t){if("object"!=rO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=rO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}tO.displayName="Animate",tO.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},tO.propTypes={from:Ew.oneOfType([Ew.object,Ew.string]),to:Ew.oneOfType([Ew.object,Ew.string]),attributeName:Ew.string,duration:Ew.number,begin:Ew.number,easing:Ew.oneOfType([Ew.string,Ew.func]),steps:Ew.arrayOf(Ew.shape({duration:Ew.number.isRequired,style:Ew.object.isRequired,easing:Ew.oneOfType([Ew.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ew.func]),properties:Ew.arrayOf("string"),onAnimationEnd:Ew.func})),children:Ew.oneOfType([Ew.node,Ew.func]),isActive:Ew.bool,canBegin:Ew.bool,onAnimationEnd:Ew.func,shouldReAnimate:Ew.bool,onAnimationStart:Ew.func,onAnimationReStart:Ew.func};var cO=function(e,t,r,n,a){var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+r-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*f,"\n            L ").concat(e+r,",").concat(t+n-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,"\n            L ").concat(e+l*f,",").concat(t+n,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},uO=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return r>=l&&r<=c&&n>=u&&n<=d}return!1},dO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fO=function(e){var t=sO(sO({},dO),e),r=a.useRef(),n=aO(a.useState(-1),2),i=n[0],o=n[1];a.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.width,d=t.height,f=t.radius,p=t.className,h=t.animationEasing,m=t.animationDuration,g=t.animationBegin,y=t.isAnimationActive,v=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||d!==+d||0===u||0===d)return null;var x=Vt("recharts-rectangle",p);return v?c.createElement(tO,{canBegin:i>0,from:{width:u,height:d,x:s,y:l},to:{width:u,height:d,x:s,y:l},duration:m,animationEasing:h,isActive:v},function(e){var n=e.width,a=e.height,o=e.x,s=e.y;return c.createElement(tO,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:h},c.createElement("path",nO({},Ai(t,!0),{className:x,d:cO(o,s,n,a,f),ref:r})))}):c.createElement("path",nO({},Ai(t,!0),{className:x,d:cO(s,l,u,d,f)}))},pO=["points","className","baseLinePoints","connectNulls"];function hO(){return hO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hO.apply(this,arguments)}function mO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gO(e){return function(e){if(Array.isArray(e))return yO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vO=function(e){return e&&e.x===+e.x&&e.y===+e.y},xO=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){vO(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),vO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(gO(e),gO(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},bO=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=mO(e,pO);if(!t||!t.length)return null;var o=Vt("recharts-polygon",r);if(n&&n.length){var s=i.stroke&&"none"!==i.stroke,l=function(e,t,r){var n=xO(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(xO(t.reverse(),r).slice(1))}(t,n,a);return c.createElement("g",{className:o},c.createElement("path",hO({},Ai(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),s?c.createElement("path",hO({},Ai(i,!0),{fill:"none",d:xO(t,a)})):null,s?c.createElement("path",hO({},Ai(i,!0),{fill:"none",d:xO(n,a)})):null)}var u=xO(t,a);return c.createElement("path",hO({},Ai(i,!0),{fill:"Z"===u.slice(-1)?i.fill:"none",className:o,d:u}))};function jO(){return jO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jO.apply(this,arguments)}var wO=function(e){var t=e.cx,r=e.cy,n=e.r,i=Vt("recharts-dot",e.className);return t===+t&&r===+r&&n===+n?a.createElement("circle",jO({},Ai(e,!1),ui(e),{className:i,cx:t,cy:r,r:n})):null};function NO(e){return(NO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var OO=["x","y","top","left","width","height","className"];function SO(){return SO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SO.apply(this,arguments)}function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PO(e,t,r){var n;return n=function(e,t){if("object"!=NO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=NO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==NO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var EO=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},TO=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.top,o=void 0===i?0:i,s=e.left,l=void 0===s?0:s,u=e.width,d=void 0===u?0:u,f=e.height,p=void 0===f?0:f,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(t){PO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:o,left:l,width:d,height:p},kO(e,OO));return Ka(r)&&Ka(a)&&Ka(d)&&Ka(p)&&Ka(o)&&Ka(l)?c.createElement("path",SO({},Ai(m,!0),{className:Vt("recharts-cross",h),d:EO(r,a,d,p,o,l)})):null},CO=ix,MO=ox,_O=Yu;const IO=l(function(e,t){return e&&e.length?CO(e,_O(t),MO):void 0});var DO=ix,RO=Yu,LO=dx;const BO=l(function(e,t){return e&&e.length?DO(e,RO(t),LO):void 0});var zO=["cx","cy","angle","ticks","axisLine"],$O=["ticks","tick","angle","tickFormatter","stroke"];function qO(e){return(qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UO.apply(this,arguments)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(t){JO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QO(n.key),n)}}function HO(e,t,r){return t=KO(t),function(e,t){if(t&&("object"===qO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,XO()?Reflect.construct(t,r||[],KO(e).constructor):t.apply(e,r))}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(XO=function(){return!!e})()}function KO(e){return(KO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YO(e,t){return(YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function JO(e,t,r){return(t=QO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QO(e){var t=function(e,t){if("object"!=qO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=qO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==qO(t)?t:t+""}var ZO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),HO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YO(e,t)}(e,a.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return c.isValidElement(e)?c.cloneElement(e,t):Or(e)?e(t):c.createElement(wh,UO({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return Ej(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=IO(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:BO(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,o=WO(e,zO),s=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=Ej(t,r,s[0],n),u=Ej(t,r,s[1],n),d=GO(GO(GO({},Ai(o,!1)),{},{fill:"none"},Ai(i,!1)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return c.createElement("line",UO({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.angle,o=r.tickFormatter,s=r.stroke,l=WO(r,$O),u=this.getTickTextAnchor(),d=Ai(l,!1),f=Ai(a,!1),p=n.map(function(r,n){var l=t.getTickValueCoord(r),p=GO(GO(GO(GO({textAnchor:u,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:s},f),{},{index:n},l),{},{payload:r});return c.createElement(Li,UO({className:Vt("recharts-polar-radius-axis-tick",Ij(a)),key:"tick-".concat(r.coordinate)},di(t.props,r,n)),e.renderTickItem(a,p,o?o(r.value,n):r.value))});return c.createElement(Li,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?c.createElement(Li,{className:Vt("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Wj.renderCallByParent(this.props,this.getViewBox())):null}}])&&VO(t.prototype,r),n&&VO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tS(){return tS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tS.apply(this,arguments)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(t){cS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uS(n.key),n)}}function iS(e,t,r){return t=sS(t),function(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oS()?Reflect.construct(t,r||[],sS(e).constructor):t.apply(e,r))}function oS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(oS=function(){return!!e})()}function sS(e){return(sS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lS(e,t){return(lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cS(e,t,r){return(t=uS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uS(e){var t=function(e,t){if("object"!=eS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=eS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==eS(t)?t:t+""}JO(ZO,"displayName","PolarRadiusAxis"),JO(ZO,"axisType","radiusAxis"),JO(ZO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var dS=Math.PI/180,fS=1e-5,pS=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),iS(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lS(e,t)}(e,a.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return c.isValidElement(e)?c.cloneElement(e,t):Or(e)?e(t):c.createElement(wh,tS({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=Ej(r,n,a,e.coordinate),l=Ej(r,n,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*dS);return r>fS?"outer"===t?"start":"end":r<-fS?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,o=nS(nS({},Ai(this.props,!1)),{},{fill:"none"},Ai(a,!1));if("circle"===i)return c.createElement(wO,tS({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var s=this.props.ticks.map(function(e){return Ej(t,r,n,e.coordinate)});return c.createElement(bO,tS({className:"recharts-polar-angle-axis-line"},o,{points:s}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.tickLine,o=r.tickFormatter,s=r.stroke,l=Ai(this.props,!1),u=Ai(a,!1),d=nS(nS({},l),{},{fill:"none"},Ai(i,!1)),f=n.map(function(r,n){var f=t.getTickLineCoord(r),p=nS(nS(nS({textAnchor:t.getTickTextAnchor(r)},l),{},{stroke:"none",fill:s},u),{},{index:n,payload:r,x:f.x2,y:f.y2});return c.createElement(Li,tS({className:Vt("recharts-polar-angle-axis-tick",Ij(a)),key:"tick-".concat(r.coordinate)},di(t.props,r,n)),i&&c.createElement("line",tS({className:"recharts-polar-angle-axis-tick-line"},d,f)),a&&e.renderTickItem(a,p,o?o(r.value,n):r.value))});return c.createElement(Li,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:c.createElement(Li,{className:Vt("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&aS(t.prototype,r),n&&aS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();cS(pS,"displayName","PolarAngleAxis"),cS(pS,"axisType","angleAxis"),cS(pS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hS=hc(Object.getPrototypeOf,Object),mS=cr,gS=hS,yS=ur,vS=Function.prototype,xS=Object.prototype,bS=vS.toString,jS=xS.hasOwnProperty,wS=bS.call(Object);const NS=l(function(e){if(!yS(e)||"[object Object]"!=mS(e))return!1;var t=gS(e);if(null===t)return!0;var r=jS.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&bS.call(r)==wS});var OS=cr,SS=ur;const AS=l(function(e){return!0===e||!1===e||SS(e)&&"[object Boolean]"==OS(e)});function PS(e){return(PS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kS(){return kS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kS.apply(this,arguments)}function ES(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return TS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(t){_S(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _S(e,t,r){var n;return n=function(e,t){if("object"!=PS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=PS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IS,DS=function(e,t,r,n,a){var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},RS={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LS=function(e){var t=MS(MS({},RS),e),r=a.useRef(),n=ES(a.useState(-1),2),i=n[0],o=n[1];a.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.upperWidth,d=t.lowerWidth,f=t.height,p=t.className,h=t.animationEasing,m=t.animationDuration,g=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||d!==+d||f!==+f||0===u&&0===d||0===f)return null;var v=Vt("recharts-trapezoid",p);return y?c.createElement(tO,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:l},to:{upperWidth:u,lowerWidth:d,height:f,x:s,y:l},duration:m,animationEasing:h,isActive:y},function(e){var n=e.upperWidth,a=e.lowerWidth,o=e.height,s=e.x,l=e.y;return c.createElement(tO,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:h},c.createElement("path",kS({},Ai(t,!0),{className:v,d:DS(s,l,n,a,o),ref:r})))}):c.createElement("g",null,c.createElement("path",kS({},Ai(t,!0),{className:v,d:DS(s,l,u,d,f)})))},BS=["option","shapeType","propTransformer","activeClassName","isActive"];function zS(e){return(zS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $S(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function US(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qS(Object(r),!0).forEach(function(t){FS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FS(e,t,r){var n;return n=function(e,t){if("object"!=zS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GS(e,t){return US(US({},t),e)}function WS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return c.createElement(fO,r);case"trapezoid":return c.createElement(LS,r);case"sector":return c.createElement(hw,r);case"symbols":if(function(e){return"symbols"===e}(t))return c.createElement(Os,r);break;default:return null}}function VS(e){var t,r=e.option,n=e.shapeType,i=e.propTransformer,o=void 0===i?GS:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,u=e.isActive,d=$S(e,BS);if(a.isValidElement(r))t=a.cloneElement(r,US(US({},d),function(e){return a.isValidElement(e)?e.props:e}(r)));else if(Or(r))t=r(d);else if(NS(r)&&!AS(r)){var f=o(r,d);t=c.createElement(WS,{shapeType:n,elementProps:f})}else{var p=d;t=c.createElement(WS,{shapeType:n,elementProps:p})}return u?c.createElement(Li,{className:l},t):t}function HS(e,t){return null!=t&&"trapezoids"in e.props}function XS(e,t){return null!=t&&"sectors"in e.props}function KS(e,t){return null!=t&&"points"in e.props}function YS(e,t){var r,n,a=e.x===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function JS(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function QS(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ZS(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return HS(e,t)?r="trapezoids":XS(e,t)?r="sectors":KS(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return HS(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:XS(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:KS(e,t)?t.payload:{}}(r,t),o=n.filter(function(e,n){var o=Ox(i,e),s=r.props[a].filter(function(e){var n=function(e,t){var r;return HS(e,t)?r=YS:XS(e,t)?r=JS:KS(e,t)&&(r=QS),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(s[s.length-1]);return o&&n===l});return n.indexOf(o[o.length-1])}function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tA(){return tA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tA.apply(this,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(t){cA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uA(n.key),n)}}function iA(e,t,r){return t=sA(t),function(e,t){if(t&&("object"===eA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oA()?Reflect.construct(t,r||[],sA(e).constructor):t.apply(e,r))}function oA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(oA=function(){return!!e})()}function sA(e){return(sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lA(e,t){return(lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cA(e,t,r){return(t=uA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uA(e){var t=function(e,t){if("object"!=eA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=eA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==eA(t)?t:t+""}var dA=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cA(r=iA(this,e,[t]),"pieRef",null),cA(r,"sectorRefs",[]),cA(r,"id",Qa("recharts-pie-")),cA(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Or(e)&&e()}),cA(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Or(e)&&e()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lA(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(c.isValidElement(e))return c.cloneElement(e,t);if(Or(e))return e(t);var n=Vt("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return c.createElement(Sw,tA({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(c.isValidElement(e))return c.cloneElement(e,t);var n=r;if(Or(e)&&(n=e(t),c.isValidElement(n)))return n;var a=Vt("recharts-pie-label-text","boolean"==typeof e||Or(e)?"":e.className);return c.createElement(wh,tA({},t,{alignmentBaseline:"middle",className:a}),n)}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,i=r.dataKey,o=r.valueKey,s=Ai(this.props,!1),l=Ai(n,!1),u=Ai(a,!1),d=n&&n.offsetRadius||20,f=t.map(function(t,r){var f=(t.startAngle+t.endAngle)/2,p=Ej(t.cx,t.cy,t.outerRadius+d,f),h=nA(nA(nA(nA({},s),t),{},{stroke:"none"},l),{},{index:r,textAnchor:e.getTextAnchor(p.x,t.cx)},p),m=nA(nA(nA(nA({},s),t),{},{fill:"none",stroke:t.fill},u),{},{index:r,points:[Ej(t.cx,t.cy,t.outerRadius,f),p]}),g=i;return ya(i)&&ya(o)?g="value":ya(i)&&(g=o),c.createElement(Li,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(r)},a&&e.renderLabelLineItem(a,m,"line"),e.renderLabelItem(n,h,Yb(t,g)))});return c.createElement(Li,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,i=r.inactiveShape;return e.map(function(r,o){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(o),l=i&&t.hasActiveIndex()?i:null,u=s?n:l,d=nA(nA({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return c.createElement(Li,tA({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},di(t.props,r,o),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),c.createElement(VS,tA({option:u,isActive:s,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,o=t.animationEasing,s=t.animationId,l=this.state,u=l.prevSectors,d=l.prevIsAnimationActive;return c.createElement(tO,{begin:a,duration:i,isActive:n,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,a=[],i=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=u&&u[t],o=t>0?ga(e,"paddingAngle",0):0;if(r){var s=ti(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=nA(nA({},e),{},{startAngle:i+o,endAngle:i+s(n)+o});a.push(l),i=l.endAngle}else{var c=e.endAngle,d=e.startAngle,f=ti(0,c-d)(n),p=nA(nA({},e),{},{startAngle:i+o,endAngle:i+f+o});a.push(p),i=p.endAngle}}),c.createElement(Li,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&Ox(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,i=t.label,o=t.cx,s=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(r||!n||!n.length||!Ka(o)||!Ka(s)||!Ka(l)||!Ka(u))return null;var p=Vt("recharts-pie",a);return c.createElement(Li,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),Wj.renderCallByParent(this.props,null,!1),(!d||f)&&iw.renderCallByParent(this.props,n,!1))}}])&&aA(t.prototype,r),n&&aA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();IS=dA,cA(dA,"displayName","Pie"),cA(dA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Zf,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),cA(dA,"parseDeltaAngle",function(e,t){return Ha(t-e)*Math.min(Math.abs(t-e),360)}),cA(dA,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ai(e,!1),a=ji(r,zp);return t&&t.length?t.map(function(e,t){return nA(nA(nA({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return nA(nA({},n),e.props)}):[]}),cA(dA,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Tj(a,i);return{cx:n+Za(e.cx,a,a/2),cy:r+Za(e.cy,i,i/2),innerRadius:Za(e.innerRadius,o,0),outerRadius:Za(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),cA(dA,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?nA(nA({},t.type.defaultProps),t.props):t.props,a=IS.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),h=IS.parseCoordinateOfPie(n,r),m=IS.parseDeltaAngle(o,s),g=Math.abs(m),y=c;ya(c)&&ya(d)?(Bi(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):ya(c)&&(Bi(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,x,b=a.filter(function(e){return 0!==Yb(e,y,0)}).length,j=g-b*p-(g>=360?b:b-1)*l,w=a.reduce(function(e,t){var r=Yb(t,y,0);return e+(Ka(r)?r:0)},0);w>0&&(v=a.map(function(e,t){var r,n=Yb(e,y,0),a=Yb(e,u,t),s=(Ka(n)?n:0)/w,c=(r=t?x.endAngle+Ha(m)*l*(0!==n?1:0):o)+Ha(m)*((0!==n?p:0)+s*j),d=(r+c)/2,g=(h.innerRadius+h.outerRadius)/2,v=[{name:a,value:n,payload:e,dataKey:y,type:f}],b=Ej(h.cx,h.cy,g,d);return x=nA(nA(nA({percent:s,cornerRadius:i,name:a,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:b},e),h),{},{value:Yb(e,y),startAngle:r,endAngle:c,payload:e,paddingAngle:Ha(m)*l})}));return nA(nA({},h),{},{sectors:v,data:a})});var fA=Math.ceil,pA=Math.max;var hA=Np,mA=1/0;var gA=function(e){return e?(e=hA(e))===mA||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},yA=function(e,t,r,n){for(var a=-1,i=pA(fA((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o},vA=wf,xA=gA;const bA=l(function(e){return function(t,r,n){return n&&"number"!=typeof n&&vA(t,r,n)&&(r=n=void 0),t=xA(t),void 0===r?(r=t,t=0):r=xA(r),n=void 0===n?t<r?1:-1:xA(n),yA(t,r,n,e)}}());function jA(e){return(jA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function NA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(t){OA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OA(e,t,r){var n;return n=function(e,t){if("object"!=jA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SA=["Webkit","Moz","O","ms"];function AA(e){return(AA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PA(){return PA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PA.apply(this,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(t){DA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function TA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RA(n.key),n)}}function CA(e,t,r){return t=_A(t),function(e,t){if(t&&("object"===AA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MA()?Reflect.construct(t,r||[],_A(e).constructor):t.apply(e,r))}function MA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(MA=function(){return!!e})()}function _A(e){return(_A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IA(e,t){return(IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function DA(e,t,r){return(t=RA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RA(e){var t=function(e,t){if("object"!=AA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=AA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==AA(t)?t:t+""}var LA=function(e){return e.changedTouches&&!!e.changedTouches.length},BA=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),DA(r=CA(this,e,[t]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),DA(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),DA(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null==n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),DA(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),DA(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),DA(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),DA(r,"handleSlideDragStart",function(e){var t=LA(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}(e,a.PureComponent),t=e,n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,o=Math.floor(r+a/2)-1;return c.createElement(c.Fragment,null,c.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),c.createElement("line",{x1:t+1,y1:o,x2:t+n-1,y2:o,fill:"none",stroke:"#fff"}),c.createElement("line",{x1:t+1,y1:o+2,x2:t+n-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,r){return c.isValidElement(t)?c.cloneElement(t,r):Or(t)?t(r):e.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return EA({prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Jh().domain(bA(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],(r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var r=t.startX,n=t.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=e.getIndexInRange(a,l),d=e.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=Yb(r[e],a,e);return Or(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-r;f>0?f=Math.min(f,o+s-l-a,o+s-l-n):f<0&&(f=Math.max(f,o-n,o-a));var p=this.getIndex({startX:n+f,endX:a+f});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:n+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=LA(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[n],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,p=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),h[n]=o+m;var g=this.getIndex(h),y=g.startIndex,v=g.endIndex;this.setState(DA(DA({},n,o+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=p.length-1,("startX"===n&&(a>i?y%f===0:v%f===0)||a<i&&v===e||"endX"===n&&(a>i?v%f===0:y%f===0)||a>i&&v===e)&&d(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,o=n.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(DA({},t,u),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,o=e.stroke;return c.createElement("rect",{stroke:o,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,u=a.Children.only(s);return u?c.cloneElement(u,{x:t,y:r,width:n,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,r){var n,a,i=this,o=this.props,s=o.y,l=o.travellerWidth,u=o.height,d=o.traveller,f=o.ariaLabel,p=o.data,h=o.startIndex,m=o.endIndex,g=Math.max(t,this.props.x),y=EA(EA({},Ai(this.props,!1)),{},{x:g,y:s,width:l,height:u}),v=f||"Min value: ".concat(null===(n=p[h])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=p[m])||void 0===a?void 0:a.name);return c.createElement(Li,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,o=r.travellerWidth,s=Math.min(e,t)+o,l=Math.max(Math.abs(t-e)-o,0);return c.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:s,y:n,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,o=e.stroke,s=this.state,l=s.startX,u=s.endX,d={pointerEvents:"none",fill:o};return c.createElement(Li,{className:"recharts-brush-texts"},c.createElement(wh,PA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:n+a/2},d),this.getTextOfTick(t)),c.createElement(wh,PA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+i+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,o=e.width,s=e.height,l=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,p=u.isTextActive,h=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!Ka(a)||!Ka(i)||!Ka(o)||!Ka(s)||o<=0||s<=0)return null;var y,v,x,b,j=Vt("recharts-brush",r),w=1===c.Children.count(n),N=(v="none",x=(y="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(b=SA.reduce(function(e,t){return NA(NA({},e),{},OA({},t+x,v))},{}))[y]=v,b);return c.createElement(Li,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(p||h||m||g||l)&&this.renderText())}}])&&TA(t.prototype,r),n&&TA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();DA(BA,"displayName","Brush"),DA(BA,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zA=qd;var $A=el,qA=Yu,UA=function(e,t){var r;return zA(e,function(e,n,a){return!(r=t(e,n,a))}),!!r},FA=Ht,GA=wf;const WA=l(function(e,t,r){var n=FA(e)?$A:UA;return r&&GA(e,t,r)&&(t=void 0),n(e,qA(t))});var VA=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},HA=cf;var XA=function(e,t,r){"__proto__"==t&&HA?HA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},KA=zd,YA=Yu;const JA=l(function(e,t){var r={};return t=YA(t),KA(e,function(e,n,a){XA(r,n,t(e,n,a))}),r});var QA=qd;var ZA=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0},eP=function(e,t){var r=!0;return QA(e,function(e,n,a){return r=!!t(e,n,a)}),r},tP=Yu,rP=Ht,nP=wf;const aP=l(function(e,t,r){var n=rP(e)?ZA:eP;return r&&nP(e,t,r)&&(t=void 0),n(e,tP(t))});var iP=["x","y"];function oP(e){return(oP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sP(){return sP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sP.apply(this,arguments)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(t){uP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uP(e,t,r){var n;return n=function(e,t){if("object"!=oP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=oP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oP(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fP(e,t){var r=e.x,n=e.y,a=dP(e,iP),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),f=parseInt(d,10);return cP(cP(cP(cP(cP({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function pP(e){return c.createElement(VS,sP({shapeType:"rectangle",propTransformer:fP,activeClassName:"recharts-active-bar"},e))}var hP,mP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"==typeof e)return e;var a=Ka(r)||function(e){return ya(e)}(r);return a?e(r,n):(a||Ob(),t)}},gP=["value","background"];function yP(e){return(yP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xP(){return xP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xP.apply(this,arguments)}function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(t){PP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kP(n.key),n)}}function NP(e,t,r){return t=SP(t),function(e,t){if(t&&("object"===yP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,OP()?Reflect.construct(t,r||[],SP(e).constructor):t.apply(e,r))}function OP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(OP=function(){return!!e})()}function SP(e){return(SP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AP(e,t){return(AP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function PP(e,t,r){return(t=kP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kP(e){var t=function(e,t){if("object"!=yP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=yP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==yP(t)?t:t+""}var EP=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return PP(t=NP(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),PP(t,"id",Qa("recharts-bar-")),PP(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),PP(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AP(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,i=r.activeIndex,o=r.activeBar,s=Ai(this.props,!1);return e&&e.map(function(e,r){var l=r===i,u=l?o:n,d=jP(jP(jP({},s),e),{},{isActive:l,option:u,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return c.createElement(Li,xP({className:"recharts-bar-rectangle"},di(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),c.createElement(pP,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,u=this.state.prevData;return c.createElement(tO,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=r.map(function(e,t){var r=u&&u[t];if(r){var i=ti(r.x,e.x),o=ti(r.y,e.y),s=ti(r.width,e.width),l=ti(r.height,e.height);return jP(jP({},e),{},{x:i(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===n){var c=ti(0,e.height)(a);return jP(jP({},e),{},{y:e.y+e.height-c,height:c})}var d=ti(0,e.width)(a);return jP(jP({},e),{},{width:d})});return c.createElement(Li,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&Ox(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,i=Ai(this.props.background,!1);return r.map(function(t,r){t.value;var o=t.background,s=vP(t,gP);if(!o)return null;var l=jP(jP(jP(jP(jP({},s),{},{fill:"#eee"},o),i),di(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return c.createElement(pP,xP({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,o=r.layout,s=ji(r.children,Bb);if(!s)return null;var l="vertical"===o?n[0].height/2:n[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Yb(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return c.createElement(Li,d,s.map(function(e){return c.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:o,offset:l,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,o=e.left,s=e.top,l=e.width,u=e.height,d=e.isAnimationActive,f=e.background,p=e.id;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,m=Vt("recharts-bar",n),g=a&&a.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,x=ya(p)?this.id:p;return c.createElement(Li,{className:m},g||y?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(x)},c.createElement("rect",{x:g?o:o-l/2,y:y?s:s-u/2,width:g?l:2*l,height:y?u:2*u}))):null,c.createElement(Li,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!d||h)&&iw.renderCallByParent(this.props,r))}}])&&wP(t.prototype,r),n&&wP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function TP(e){return(TP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DP(n.key),n)}}function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(t){IP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IP(e,t,r){return(t=DP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DP(e){var t=function(e,t){if("object"!=TP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=TP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TP(t)?t:t+""}hP=EP,PP(EP,"displayName","Bar"),PP(EP,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Zf,animationBegin:0,animationDuration:400,animationEasing:"ease"}),PP(EP,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,p=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!p)return null;var h=t.layout,m=r.type.defaultProps,g=void 0!==m?jP(jP({},m),r.props):r.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===h?o:i,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=ji(v,zp),O=d.map(function(e,t){var n,d,f,m,g,v;c?n=function(e,t){if(!t||2!==t.length||!Ka(t[0])||!Ka(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ka(e[0])||e[0]<r)&&(a[0]=r),(!Ka(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],j):(n=Yb(e,y),Array.isArray(n)||(n=[w,n]));var b=mP(x,hP.defaultProps.minPointSize)(n[1],t);if("horizontal"===h){var O,S=[o.scale(n[0]),o.scale(n[1])],A=S[0],P=S[1];d=pj({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:e,index:t}),f=null!==(O=null!=P?P:A)&&void 0!==O?O:void 0,m=p.size;var k=A-P;if(g=Number.isNaN(k)?0:k,v={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=Ha(g||b)*(Math.abs(b)-Math.abs(g));f-=E,g+=E}}else{var T=[i.scale(n[0]),i.scale(n[1])],C=T[0],M=T[1];if(d=C,f=pj({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),m=M-C,g=p.size,v={x:i.x,y:f,width:i.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=Ha(m||b)*(Math.abs(b)-Math.abs(m))}return jP(jP(jP({},e),{},{x:d,y:f,width:m,height:g,value:c?n:n[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[bj(r,e)],tooltipPosition:{x:d+m/2,y:f+g/2}})});return jP({data:O,layout:h},f)});var RP=function(e,t,r,n,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!wi(l,EP);return c.reduce(function(i,o){var l,c,f,p,h,m=t[o],g=m.orientation,y=m.domain,v=m.padding,x=void 0===v?{}:v,b=m.mirror,j=m.reversed,w="".concat(g).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=y[1]-y[0],O=1/0,S=m.categoricalDomain.sort(ni);if(S.forEach(function(e,t){t>0&&(O=Math.min((e||0)-(S[t-1]||0),O))}),Number.isFinite(O)){var A=O/N,P="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=A*P/2),"no-gap"===m.padding){var k=Za(e.barCategoryGap,A*P),E=A*P/2;l=E-k-(E-k)/P*k}}}c="xAxis"===n?[r.left+(x.left||0)+(l||0),r.left+r.width-(x.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(l||0),r.top+r.height-(x.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var T=oj(m,a,d),C=T.scale,M=T.realScaleType;C.domain(y).range(c),lj(C);var _=dj(C,_P(_P({},m),{},{realScaleType:M}));"xAxis"===n?(h="top"===g&&!b||"bottom"===g&&b,f=r.left,p=u[w]-h*m.height):"yAxis"===n&&(h="left"===g&&!b||"right"===g&&b,f=u[w]-h*m.width,p=r.top);var I=_P(_P(_P({},m),_),{},{realScaleType:M,x:f,y:p,scale:C,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return I.bandSize=vj(I,_),m.hide||"xAxis"!==n?m.hide||(u[w]+=(h?-1:1)*I.width):u[w]+=(h?-1:1)*I.height,_P(_P({},i),{},IP({},o,I))},{})},LP=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},BP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&CP(t.prototype,r),n&&CP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();IP(BP,"EPS",1e-4);var zP=function(e){var t=Object.keys(e).reduce(function(t,r){return _P(_P({},t),{},IP({},r,BP.create(e[r])))},{});return _P(_P({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return JA(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return aP(e,function(e,r){return t[r].isInRange(e)})}})};var $P=Yu,qP=jc,UP=Sc;var FP=function(e){return function(t,r,n){var a=Object(t);if(!qP(t)){var i=$P(r);t=UP(t),r=function(e){return i(a[e],e,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}},GP=gA;var WP=Ju,VP=Yu,HP=function(e){var t=GP(e),r=t%1;return t==t?r?t-r:t:0},XP=Math.max;const KP=l(FP(function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:HP(r);return a<0&&(a=XP(n+a,0)),WP(e,VP(t),a)}));var YP=Gn(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),JP=a.createContext(void 0),QP=a.createContext(void 0),ZP=a.createContext(void 0),ek=a.createContext({}),tk=a.createContext(void 0),rk=a.createContext(0),nk=a.createContext(0),ak=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,o=e.children,s=e.width,l=e.height,u=YP(a);return c.createElement(JP.Provider,{value:r},c.createElement(QP.Provider,{value:n},c.createElement(ek.Provider,{value:a},c.createElement(ZP.Provider,{value:u},c.createElement(tk.Provider,{value:i},c.createElement(rk.Provider,{value:l},c.createElement(nk.Provider,{value:s},o)))))))},ik=function(e){var t=a.useContext(JP);null==t&&Ob();var r=t[e];return null==r&&Ob(),r},ok=function(e){var t=a.useContext(QP);null==t&&Ob();var r=t[e];return null==r&&Ob(),r},sk=function(){return a.useContext(nk)},lk=function(){return a.useContext(rk)};function ck(e){return(ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dk(e,t,r){return t=pk(t),function(e,t){if(t&&("object"===ck(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fk()?Reflect.construct(t,r||[],pk(e).constructor):t.apply(e,r))}function fk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(fk=function(){return!!e})()}function pk(e){return(pk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hk(e,t){return(hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(t){yk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yk(e,t,r){return(t=vk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vk(e){var t=function(e,t){if("object"!=ck(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ck(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ck(t)?t:t+""}function xk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function wk(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,u=e.alwaysShow,d=a.useContext(tk),f=ik(i),p=ok(o),h=a.useContext(ZP);if(!d||!h)return null;Bi(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,r,n,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,f=a.height;if(r){var p=l.y,h=e.y.apply(p,{position:i});if(VA(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:c+d,y:h},{x:c,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(VA(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+f},{x:y,y:u}];return"top"===o?v.reverse():v}if(n){var x=l.segment.map(function(t){return e.apply(t,{position:i})});return VA(l,"discard")&&WA(x,function(t){return!e.isInRange(t)})?null:x}return null}(zP({x:f.scale,y:p.scale}),Ya(t),Ya(r),n&&2===n.length,h,e.position,f.orientation,p.orientation,e);if(!m)return null;var g=xk(m,2),y=g[0],v=y.x,x=y.y,b=g[1],j=b.x,w=b.y,N=gk(gk({clipPath:VA(e,"hidden")?"url(#".concat(d,")"):void 0},Ai(e,!0)),{},{x1:v,y1:x,x2:j,y2:w});return c.createElement(Li,{className:Vt("recharts-reference-line",l)},function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):Or(e)?e(t):c.createElement("line",jk({},t,{className:"recharts-reference-line-line"}))}(s,N),Wj.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return LP({x:t,y:r},{x:n,y:a})}({x1:v,y1:x,x2:j,y2:w})))}var Nk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}(e,c.Component),uk(e,[{key:"render",value:function(){return c.createElement(wk,this.props)}}])}();function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ok.apply(this,arguments)}function Sk(e){return(Sk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(t){_k(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ik(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ek(e,t,r){return t=Ck(t),function(e,t){if(t&&("object"===Sk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Tk()?Reflect.construct(t,r||[],Ck(e).constructor):t.apply(e,r))}function Tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Tk=function(){return!!e})()}function Ck(e){return(Ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mk(e,t){return(Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _k(e,t,r){return(t=Ik(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ik(e){var t=function(e,t){if("object"!=Sk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Sk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Sk(t)?t:t+""}yk(Nk,"displayName","ReferenceLine"),yk(Nk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Dk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ek(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}(e,c.Component),kk(e,[{key:"render",value:function(){var t=this.props,r=t.x,n=t.y,a=t.r,i=t.alwaysShow,o=t.clipPathId,s=Ya(r),l=Ya(n);if(Bi(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=zP({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return VA(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,f=u.y,p=this.props,h=p.shape,m=p.className,g=Pk(Pk({clipPath:VA(this.props,"hidden")?"url(#".concat(o,")"):void 0},Ai(this.props,!0)),{},{cx:d,cy:f});return c.createElement(Li,{className:Vt("recharts-reference-dot",m)},e.renderDot(h,g),Wj.renderCallByParent(this.props,{x:d-a,y:f-a,width:2*a,height:2*a}))}}])}();function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rk.apply(this,arguments)}function Lk(e){return(Lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(t){Wk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $k(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qk(e,t,r){return t=Fk(t),function(e,t){if(t&&("object"===Lk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Uk()?Reflect.construct(t,r||[],Fk(e).constructor):t.apply(e,r))}function Uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Uk=function(){return!!e})()}function Fk(e){return(Fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gk(e,t){return(Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wk(e,t,r){return(t=Vk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vk(e){var t=function(e,t){if("object"!=Lk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Lk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Lk(t)?t:t+""}_k(Dk,"displayName","ReferenceDot"),_k(Dk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),_k(Dk,"renderDot",function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):Or(e)?e(t):c.createElement(wO,Ok({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var Hk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),qk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}(e,c.Component),$k(e,[{key:"render",value:function(){var t=this.props,r=t.x1,n=t.x2,a=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,l=t.clipPathId;Bi(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ya(r),d=Ya(n),f=Ya(a),p=Ya(i),h=this.props.shape;if(!(u||d||f||p||h))return null;var m=function(e,t,r,n,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=zP({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!VA(a,"discard")||d.isInRange(f)&&d.isInRange(p)?LP(f,p):null}(u,d,f,p,this.props);if(!m&&!h)return null;var g=VA(this.props,"hidden")?"url(#".concat(l,")"):void 0;return c.createElement(Li,{className:Vt("recharts-reference-area",o)},e.renderRect(h,zk(zk({clipPath:g},Ai(this.props,!0)),m)),Wj.renderCallByParent(this.props,m))}}])}();function Xk(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Kk(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function Yk(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Jk(e){return(Jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(t){eE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eE(e,t,r){var n;return n=function(e,t){if("object"!=Jk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Jk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Jk(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Ka(l)||Zf)return function(e,t){return Xk(e,t+1)}(a,"number"==typeof l&&Ka(l)?l:0);var f=[],p="top"===s||"bottom"===s?"width":"height",h=u&&"width"===p?Hp(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=Or(c)?c(e.value,n):e.value;return"width"===p?Kk(Hp(a,{fontSize:t,letterSpacing:r}),h,d):Hp(a,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?Ha(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(i,g,p);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:Xk(n,u)};var i,o=c,f=function(){return void 0===i&&(i=r(t,o)),i},p=t.coordinate,h=0===c||Yk(e,p,f,d,l);h||(c=0,d=s,u+=1),h&&(d=p+e*(f()/2+a),c+=u)};u<=o.length;)if(i=f())return i.v;return[]}(g,y,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=Zk(Zk({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),Yk(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=Zk(Zk({},u),{},{isShow:!0}))}for(var p=i?s-1:s,h=function(t){var n,i=o[t],s=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=Zk(Zk({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=Zk(Zk({},i),{},{tickCoord:i.coordinate});Yk(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=Zk(Zk({},i),{},{isShow:!0}))},m=0;m<p;m++)h(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=Zk(Zk({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=Zk(Zk({},c),{},{tickCoord:c.coordinate});Yk(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=Zk(Zk({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,y,m,a,o),f.filter(function(e){return e.isShow}))}Wk(Hk,"displayName","ReferenceArea"),Wk(Hk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Wk(Hk,"renderRect",function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):Or(e)?e(t):c.createElement(fO,Rk({},t,{className:"recharts-reference-area-rect"}))});var rE=["viewBox"],nE=["viewBox"],aE=["ticks"];function iE(e){return(iE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oE(){return oE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oE.apply(this,arguments)}function sE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sE(Object(r),!0).forEach(function(t){mE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gE(n.key),n)}}function dE(e,t,r){return t=pE(t),function(e,t){if(t&&("object"===iE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fE()?Reflect.construct(t,r||[],pE(e).constructor):t.apply(e,r))}function fE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(fE=function(){return!!e})()}function pE(e){return(pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hE(e,t){return(hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mE(e,t,r){return(t=gE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e){var t=function(e,t){if("object"!=iE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=iE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==iE(t)?t:t+""}var yE=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=dE(this,e,[t])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}(e,a.Component),t=e,n=[{key:"renderTickItem",value:function(e,t,r){var n=Vt(t.className,"recharts-cartesian-axis-tick-value");return c.isValidElement(e)?c.cloneElement(e,lE(lE({},t),{},{className:n})):Or(e)?e(lE(lE({},t),{},{className:n})):c.createElement(wh,oE({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=cE(e,rE),a=this.props,i=a.viewBox,o=cE(a,nE);return!ai(r,i)||!ai(n,o)||!ai(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,y=e.tickSize||p,v=Ka(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=r=e.coordinate,o=(n=(a=c+ +!h*d)-g*y)-g*m,i=v;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!h*u)-g*y)-g*m,o=v;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +h*u)+g*y)+g*m,o=v;break;default:t=r=e.coordinate,o=(n=(a=c+ +h*d)+g*y)+g*m,i=v}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,o=e.mirror,s=e.axisLine,l=lE(lE(lE({},Ai(this.props,!1)),Ai(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!o||"bottom"===i&&o);l=lE(lE({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+("left"===i&&!o||"right"===i&&o);l=lE(lE({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return c.createElement("line",oE({},l,{className:Vt("recharts-cartesian-axis-line",ga(s,"className"))}))}},{key:"renderTicks",value:function(t,r,n){var a=this,i=this.props,o=i.tickLine,s=i.stroke,l=i.tick,u=i.tickFormatter,d=i.unit,f=tE(lE(lE({},this.props),{},{ticks:t}),r,n),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ai(this.props,!1),g=Ai(l,!1),y=lE(lE({},m),{},{fill:"none"},Ai(o,!1)),v=f.map(function(t,r){var n=a.getTickLineCoord(t),i=n.line,v=n.tick,x=lE(lE(lE(lE({textAnchor:p,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),v),{},{index:r,payload:t,visibleTicksCount:f.length,tickFormatter:u});return c.createElement(Li,oE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},di(a.props,t,r)),o&&c.createElement("line",oE({},y,i,{className:Vt("recharts-cartesian-axis-tick-line",ga(o,"className"))})),l&&e.renderTickItem(l,x,"".concat(Or(u)?u(t.value,r):t.value).concat(d||"")))});return c.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,o=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,u=cE(s,aE),d=l;return Or(i)&&(d=l&&l.length>0?i(this.props):i(u)),n<=0||a<=0||!d||!d.length?null:c.createElement(Li,{className:Vt("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Wj.renderCallByParent(this.props))}}])&&uE(t.prototype,r),n&&uE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();mE(yE,"displayName","CartesianAxis"),mE(yE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vE=["x1","y1","x2","y2","key"],xE=["offset"];function bE(e){return(bE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jE(Object(r),!0).forEach(function(t){NE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NE(e,t,r){var n;return n=function(e,t){if("object"!=bE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=bE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OE.apply(this,arguments)}function SE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var AE=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.ry;return c.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function PE(e,t){var r;if(c.isValidElement(e))r=c.cloneElement(e,t);else if(Or(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=SE(t,vE),u=Ai(l,!1);u.offset;var d=SE(u,xE);r=c.createElement("line",OE({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function kE(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(n,i){var o=wE(wE({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i});return PE(a,o)});return c.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function EE(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(n,i){var o=wE(wE({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i});return PE(a,o)});return c.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function TE(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var u=s.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==u[0]&&u.unshift(0);var d=u.map(function(e,s){var l=!u[s+1]?a+o-e:u[s+1]-e;if(l<=0)return null;var d=s%t.length;return c.createElement("rect",{key:"react-".concat(s),y:e,x:n,height:l,width:i,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function CE(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var f=d.map(function(e,t){var r=!d[t+1]?i+s-e:d[t+1]-e;if(r<=0)return null;var u=t%n.length;return c.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:r,height:l,stroke:"none",fill:n[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ME=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return rj(tE(wE(wE(wE({},yE.defaultProps),r),{},{ticks:nj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},_E=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return rj(tE(wE(wE(wE({},yE.defaultProps),r),{},{ticks:nj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},IE={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DE(e){var t,r,n,i,o,s,l,u,d=sk(),f=lk(),p=a.useContext(ek),h=wE(wE({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:IE.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:IE.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:IE.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:IE.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:IE.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:IE.verticalFill,x:Ka(e.x)?e.x:p.left,y:Ka(e.y)?e.y:p.top,width:Ka(e.width)?e.width:p.width,height:Ka(e.height)?e.height:p.height}),m=h.x,g=h.y,y=h.width,v=h.height,x=h.syncWithTicks,b=h.horizontalValues,j=h.verticalValues,w=(l=a.useContext(JP),ei(l)),N=(u=a.useContext(QP),KP(u,function(e){return aP(e.domain,Number.isFinite)})||ei(u));if(!Ka(y)||y<=0||!Ka(v)||v<=0||!Ka(m)||m!==+m||!Ka(g)||g!==+g)return null;var O=h.verticalCoordinatesGenerator||ME,S=h.horizontalCoordinatesGenerator||_E,A=h.horizontalPoints,P=h.verticalPoints;if((!A||!A.length)&&Or(S)){var k=b&&b.length,E=S({yAxis:N?wE(wE({},N),{},{ticks:k?b:N.ticks}):void 0,width:d,height:f,offset:p},!!k||x);Bi(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(bE(E),"]")),Array.isArray(E)&&(A=E)}if((!P||!P.length)&&Or(O)){var T=j&&j.length,C=O({xAxis:w?wE(wE({},w),{},{ticks:T?j:w.ticks}):void 0,width:d,height:f,offset:p},!!T||x);Bi(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(bE(C),"]")),Array.isArray(C)&&(P=C)}return c.createElement("g",{className:"recharts-cartesian-grid"},c.createElement(AE,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),c.createElement(kE,OE({},h,{offset:p,horizontalPoints:A,xAxis:w,yAxis:N})),c.createElement(EE,OE({},h,{offset:p,verticalPoints:P,xAxis:w,yAxis:N})),c.createElement(TE,OE({},h,{horizontalPoints:A})),c.createElement(CE,OE({},h,{verticalPoints:P})))}DE.displayName="CartesianGrid";var RE=["type","layout","connectNulls","ref"],LE=["key"];function BE(e){return(BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $E(){return $E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$E.apply(this,arguments)}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(t){YE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FE(e){return function(e){if(Array.isArray(e))return GE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return GE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JE(n.key),n)}}function VE(e,t,r){return t=XE(t),function(e,t){if(t&&("object"===BE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HE()?Reflect.construct(t,r||[],XE(e).constructor):t.apply(e,r))}function HE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(HE=function(){return!!e})()}function XE(e){return(XE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KE(e,t){return(KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YE(e,t,r){return(t=JE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JE(e){var t=function(e,t){if("object"!=BE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=BE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==BE(t)?t:t+""}var QE=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return YE(t=VE(this,e,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),YE(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),YE(t,"getStrokeDasharray",function(r,n,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(n,r);for(var o=Math.floor(r/i),s=r%i,l=n-r,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(FE(a.slice(0,u)),[s-d]);break}var f=c.length%2==0?[0,l]:[l];return[].concat(FE(e.repeat(a,o)),FE(c),f).map(function(e){return"".concat(e,"px")}).join(", ")}),YE(t,"id",Qa("recharts-line-")),YE(t,"pathRef",function(e){t.mainCurve=e}),YE(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),YE(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(FE(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(FE(n),FE(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(c.isValidElement(e))r=c.cloneElement(e,t);else if(Or(e))r=e(t);else{var n=t.key,a=zE(t,LE),i=Vt("recharts-line-dot","boolean"!=typeof e?e.className:"");r=c.createElement(wO,$E({key:n},a,{className:i}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,i=r.yAxis,o=r.layout,s=ji(r.children,Bb);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Yb(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return c.createElement(Li,u,s.map(function(e){return c.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:o,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,o=a.points,s=a.dataKey,l=Ai(this.props,!1),u=Ai(i,!0),d=o.map(function(t,r){var n=UE(UE(UE({key:"dot-".concat(r),r:3},l),u),{},{index:r,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:o});return e.renderDotItem(i,n)}),f={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return c.createElement(Li,$E({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,i=a.type,o=a.layout,s=a.connectNulls;a.ref;var l=zE(a,RE),u=UE(UE(UE({},Ai(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:o,connectNulls:s});return c.createElement(Sw,$E({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.strokeDasharray,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,u=n.animationEasing,d=n.animationId,f=n.animateNewValues,p=n.width,h=n.height,m=this.state,g=m.prevPoints,y=m.totalLength;return c.createElement(tO,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t;if(g){var s=g.length/a.length,l=a.map(function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],a=ti(n.x,e.x),i=ti(n.y,e.y);return UE(UE({},e),{},{x:a(o),y:i(o)})}if(f){var l=ti(2*p,e.x),c=ti(h/2,e.y);return UE(UE({},e),{},{x:l(o),y:c(o)})}return UE(UE({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,u=ti(0,y)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&n&&n.length&&(!o&&s>0||!Ox(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,o=t.xAxis,s=t.yAxis,l=t.top,u=t.left,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Vt("recharts-line",i),v=o&&o.allowDataOverflow,x=s&&s.allowDataOverflow,b=v||x,j=ya(h)?this.id:h,w=null!==(e=Ai(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,O=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,P=(Si(n)?n:{}).clipDot,k=void 0===P||P,E=2*O+A;return c.createElement(Li,{className:y},v||x?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(j)},c.createElement("rect",{x:v?u:u-d/2,y:x?l:l-f/2,width:v?d:2*d,height:x?f:2*f})),!k&&c.createElement("clipPath",{id:"clipPath-dots-".concat(j)},c.createElement("rect",{x:u-E/2,y:l-E/2,width:d+E,height:f+E}))):null,!g&&this.renderCurve(b,j),this.renderErrorBar(b,j),(g||n)&&this.renderDots(b,k,j),(!p||m)&&iw.renderCallByParent(this.props,a))}}])&&WE(t.prototype,r),n&&WE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();YE(QE,"displayName","Line"),YE(QE,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Zf,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),YE(QE,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return UE({points:l.map(function(e,t){var l=Yb(e,o);return"horizontal"===u?{x:fj({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:ya(l)?null:n.scale(l),value:l,payload:e}:{x:ya(l)?null:r.scale(l),y:fj({axis:n,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var ZE,eT=["layout","type","stroke","connectNulls","isRange","ref"],tT=["key"];function rT(e){return(rT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nT(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aT(){return aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aT.apply(this,arguments)}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(t){fT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pT(n.key),n)}}function lT(e,t,r){return t=uT(t),function(e,t){if(t&&("object"===rT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cT()?Reflect.construct(t,r||[],uT(e).constructor):t.apply(e,r))}function cT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cT=function(){return!!e})()}function uT(e){return(uT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dT(e,t){return(dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fT(e,t,r){return(t=pT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pT(e){var t=function(e,t){if("object"!=rT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=rT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==rT(t)?t:t+""}var hT=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return fT(t=lT(this,e,[].concat(n)),"state",{isAnimationFinished:!0}),fT(t,"id",Qa("recharts-area-")),fT(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),Or(e)&&e()}),fT(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),Or(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dT(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(r=[{key:"renderDots",value:function(t,r,n){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var o=this.props,s=o.dot,l=o.points,u=o.dataKey,d=Ai(this.props,!1),f=Ai(s,!0),p=l.map(function(t,r){var n=oT(oT(oT({key:"dot-".concat(r),r:3},d),f),{},{index:r,cx:t.x,cy:t.y,dataKey:u,value:t.value,payload:t.payload,points:l});return e.renderDotItem(s,n)}),h={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return c.createElement(Li,aT({className:"recharts-area-dots"},h),p)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].x,o=n[n.length-1].x,s=e*Math.abs(i-o),l=ux(n.map(function(e){return e.y||0}));return Ka(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(ux(r.map(function(e){return e.y||0})),l)),Ka(l)?c.createElement("rect",{x:i<o?i:i-s,y:0,width:s,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].y,o=n[n.length-1].y,s=e*Math.abs(i-o),l=ux(n.map(function(e){return e.x||0}));return Ka(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(ux(r.map(function(e){return e.x||0})),l)),Ka(l)?c.createElement("rect",{x:0,y:i<o?i:i-s,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(s)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var a=this.props,i=a.layout,o=a.type,s=a.stroke,l=a.connectNulls,u=a.isRange;a.ref;var d=nT(a,eT);return c.createElement(Li,{clipPath:r?"url(#clipPath-".concat(n,")"):null},c.createElement(Sw,aT({},Ai(d,!0),{points:e,connectNulls:l,type:o,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==s&&c.createElement(Sw,aT({},Ai(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:e})),"none"!==s&&u&&c.createElement(Sw,aT({},Ai(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.baseLine,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,u=n.animationEasing,d=n.animationId,f=this.state,p=f.prevPoints,h=f.prevBaseLine;return c.createElement(tO,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t;if(p){var s,l=p.length/a.length,u=a.map(function(e,t){var r=Math.floor(t*l);if(p[r]){var n=p[r],a=ti(n.x,e.x),i=ti(n.y,e.y);return oT(oT({},e),{},{x:a(o),y:i(o)})}return e});return s=Ka(i)&&"number"==typeof i?ti(h,i)(o):ya(i)||Va(i)?ti(h,0)(o):i.map(function(e,t){var r=Math.floor(t*l);if(h[r]){var n=h[r],a=ti(n.x,e.x),i=ti(n.y,e.y);return oT(oT({},e),{},{x:a(o),y:i(o)})}return e}),r.renderAreaStatically(u,s,e,t)}return c.createElement(Li,null,c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(o))),c.createElement(Li,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,a=r.baseLine,i=r.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&n&&n.length&&(!s&&c>0||!Ox(s,n)||!Ox(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,o=t.top,s=t.left,l=t.xAxis,u=t.yAxis,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Vt("recharts-area",i),v=l&&l.allowDataOverflow,x=u&&u.allowDataOverflow,b=v||x,j=ya(h)?this.id:h,w=null!==(e=Ai(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,O=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,P=(Si(n)?n:{}).clipDot,k=void 0===P||P,E=2*O+A;return c.createElement(Li,{className:y},v||x?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(j)},c.createElement("rect",{x:v?s:s-d/2,y:x?o:o-f/2,width:v?d:2*d,height:x?f:2*f})),!k&&c.createElement("clipPath",{id:"clipPath-dots-".concat(j)},c.createElement("rect",{x:s-E/2,y:o-E/2,width:d+E,height:f+E}))):null,g?null:this.renderArea(b,j),(n||g)&&this.renderDots(b,k,j),(!p||m)&&iw.renderCallByParent(this.props,a))}}])&&sT(t.prototype,r),n&&sT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function mT(e){return(mT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yT(e,t,r){return t=xT(t),function(e,t){if(t&&("object"===mT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vT()?Reflect.construct(t,r||[],xT(e).constructor):t.apply(e,r))}function vT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(vT=function(){return!!e})()}function xT(e){return(xT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bT(e,t){return(bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jT(e,t,r){return(t=wT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wT(e){var t=function(e,t){if("object"!=mT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=mT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mT(t)?t:t+""}function NT(){return NT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NT.apply(this,arguments)}function OT(e){var t=e.xAxisId,r=sk(),n=lk(),i=ik(t);return null==i?null:a.createElement(yE,NT({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return nj(e,!0)}}))}ZE=hT,fT(hT,"displayName","Area"),fT(hT,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Zf,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),fT(hT,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!=o?o:i;if(Ka(s)&&"number"==typeof s)return s;var l="horizontal"===a?n:r,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),fT(hT,"getComposedData",function(e){var t,r=e.props,n=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=r.layout,m=u&&u.length,g=ZE.getBaseValue(r,n,a,i),y="horizontal"===h,v=!1,x=f.map(function(e,t){var r;m?r=u[d+t]:(r=Yb(e,c),Array.isArray(r)?v=!0:r=[g,r]);var n=null==r[1]||m&&null==Yb(e,c);return y?{x:fj({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:n?null:i.scale(r[1]),value:r,payload:e}:{x:n?null:a.scale(r[1]),y:fj({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=m||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?i.scale(g):a.scale(g),oT({points:x,baseLine:t,layout:h,isRange:v},p)}),fT(hT,"renderDotItem",function(e,t){var r;if(c.isValidElement(e))r=c.cloneElement(e,t);else if(Or(e))r=e(t);else{var n=Vt("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=nT(t,tT);r=c.createElement(wO,aT({},i,{key:a,className:n}))}return r});var ST=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bT(e,t)}(e,a.Component),gT(e,[{key:"render",value:function(){return a.createElement(OT,this.props)}}])}();function AT(e){return(AT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_T(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kT(e,t,r){return t=TT(t),function(e,t){if(t&&("object"===AT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ET()?Reflect.construct(t,r||[],TT(e).constructor):t.apply(e,r))}function ET(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ET=function(){return!!e})()}function TT(e){return(TT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CT(e,t){return(CT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function MT(e,t,r){return(t=_T(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _T(e){var t=function(e,t){if("object"!=AT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=AT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==AT(t)?t:t+""}function IT(){return IT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IT.apply(this,arguments)}jT(ST,"displayName","XAxis"),jT(ST,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var DT=function(e){var t=e.yAxisId,r=sk(),n=lk(),i=ok(t);return null==i?null:a.createElement(yE,IT({},i,{className:Vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return nj(e,!0)}}))},RT=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CT(e,t)}(e,a.Component),PT(e,[{key:"render",value:function(){return a.createElement(DT,this.props)}}])}();function LT(e){return function(e){if(Array.isArray(e))return BT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return BT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}MT(RT,"displayName","YAxis"),MT(RT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var zT=function(e,t,r,n,a){var i=ji(e,Nk),o=ji(e,Dk),s=[].concat(LT(i),LT(o)),l=ji(e,Hk),c="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===r&&VA(t.props,"extendDomain")&&Ka(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},d)),l.length){var f="".concat(u,"1"),p="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===r&&VA(t.props,"extendDomain")&&Ka(t.props[f])&&Ka(t.props[p])){var n=t.props[f],a=t.props[p];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Ka(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},$T={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}($T);var qT=new(l($T.exports)),UT="recharts.syncMouseEvents";function FT(e){return(FT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WT(e,t,r){return(t=VT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e){var t=function(e,t){if("object"!=FT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=FT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==FT(t)?t:t+""}var HT=function(){return GT(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),WT(this,"activeIndex",0),WT(this,"coordinateList",[]),WT(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function XT(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[Ej(t,r,n,a),Ej(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function KT(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return XT(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=Ej(s,l,c,d),p=Ej(s,l,u,d);n=f.x,a=f.y,i=p.x,o=p.y}return[{x:n,y:a},{x:i,y:o}]}function YT(e){return(YT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(t){ZT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZT(e,t,r){var n;return n=function(e,t){if("object"!=YT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=YT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YT(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eC(e){var t,r,n,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!s||!l||"ScatterChart"!==h&&"axis"!==o)return null;var g=Sw;if("ScatterChart"===h)n=l,g=TO;else if("BarChart"===h)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(p,l,u,f),g=fO;else if("radial"===p){var y=XT(l),v=y.cx,x=y.cy,b=y.radius;n={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=hw}else n={points:KT(p,l,u)},g=Sw;var j=QT(QT(QT(QT({stroke:"#ccc",pointerEvents:"none"},u),n),Ai(m,!1)),{},{payload:c,payloadIndex:d,className:Vt("recharts-tooltip-cursor",m.className)});return a.isValidElement(m)?a.cloneElement(m,j):a.createElement(g,j)}var tC=["item"],rC=["children","className","width","height","style","compact","title","desc"];function nC(e){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aC.apply(this,arguments)}function iC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||pC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oC(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sC(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vC(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lC(e,t,r){return t=uC(t),function(e,t){if(t&&("object"===nC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cC()?Reflect.construct(t,r||[],uC(e).constructor):t.apply(e,r))}function cC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cC=function(){return!!e})()}function uC(e){return(uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dC(e,t){return(dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fC(e){return function(e){if(Array.isArray(e))return hC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pC(e,t){if(e){if("string"==typeof e)return hC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hC(e,t):void 0}}function hC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(t){yC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yC(e,t,r){return(t=vC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vC(e){var t=function(e,t){if("object"!=nC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=nC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nC(t)?t:t+""}var xC={xAxis:["bottom","top"],yAxis:["left","right"]},bC={width:"100%",height:"100%"},jC={x:0,y:0};function wC(e){return e}var NC=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!=r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(fC(e),fC(r)):e},[]);return i.length>0?i:e&&e.length&&Ka(n)&&Ka(a)?e.slice(n,a+1):[]};function OC(e){return"number"===e?[0,"auto"]:void 0}var SC=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=NC(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=ri(void 0===u?o:u,i.dataKey,n):c=u&&u[r]||o[r];return c?[].concat(fC(a),[bj(s,c)]):a},[])},AC=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Ha(u-c)!==Ha(d-u)){var p=[];if(Ha(d-u)===Ha(s[1]-s[0])){f=d;var h=u+s[1]-s[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{f=c;var m=d+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){i=n[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){i=n[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<o-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===o-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){i=r[x].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=SC(e,t,c,u),f=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=n.radius;return gC(gC(gC({},n),Ej(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=n.angle;return gC(gC(gC({},n),Ej(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return jC}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},PC=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=tj(c,a);return r.reduce(function(t,r){var p,h=void 0!==r.type.defaultProps?gC(gC({},r.type.defaultProps),r.props):r.props,m=h.type,g=h.dataKey,y=h.allowDataOverflow,v=h.allowDuplicatedCategory,x=h.scale,b=h.ticks,j=h.includeHidden,w=h[i];if(t[w])return t;var N,O,S,A=NC(e.data,{graphicalItems:n.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w}),dataStartIndex:s,dataEndIndex:l}),P=A.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&Ka(n)&&Ka(a))return!0}return!1})(h.domain,y,m)&&(N=yj(h.domain,null,y),!f||"number"!==m&&"auto"===x||(S=Jb(A,g,"category")));var k=OC(m);if(!N||0===N.length){var E,T=null!==(E=h.domain)&&void 0!==E?E:k;if(g){if(N=Jb(A,g,m),"category"===m&&f){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);v&&C?(O=N,N=bA(0,P)):v||(N=xj(T,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(fC(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!ya(e)}):xj(T,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ya(t)?e:[].concat(fC(e),[t])},[]);else if("number"===m){var M=function(e,t,r,n,a){var i=t.map(function(t){return Zb(e,t,r,a,n)}).filter(function(e){return!ya(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,n.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),g,a,c);M&&(N=M)}!f||"number"!==m&&"auto"===x||(S=Jb(A,g,"category"))}else N=f?bA(0,P):o&&o[w]&&o[w].hasStack&&"number"===m?"expand"===d?[0,1]:hj(o[w].stackGroups,s,l):ej(A,n.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),m,c,!0);if("number"===m)N=zT(u,N,w,a,b),T&&(N=yj(T,N,y));else if("category"===m&&T){var _=T;N.every(function(e){return _.indexOf(e)>=0})&&(N=_)}}return gC(gC({},t),{},yC({},w,gC(gC({},h),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:O,originalDomain:null!==(p=h.domain)&&void 0!==p?p:k,isCategorical:f,layout:c})))},{})},kC=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=ji(c,a),f={};return d&&d.length?f=PC(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=NC(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),f=d.length,p=tj(c,a),h=-1;return r.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?gC(gC({},t.type.defaultProps),t.props):t.props)[i],y=OC("number");return e[g]?e:(h++,p?m=bA(0,f):o&&o[g]&&o[g].hasStack?(m=hj(o[g].stackGroups,s,l),m=zT(u,m,g,a)):(m=yj(y,ej(d,r.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),m=zT(u,m,g,a)),gC(gC({},e),{},yC({},g,gC(gC({axisType:a},n.defaultProps),{},{hide:!0,orientation:ga(xC,"".concat(a,".").concat(h%2),null),domain:m,originalDomain:y,isCategorical:p,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},EC=function(e){var t=e.children,r=e.defaultShowTooltip,n=wi(t,BA),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},TC=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},CC=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,o=void 0===i?{}:i,s=r.width,l=r.height,c=r.children,u=r.margin||{},d=wi(c,BA),f=wi(c,Td),p=Object.keys(o).reduce(function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:gC(gC({},e),{},yC({},n,e[n]+r.width))},{left:u.left||0,right:u.right||0}),h=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:gC(gC({},e),{},yC({},n,ga(e,"".concat(n))+r.height))},{top:u.top||0,bottom:u.bottom||0}),m=gC(gC({},h),p),g=m.bottom;d&&(m.bottom+=d.props.height||BA.defaultProps.height),f&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,s=i-(o.left||0)-(o.right||0),l=Fb({children:a,legendWidth:s});if(l){var c=n||{},u=c.width,d=c.height,f=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==f&&Ka(e[f]))return Xb(Xb({},e),{},Kb({},f,e[f]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==p&&Ka(e[p]))return Xb(Xb({},e),{},Kb({},p,e[p]+(d||0)))}return e}(m,0,r,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return gC(gC({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},MC=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},_C=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,i=void 0===n?"axis":n,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,p=e.maxBarSize,h=TC(u),m=h.numericAxisName,g=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=yi(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),v=[];return r.forEach(function(r,h){var x=NC(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:s}),b=void 0!==r.type.defaultProps?gC(gC({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(m,"Id")],O=b["".concat(g,"Id")],S=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||Ob();var i=n[a];return gC(gC({},e),{},yC(yC({},r.axisType,i),"".concat(r.axisType,"Ticks"),nj(i)))},{}),A=S[g],P=S["".concat(g,"Ticks")],k=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?Xb(Xb({},e.type.defaultProps),e.props):e.props).stackId;if(Ya(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[N].stackGroups),E=yi(r.type).indexOf("Bar")>=0,T=vj(A,P),C=[],M=y&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var p=c[u[d]],h=p.items,m=p.cateAxisId,g=h.filter(function(e){return yi(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?Xb(Xb({},y),g[0].props):g[0].props,x=v.barSize,b=v[m];i[b]||(i[b]=[]);var j=ya(x)?t:x;i[b].push({item:g[0],stackList:g.slice(1),barSize:ya(j)?void 0:Za(j,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:MC(S,g)});if(E){var _,I,D=ya(w)?p:w,R=null!==(_=null!==(I=vj(A,P,!0))&&void 0!==I?I:D)&&void 0!==_?_:0;C=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=Za(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=n/s,p=i.reduce(function(e,t){return e+t.barSize||0},0);(p+=(s-1)*c)>=n&&(p-=(s-1)*c,c=0),p>=n&&f>0&&(d=!0,p=s*(f*=.9));var h={offset:((n-p)/2|0)-c,size:0};l=i.reduce(function(e,t){var r={item:t.item,position:{offset:h.offset+h.size+c,size:d?f:t.barSize}},n=[].concat(Wb(e),[r]);return h=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:h})}),n},u)}else{var m=Za(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var g=(n-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,r){var n=[].concat(Wb(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},u)}return l}({barGap:d,barCategoryGap:f,bandSize:R!==T?R:T,sizeList:M[O],maxBarSize:D}),R!==T&&(C=C.map(function(e){return gC(gC({},e),{},{position:gC(gC({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,B,z=r&&r.type&&r.type.getComposedData;z&&v.push({props:gC(gC({},z(gC(gC({},S),{},{displayedData:x,props:e,dataKey:j,item:r,bandSize:T,barPosition:C,offset:a,stackedData:k,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},yC(yC(yC({key:r.key||"item-".concat(h)},m,S[m]),g,S[g]),"animationId",i)),childIndex:(L=r,B=e.children,bi(B).indexOf(L)),item:r})}),v},h=function(e,n){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Ni({props:a}))return null;var c=a.children,u=a.layout,f=a.stackOffset,h=a.data,m=a.reverseStackOrder,g=TC(u),y=g.numericAxisName,v=g.cateAxisName,x=ji(c,r),b=function(e,t,r,n,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Xb(Xb({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(Ya(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Qa("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return Xb(Xb({},e),{},Kb({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return Xb(Xb({},t),{},Kb({},i,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:uj(e,o.items,a)}))},{})),Xb(Xb({},t),{},Kb({},i,s))},{})}(h,x,"".concat(y,"Id"),"".concat(v,"Id"),f,m),j=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return gC(gC({},e),{},yC({},r,kC(a,gC(gC({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),w=CC(gC(gC({},j),{},{props:a,graphicalItems:x}),null==n?void 0:n.legendBBox);Object.keys(j).forEach(function(e){j[e]=d(a,j[e],w,e.replace("Map",""),t)});var N,O,S=j["".concat(v,"Map")],A=(N=ei(S),{tooltipTicks:O=nj(N,!1,!0),orderedTooltipTicks:Af(O,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:vj(N,O)}),P=p(a,gC(gC({},j),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:x,stackGroups:b,offset:w}));return gC(gC({formattedGraphicalItems:P,graphicalItems:x,offset:w,stackGroups:b},A),j)},m=function(){function e(r){var n,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yC(o=lC(this,e,[r]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),yC(o,"accessibilityManager",new HT),yC(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;o.setState(gC({legendBBox:e},h({props:o.props,dataStartIndex:r,dataEndIndex:n,updateId:a},gC(gC({},o.state),{},{legendBBox:e}))))}}),yC(o,"handleReceiveSyncEvent",function(e,t,r){if(o.props.syncId===e){if(r===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),yC(o,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==o.state.dataStartIndex||r!==o.state.dataEndIndex){var n=o.state.updateId;o.setState(function(){return gC({dataStartIndex:t,dataEndIndex:r},h({props:o.props,dataStartIndex:t,dataEndIndex:r,updateId:n},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),yC(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var r=gC(gC({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseEnter;Or(n)&&n(r,e)}}),yC(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),r=t?gC(gC({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseMove;Or(n)&&n(r,e)}),yC(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),yC(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),yC(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),yC(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var r=o.props.onMouseLeave;Or(r)&&r(t,e)}),yC(o,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&gi[t]?gi[t]:null}(e),n=ga(o.props,"".concat(r));r&&Or(n)&&n(null!==(t=/.*touch.*/i.test(r)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),yC(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var r=gC(gC({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onClick;Or(n)&&n(r,e)}}),yC(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;Or(t)&&t(o.getMouseInfo(e),e)}),yC(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;Or(t)&&t(o.getMouseInfo(e),e)}),yC(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),yC(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),yC(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),yC(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;Or(t)&&t(o.getMouseInfo(e),e)}),yC(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;Or(t)&&t(o.getMouseInfo(e),e)}),yC(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&qT.emit(UT,o.props.syncId,e,o.eventEmitterSymbol)}),yC(o,"applySyncEvent",function(e){var t=o.props,r=t.layout,n=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(gC({dataStartIndex:i,dataEndIndex:s},h({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"==typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=gC(gC({},f),{},{x:f.left,y:f.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=p[u]&&p[u].value,b=SC(o.state,o.props.data,u),j=p[u]?{x:"horizontal"===r?p[u].coordinate:y,y:"horizontal"===r?v:p[u].coordinate}:jC;o.setState(gC(gC({},e),{},{activeLabel:x,activeCoordinate:j,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),yC(o,"renderCursor",function(e){var r,n=o.state,a=n.isTooltipActive,i=n.activeCoordinate,s=n.activePayload,l=n.offset,u=n.activeTooltipIndex,d=n.tooltipAxisBandSize,f=o.getTooltipEventType(),p=null!==(r=e.props.active)&&void 0!==r?r:a,h=o.props.layout,m=e.key||"_recharts-cursor";return c.createElement(eC,{key:m,activeCoordinate:i,activePayload:s,activeTooltipIndex:u,chartName:t,element:e,isActive:p,layout:h,offset:l,tooltipAxisBandSize:d,tooltipEventType:f})}),yC(o,"renderPolarAxis",function(e,t,r){var n=ga(e,"type.axisType"),i=ga(o.state,"".concat(n,"Map")),s=e.type.defaultProps,l=void 0!==s?gC(gC({},s),e.props):e.props,c=i&&i[l["".concat(n,"Id")]];return a.cloneElement(e,gC(gC({},c),{},{className:Vt(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:nj(c,!0)}))}),yC(o,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,i=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=ei(l),d=ei(c),f=d.cx,p=d.cy,h=d.innerRadius,m=d.outerRadius;return a.cloneElement(e,{polarAngles:Array.isArray(n)?n:nj(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:nj(u,!0).map(function(e){return e.coordinate}),cx:f,cy:p,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),yC(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,r=t.children,n=t.width,i=t.height,s=o.props.margin||{},l=n-(s.left||0)-(s.right||0),c=Fb({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var d=c.item,f=oC(c,tC);return a.cloneElement(d,gC(gC({},f),{},{chartWidth:n,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),yC(o,"renderTooltip",function(){var e,t=o.props,r=t.children,n=t.accessibilityLayer,i=wi(r,dp);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,f=s.offset,p=null!==(e=i.props.active)&&void 0!==e?e:l;return a.cloneElement(i,{viewBox:gC(gC({},f),{},{x:f.left,y:f.top}),active:p,label:d,payload:p?u:[],coordinate:c,accessibilityLayer:n})}),yC(o,"renderBrush",function(e){var t=o.props,r=t.margin,n=t.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return a.cloneElement(e,{key:e.key||"_recharts-brush",onChange:ij(o.handleBrushChange,e.props.onChange),data:n,x:Ka(e.props.x)?e.props.x:s.left,y:Ka(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Ka(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),yC(o,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,f=d.xAxisId,p=void 0===f?u.xAxisId:f,h=d.yAxisId,m=void 0===h?u.yAxisId:h;return a.cloneElement(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})}),yC(o,"renderActivePoints",function(t){var r=t.item,n=t.activePoint,a=t.basePoint,i=t.childIndex,o=t.isRange,s=[],l=r.props.key,c=void 0!==r.item.type.defaultProps?gC(gC({},r.item.type.defaultProps),r.item.props):r.item.props,u=c.activeDot,d=gC(gC({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Qb(r.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Ai(u,!1)),ui(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(e.renderActiveDot(u,gC(gC({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),yC(o,"renderGraphicChild",function(e,t,r){var n=o.filterFormatItem(e,t,r);if(!n)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=wi(o.props.children,dp),p=n.props,h=p.points,m=p.isRange,g=p.baseLine,y=void 0!==n.item.type.defaultProps?gC(gC({},n.item.type.defaultProps),n.item.props):n.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,j=y.activeShape,w=Boolean(!x&&l&&f&&(v||b||j)),N={};"axis"!==i&&f&&"click"===f.props.trigger?N={onClick:ij(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:ij(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:ij(o.handleItemMouseEnter,e.props.onMouseEnter)});var O=a.cloneElement(e,gC(gC({},n.props),N));if(w){if(!(u>=0)){var S,A=(null!==(S=o.getItemByXY(o.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:O}).graphicalItem,P=A.item,k=void 0===P?e:P,E=A.childIndex,T=gC(gC(gC({},n.props),N),{},{activeIndex:E});return[a.cloneElement(k,T),null,null]}var C,M;if(c.dataKey&&!c.allowDuplicatedCategory){var _="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=ri(h,_,d),M=m&&g&&ri(g,_,d)}else C=null==h?void 0:h[u],M=m&&g&&g[u];if(j||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[a.cloneElement(e,gC(gC(gC({},n.props),N),{},{activeIndex:I})),null,null]}if(!ya(C))return[O].concat(fC(o.renderActivePoints({item:n,activePoint:C,basePoint:M,childIndex:u,isRange:m})))}return m?[O,null,null]:[O,null]}),yC(o,"renderCustomized",function(e,t,r){return a.cloneElement(e,gC(gC({key:"recharts-customized-".concat(r)},o.props),o.state))}),yC(o,"renderMap",{CartesianGrid:{handler:wC,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:wC},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:wC},YAxis:{handler:wC},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(n=r.id)&&void 0!==n?n:Qa("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Cp(o.triggeredAfterMouseMove,null!==(i=r.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dC(e,t)}(e,a.Component),sC(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=wi(t,dp);if(i){var o=i.props.defaultIndex;if(!("number"!=typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=SC(this.state,r,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});f&&(d=gC(gC({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var p={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var r,n;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}});return null}},{key:"componentDidUpdate",value:function(e){Pi([wi(e.children,dp)],[wi(this.props.children,dp)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=wi(this.props.children,dp);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),f=AC(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var p=ei(c).scale,h=ei(u).scale,m=p&&p.invert?p.invert(i.chartX):null,g=h&&h.invert?h.invert(i.chartY):null;return gC(gC({},i),{},{xValue:m,yValue:g},f)}return f?gC(gC({},i),f):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=ei(l);return _j({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=wi(e,dp),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),gC(gC({},ui(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){qT.on(UT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){qT.removeListener(UT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===yi(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return c.createElement("defs",null,c.createElement("clipPath",{id:e},c.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=iC(t,2),n=r[0],a=r[1];return gC(gC({},e),{},yC({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=iC(t,2),n=r[0],a=r[1];return gC(gC({},e),{},yC({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?gC(gC({},l.type.defaultProps),l.props):l.props,u=yi(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return uO(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find(function(t){return _j(e,t)});if(f)return{graphicalItem:o,payload:f}}else if(HS(o,n)||XS(o,n)||KS(o,n)){var p=ZS({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:gC(gC({},o),{},{childIndex:h}),payload:KS(o,n)?c.data[p]:o.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Ni(this))return null;var t,r,n=this.props,a=n.children,i=n.className,o=n.width,s=n.height,l=n.style,u=n.compact,d=n.title,f=n.desc,p=oC(n,rC),h=Ai(p,!1);if(u)return c.createElement(ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},c.createElement(_i,aC({},h,{width:o,height:s,title:d,desc:f}),this.renderClipPath(),Ei(a,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return c.createElement(ak,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},c.createElement("div",aC({className:Vt("recharts-wrapper",i),style:gC({position:"relative",cursor:"default",width:o,height:s},l)},m,{ref:function(t){e.container=t}}),c.createElement(_i,aC({},h,{width:o,height:s,title:d,desc:f,style:bC}),this.renderClipPath(),Ei(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();yC(m,"displayName",t),yC(m,"defaultProps",gC({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),yC(m,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=EC(e);return gC(gC(gC({},f),{},{updateId:0},h(gC(gC({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ai(c,t.prevMargin)){var p=EC(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=gC(gC({},AC(t,n,s)),{},{updateId:t.updateId+1}),y=gC(gC(gC({},p),m),g);return gC(gC(gC({},y),h(gC({props:e},y),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Pi(a,t.prevChildren)){var v,x,b,j,w=wi(a,BA),N=w&&null!==(v=null===(x=w.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,O=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:d,S=N!==u||O!==d,A=!ya(n)&&!S?t.updateId:t.updateId+1;return gC(gC({updateId:A},h(gC(gC({props:e},t),{},{updateId:A,dataStartIndex:N,dataEndIndex:O}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:O})}return null}),yC(m,"renderActiveDot",function(e,t,r){var n;return n=a.isValidElement(e)?a.cloneElement(e,t):Or(e)?e(t):c.createElement(wO,t),c.createElement(Li,{className:"recharts-active-dot",key:r},n)});var g=a.forwardRef(function(e,t){return c.createElement(m,aC({},e,{ref:t}))});return g.displayName=m.displayName,g},IC=_C({chartName:"LineChart",GraphicalChild:QE,axisComponents:[{axisType:"xAxis",AxisComp:ST},{axisType:"yAxis",AxisComp:RT}],formatAxisMap:RP}),DC=_C({chartName:"BarChart",GraphicalChild:EP,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ST},{axisType:"yAxis",AxisComp:RT}],formatAxisMap:RP}),RC=_C({chartName:"PieChart",GraphicalChild:dA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pS},{axisType:"radiusAxis",AxisComp:ZO}],formatAxisMap:function(e,t,r,n,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=Za(e.cx,i,i/2),u=Za(e.cy,o,o/2),d=Tj(i,o,r),f=Za(e.innerRadius,d,0),p=Za(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,r){var i,o=t[r],d=o.domain,h=o.reversed;if(ya(o.range))"angleAxis"===n?i=[s,l]:"radiusAxis"===n&&(i=[f,p]),h&&(i=[i[1],i[0]]);else{var m=Sj(i=o.range,2);s=m[0],l=m[1]}var g=oj(o,a),y=g.realScaleType,v=g.scale;v.domain(d).range(i),lj(v);var x=dj(v,Nj(Nj({},o),{},{realScaleType:y})),b=Nj(Nj(Nj({},o),x),{},{range:i,radius:p,realScaleType:y,scale:v,cx:c,cy:u,innerRadius:f,outerRadius:p,startAngle:s,endAngle:l});return Nj(Nj({},e),{},Oj({},r,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),LC=_C({chartName:"AreaChart",GraphicalChild:hT,axisComponents:[{axisType:"xAxis",AxisComp:ST},{axisType:"yAxis",AxisComp:RT}],formatAxisMap:RP});const BC=()=>{const[e,t]=a.useState(null),[r,n]=a.useState(!0),[i,o]=a.useState(null),[s,l]=a.useState(30),[c,u]=a.useState(!1);a.useEffect(()=>{d()},[s]);const d=async()=>{var e,r;n(!0),o(null);try{const n=await fetch(`/api/social/analytics?days=${s}`,{credentials:"include"});if(!n.ok)throw new Error("Falha ao carregar analytics do Instagram");const a=await n.json();null==(r=null==(e=null==a?void 0:a.instagram)?void 0:e.metrics)||r.forEach(e=>{e.status}),t(a)}catch(a){o(a.message||"Erro ao carregar dados")}finally{n(!1)}},f=async()=>{u(!0),await d(),setTimeout(()=>u(!1),1e3)},p=t=>null==e?void 0:e.instagram.metrics.find(e=>e.name===t),h=(()=>{var t;if(!e)return[];const r=p("reach"),n=p("accounts_engaged"),a=p("profile_views"),i=p("total_interactions"),o=p("likes"),s=p("comments");return(null==(t=null==r?void 0:r.series)?void 0:t.length)?r.series.map((e,t)=>{var r,l,c,u,d,f,p,h,m,g;return{date:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),dateOriginal:e.date,reach:e.value||0,engaged:(null==(l=null==(r=null==n?void 0:n.series)?void 0:r[t])?void 0:l.value)||0,profileViews:(null==(u=null==(c=null==a?void 0:a.series)?void 0:c[t])?void 0:u.value)||0,interactions:(null==(f=null==(d=null==i?void 0:i.series)?void 0:d[t])?void 0:f.value)||0,likes:(null==(h=null==(p=null==o?void 0:o.series)?void 0:p[t])?void 0:h.value)||0,comments:(null==(g=null==(m=null==s?void 0:s.series)?void 0:m[t])?void 0:g.value)||0}}):[]})(),m=e?(()=>{const t=null==e?void 0:e.facebook.metrics.find(e=>"page_fan_adds_unique"===e.name),r=null==e?void 0:e.facebook.metrics.find(e=>"page_fan_removes_unique"===e.name),n=(null==t?void 0:t.sumDaily)||0,a=(null==r?void 0:r.sumDaily)||0;return{adds:n,removes:a,net:n-a}})():{net:0},g=()=>{const t=p("accounts_engaged"),r=p("total_interactions");if(!t||!r)return[];const n=t.avgDaily;r.avgDaily;const a=(null==e?void 0:e.instagram.account.followers)||1;return[{name:"Engajados",value:Math.round(n),color:"#E1306C"},{name:"Visualizaram",value:Math.round(.3*a-n),color:"#C13584"},{name:"Não Alcançados",value:Math.round(.7*a),color:"#e5e7eb"}]};if(r)return Xe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Xe.jsx("div",{className:"max-w-7xl mx-auto",children:Xe.jsx("div",{className:"flex items-center justify-center h-96",children:Xe.jsxs("div",{className:"text-center",children:[Xe.jsx(x,{size:48,className:"animate-spin text-pink-600 mx-auto mb-4"}),Xe.jsx("p",{className:"text-gray-600 font-medium",children:"Carregando analytics completo da Meta Graph API..."}),Xe.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Buscando todas as métricas disponíveis"})]})})})});if(i||!e)return Xe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Xe.jsx("div",{className:"max-w-7xl mx-auto",children:Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[Xe.jsx("div",{className:"flex items-center justify-center text-red-600 mb-4",children:Xe.jsx(q,{size:48})}),Xe.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Erro ao carregar dados"}),Xe.jsx("p",{className:"text-center text-gray-600 mb-6",children:i||"Sem dados disponíveis"}),Xe.jsx("div",{className:"flex justify-center",children:Xe.jsx("button",{onClick:f,className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all",children:"Tentar novamente"})})]})})});const y=p("reach"),v=p("accounts_engaged"),b=p("profile_views"),j=p("total_interactions");return p("likes"),p("comments"),p("website_clicks"),Xe.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Xe.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[Xe.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-8 text-white shadow-2xl",children:Xe.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[Xe.jsxs("div",{className:"flex items-center space-x-4",children:[Xe.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:Xe.jsx(w,{size:40})}),Xe.jsxs("div",{children:[Xe.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Instagram Analytics Completo"}),Xe.jsxs("p",{className:"text-pink-100 flex items-center",children:[Xe.jsx($,{size:16,className:"mr-2"}),"@",e.instagram.account.username," • Todas as Métricas da Meta Graph API"]})]})]}),Xe.jsxs("div",{className:"flex items-center space-x-3",children:[Xe.jsxs("select",{value:s,onChange:e=>l(Number(e.target.value)),className:"px-4 py-2 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl text-white border border-white border-opacity-30 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",children:[Xe.jsx("option",{value:7,className:"text-gray-900",children:"Últimos 7 dias"}),Xe.jsx("option",{value:30,className:"text-gray-900",children:"Últimos 30 dias"}),Xe.jsx("option",{value:90,className:"text-gray-900",children:"Últimos 90 dias"})]}),Xe.jsx("button",{onClick:f,disabled:c,className:"p-3 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl hover:bg-opacity-30 transition-all disabled:opacity-50",children:Xe.jsx(x,{size:20,className:c?"animate-spin":""})})]})]})}),(0===(null==j?void 0:j.sumDaily)||0===(null==v?void 0:v.sumDaily)||0===(null==b?void 0:b.sumDaily))&&Xe.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-r-2xl shadow-md",children:Xe.jsxs("div",{className:"flex items-start",children:[Xe.jsx(q,{size:24,className:"text-red-600 mr-4 flex-shrink-0 mt-1"}),Xe.jsxs("div",{className:"flex-1",children:[Xe.jsx("h4",{className:"font-bold text-red-900 text-lg mb-2",children:"🔒 Permissões Insuficientes do Token Instagram"}),Xe.jsxs("p",{className:"text-sm text-red-800 mb-3",children:["A Meta Graph API retornou ",Xe.jsx("strong",{children:"sem dados"})," para a maioria das métricas. Com 77.536 seguidores e 6 anos de conta, isso indica ",Xe.jsx("strong",{children:"problema de permissões"}),"."]}),Xe.jsxs("div",{className:"bg-red-100 p-4 rounded-xl mb-3",children:[Xe.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"✅ Funciona:"}),Xe.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["• reach (alcance único): ",(null==y?void 0:y.sumDaily.toLocaleString())||0]}),Xe.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["• followers_count (seguidores): ",e.instagram.account.followers.toLocaleString()]}),Xe.jsx("p",{className:"text-sm font-bold text-red-900 mt-3 mb-2",children:"❌ Não funciona (0 dados):"}),Xe.jsx("p",{className:"text-xs text-red-800 font-mono",children:e.instagram.metrics.filter(e=>"ok"===e.status&&0===(e.sumDaily||0)).map(e=>e.name).join(", ")})]}),Xe.jsxs("div",{className:"bg-white p-4 rounded-xl border border-red-200",children:[Xe.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"🔧 Como Resolver:"}),Xe.jsxs("ol",{className:"text-xs text-red-800 space-y-1 ml-4 list-decimal",children:[Xe.jsxs("li",{children:["Acesse: ",Xe.jsx("a",{href:"https://developers.facebook.com/tools/explorer/",target:"_blank",className:"underline font-bold",children:"Facebook Graph API Explorer"})]}),Xe.jsxs("li",{children:['Selecione "User Token" e adicione as permissões:',Xe.jsxs("ul",{className:"ml-4 mt-1",children:[Xe.jsx("li",{children:"✓ instagram_basic"}),Xe.jsxs("li",{children:["✓ ",Xe.jsx("strong",{children:"instagram_manage_insights"})," (CRÍTICA)"]}),Xe.jsx("li",{children:"✓ pages_read_engagement"}),Xe.jsx("li",{children:"✓ pages_show_list"})]})]}),Xe.jsxs("li",{children:["Gere o token e atualize no arquivo ",Xe.jsx("code",{className:"bg-red-200 px-1",children:".env"})]}),Xe.jsx("li",{children:"Reinicie o servidor"})]})]})]})]})}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Xe.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-r-xl",children:Xe.jsxs("div",{className:"flex items-start",children:[Xe.jsx($,{size:20,className:"text-green-600 mr-3 flex-shrink-0 mt-0.5"}),Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"font-bold text-green-900 mb-1",children:"✅ Dados 100% Reais"}),Xe.jsxs("p",{className:"text-sm text-green-800",children:["Todas as métricas são obtidas diretamente da ",Xe.jsx("strong",{children:"Meta Graph API v22.0"})]})]})]})}),Xe.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-xl",children:Xe.jsxs("div",{className:"flex items-start",children:[Xe.jsx(U,{size:20,className:"text-blue-600 mr-3 flex-shrink-0 mt-0.5"}),Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"font-bold text-blue-900 mb-1",children:"📊 Período Analisado"}),Xe.jsxs("p",{className:"text-sm text-blue-800",children:["De ",Xe.jsx("strong",{children:new Date(e.period.since).toLocaleDateString("pt-BR")})," até"," ",Xe.jsx("strong",{children:new Date(e.period.until).toLocaleDateString("pt-BR")})," (",e.period.days," dias)"]})]})]})})]}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-pink-500",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Xe.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl",children:Xe.jsx(F,{size:24,className:"text-white"})}),0!==m.net&&Xe.jsxs("div",{className:"flex items-center text-sm font-medium "+(m.net>=0?"text-green-600":"text-red-600"),children:[m.net>=0?Xe.jsx(G,{size:16}):Xe.jsx(W,{size:16}),Xe.jsxs("span",{className:"ml-1",children:[m.net>=0?"+":"",m.net]})]})]}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Seguidores"}),Xe.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.instagram.account.followers.toLocaleString()}),Xe.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: followers_count"})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-blue-500",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Xe.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:Xe.jsx(O,{size:24,className:"text-white"})}),Xe.jsx("div",{className:"flex items-center text-sm font-medium text-blue-600",children:Xe.jsx(U,{size:16})})]}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Alcance"}),Xe.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==y?void 0:y.sumDaily.toLocaleString())||"0"}),Xe.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: reach (pessoas únicas)"})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-purple-500",children:[Xe.jsx("div",{className:"flex items-center justify-between mb-4",children:Xe.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:Xe.jsx(V,{size:24,className:"text-white"})})}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Interações Totais"}),Xe.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==j?void 0:j.sumDaily.toLocaleString())||"0"}),Xe.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: total_interactions"})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-green-500",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Xe.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:Xe.jsx(H,{size:24,className:"text-white"})}),Xe.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600",children:[Xe.jsx(X,{size:16}),Xe.jsxs("span",{className:"ml-1",children:[(((null==v?void 0:v.sumDaily)||0)/(e.instagram.account.followers||1)*100).toFixed(1),"%"]})]})]}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Contas Engajadas"}),Xe.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==v?void 0:v.sumDaily.toLocaleString())||"0"}),Xe.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: accounts_engaged"})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-orange-500",children:[Xe.jsx("div",{className:"flex items-center justify-between mb-4",children:Xe.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl",children:Xe.jsx(K,{size:24,className:"text-white"})})}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Visitas ao Perfil"}),Xe.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==b?void 0:b.sumDaily.toLocaleString())||"0"}),Xe.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: profile_views (REAL!)"})]})]}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Xe.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg",children:[Xe.jsx("div",{className:"flex items-center justify-between mb-6",children:Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Xe.jsx(X,{size:24,className:"mr-3 text-pink-600"}),"Performance Completa (Todos os Dados Reais)"]})}),h.length>0?Xe.jsx("div",{className:"h-96",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(IC,{data:h,children:[Xe.jsx(DE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Xe.jsx(ST,{dataKey:"date",stroke:"#6b7280",fontSize:12}),Xe.jsx(RT,{stroke:"#6b7280",fontSize:12}),Xe.jsx(dp,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"}}),Xe.jsx(Td,{}),Xe.jsx(QE,{type:"monotone",dataKey:"reach",name:"Alcance",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6"}}),Xe.jsx(QE,{type:"monotone",dataKey:"impressions",name:"Impressões",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6"}}),Xe.jsx(QE,{type:"monotone",dataKey:"engaged",name:"Engajados",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}}),Xe.jsx(QE,{type:"monotone",dataKey:"profileViews",name:"Visitas Perfil",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"}})]})})}):Xe.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:Xe.jsxs("div",{className:"text-center",children:[Xe.jsx(V,{size:48,className:"mx-auto mb-3 text-gray-300"}),Xe.jsx("p",{children:"Sem dados disponíveis"})]})})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Xe.jsx("div",{className:"flex items-center justify-between mb-6",children:Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Xe.jsx(F,{size:24,className:"mr-3 text-purple-600"}),"Distribuição de Engajamento"]})}),Xe.jsx("div",{className:"h-80",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(RC,{children:[Xe.jsx(dA,{data:g(),cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:g().map((e,t)=>Xe.jsx(zp,{fill:e.color},`cell-${t}`))}),Xe.jsx(dp,{})]})})})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Xe.jsx("div",{className:"flex items-center justify-between mb-6",children:Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Xe.jsx(V,{size:24,className:"mr-3 text-blue-600"}),"Médias Diárias"]})}),Xe.jsx("div",{className:"h-80",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(DC,{data:[{name:"Alcance",value:(null==y?void 0:y.avgDaily)||0,color:"#3b82f6"},{name:"Interações",value:(null==j?void 0:j.avgDaily)||0,color:"#8b5cf6"},{name:"Engajados",value:(null==v?void 0:v.avgDaily)||0,color:"#10b981"},{name:"Visitas",value:(null==b?void 0:b.avgDaily)||0,color:"#f59e0b"}],children:[Xe.jsx(DE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Xe.jsx(ST,{dataKey:"name",stroke:"#6b7280",fontSize:12}),Xe.jsx(RT,{stroke:"#6b7280",fontSize:12}),Xe.jsx(dp,{}),Xe.jsx(EP,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Alcance",value:(null==y?void 0:y.avgDaily)||0,color:"#3b82f6"},{name:"Interações",value:(null==j?void 0:j.avgDaily)||0,color:"#8b5cf6"},{name:"Engajados",value:(null==v?void 0:v.avgDaily)||0,color:"#10b981"},{name:"Visitas",value:(null==b?void 0:b.avgDaily)||0,color:"#f59e0b"}].map((e,t)=>Xe.jsx(zp,{fill:e.color},`cell-${t}`))})]})})})]})]}),((null==y?void 0:y.aggregate28)||(null==j?void 0:j.aggregate28))&&Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Xe.jsx(U,{size:24,className:"mr-3 text-indigo-600"}),"Agregados de 28 Dias (Interface Meta)"]}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(null==y?void 0:y.aggregate28)&&Xe.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[Xe.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"Alcance 28d"}),Xe.jsx("p",{className:"text-3xl font-bold text-blue-900",children:y.aggregate28.toLocaleString()})]}),(null==j?void 0:j.aggregate28)&&Xe.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[Xe.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"Interações 28d"}),Xe.jsx("p",{className:"text-3xl font-bold text-purple-900",children:j.aggregate28.toLocaleString()})]}),(null==v?void 0:v.aggregate28)&&Xe.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[Xe.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"Engajados 28d"}),Xe.jsx("p",{className:"text-3xl font-bold text-green-900",children:v.aggregate28.toLocaleString()})]}),(null==b?void 0:b.aggregate28)&&Xe.jsxs("div",{className:"text-center p-6 bg-orange-50 rounded-xl",children:[Xe.jsx("p",{className:"text-sm text-orange-600 font-medium mb-2",children:"Visitas Perfil 28d"}),Xe.jsx("p",{className:"text-3xl font-bold text-orange-900",children:b.aggregate28.toLocaleString()})]})]})]}),j&&Xe.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl p-8 text-white shadow-lg",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsxs("div",{className:"flex items-center mb-3",children:[Xe.jsx(Y,{size:32,className:"mr-3"}),Xe.jsx("h3",{className:"text-2xl font-bold",children:"Total de Interações"})]}),Xe.jsx("p",{className:"text-4xl font-bold mb-2",children:j.sumDaily.toLocaleString()}),Xe.jsxs("p",{className:"text-pink-100",children:["Média diária: ",Xe.jsx("strong",{children:Math.round(j.avgDaily).toLocaleString()})," interações"]}),Xe.jsx("p",{className:"text-sm text-pink-100 mt-2",children:"📊 API: total_interactions (curtidas + comentários + salvamentos + compartilhamentos)"})]}),Xe.jsx("div",{className:"hidden md:block",children:Xe.jsxs("div",{className:"text-right",children:[Xe.jsx("div",{className:"text-6xl mb-2",children:"💬"}),Xe.jsx("div",{className:"text-6xl",children:"❤️"})]})})]})}),Xe.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:Xe.jsxs("div",{className:"flex items-start space-x-4",children:[Xe.jsx($,{size:24,className:"text-blue-600 flex-shrink-0 mt-1"}),Xe.jsxs("div",{className:"flex-1",children:[Xe.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"✅ Status das Métricas"}),Xe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:e.instagram.metrics.map((e,t)=>Xe.jsxs("div",{className:"p-3 rounded-lg "+("ok"===e.status?"bg-green-100 text-green-900":"bg-red-100 text-red-900"),children:[Xe.jsxs("strong",{children:[e.name,":"]})," ","ok"===e.status?"✅ OK":"❌ Erro"]},t))})]})]})})]})})},zC=()=>{const[e,t]=a.useState(()=>It()),[r,n]=a.useState(!1);a.useEffect(()=>{const e=It();t(e)},[]);const i=async t=>{if(t!==e&&!r){n(!0);try{const e=_t[t].name;window.confirm(`Deseja alterar para o ${e}?\n\nA página será recarregada para aplicar as mudanças.`)&&(e=>{try{localStorage.setItem(Mt,e),window.location.reload()}catch(t){}})(t)}catch(a){alert("Erro ao alterar o layout. Tente novamente.")}finally{n(!1)}}};return Xe.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[Xe.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[Xe.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:Xe.jsx("span",{className:"text-white text-xl",children:"🎨"})}),Xe.jsxs("div",{children:[Xe.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Layouts do HeroGrid"}),Xe.jsx("p",{className:"text-gray-600 text-sm",children:"Escolha o layout da seção principal de notícias"})]})]}),Xe.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:Xe.jsxs("div",{className:"flex items-center gap-3",children:[Xe.jsx("span",{className:"text-2xl",children:_t[e].icon}),Xe.jsxs("div",{children:[Xe.jsx("h3",{className:"font-semibold text-green-800",children:"Layout Ativo"}),Xe.jsx("p",{className:"text-green-700",children:_t[e].name}),Xe.jsx("p",{className:"text-green-600 text-sm",children:_t[e].description})]})]})}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(_t).map(([t,n])=>{const a=t===e,o=t;return Xe.jsxs("div",{className:`\n                relative p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer\n                ${a?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300 hover:shadow-sm"}\n                ${r?"opacity-50 cursor-not-allowed":""}\n              `,onClick:()=>i(o),children:[a&&Xe.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:Xe.jsx("span",{className:"text-white text-xs",children:"✓"})}),Xe.jsxs("div",{className:"flex items-start gap-3",children:[Xe.jsx("span",{className:"text-3xl",children:n.icon}),Xe.jsxs("div",{className:"flex-1",children:[Xe.jsx("h3",{className:"font-semibold mb-1 "+(a?"text-green-800":"text-gray-900"),children:n.name}),Xe.jsx("p",{className:"text-sm "+(a?"text-green-700":"text-gray-600"),children:n.description}),!a&&Xe.jsx("button",{className:"mt-3 px-3 py-1 bg-purple-100 text-purple-700 rounded text-sm font-medium hover:bg-purple-200 transition-colors",onClick:e=>{e.stopPropagation(),i(o)},disabled:r,children:r?"Alterando...":"Ativar Layout"}),a&&Xe.jsx("div",{className:"mt-3 px-3 py-1 bg-green-100 text-green-700 rounded text-sm font-medium",children:"✓ Layout Ativo"})]})]})]},t)})}),Xe.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:Xe.jsxs("div",{className:"flex items-start gap-3",children:[Xe.jsx("span",{className:"text-blue-500 text-xl",children:"ℹ️"}),Xe.jsxs("div",{className:"text-sm text-blue-800",children:[Xe.jsx("h4",{className:"font-semibold mb-2",children:"Informações Importantes:"}),Xe.jsxs("ul",{className:"space-y-1 text-blue-700",children:[Xe.jsx("li",{children:"• Todos os layouts mantêm as cores e tipologia das categorias"}),Xe.jsx("li",{children:"• A mudança de layout recarrega a página automaticamente"}),Xe.jsx("li",{children:"• O layout escolhido será aplicado apenas na página inicial"}),Xe.jsx("li",{children:"• Páginas de teste (/test-*) não são afetadas"})]})]})]})})]})},$C=()=>{const[e,t]=a.useState([]),[r,n]=a.useState(null),[i,o]=a.useState(!1);a.useEffect(()=>{const e=Ct();t(e)},[]);const s=(r,n)=>{if(n<0||n>=e.length)return;const a=[...e],[i]=a.splice(r,1);a.splice(n,0,i),t(a)},l=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"};return Xe.jsxs("div",{className:"space-y-8",children:[Xe.jsx(zC,{}),Xe.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsxs("div",{children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seções da Página Inicial"}),Xe.jsx("p",{className:"text-sm text-gray-600",children:"Reorganize e configure a ordem das seções"})]}),Xe.jsxs("div",{className:"flex space-x-3",children:[Xe.jsxs("button",{onClick:()=>window.open("/","_blank"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:[Xe.jsx(h,{className:"w-4 h-4"}),Xe.jsx("span",{children:"Pré-visualizar"})]}),Xe.jsxs("button",{onClick:()=>{(e=>{try{localStorage.setItem(Et,JSON.stringify(e))}catch(t){}})(e),o(!0);[window.parent,window.opener].forEach(e=>{e&&e.location&&"/"===e.location.pathname&&e.location.reload()}),setTimeout(()=>o(!1),3e3)},className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center space-x-2 "+(i?"bg-green-500 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:[i?Xe.jsx($,{className:"w-4 h-4"}):Xe.jsx(J,{className:"w-4 h-4"}),Xe.jsx("span",{children:i?"Salvo!":"Salvar Layout"})]})]})]}),Xe.jsx("div",{className:"space-y-3",children:e.map((a,i)=>Xe.jsxs("div",{draggable:!0,onDragStart:e=>((e,t)=>{n(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.toString())})(e,i),onDragOver:l,onDrop:e=>((e,t)=>{e.preventDefault(),null!==r&&r!==t&&s(r,t),n(null)})(e,i),className:`\n              group flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200\n              hover:border-red-300 hover:bg-gray-100 transition-all cursor-move\n              ${r===i?"opacity-50 border-red-400":""}\n              ${a.enabled?"":"opacity-60"}\n            `,children:[Xe.jsxs("div",{className:"flex items-center space-x-3",children:[Xe.jsx(Q,{className:"w-5 h-5 text-gray-400 cursor-grab active:cursor-grabbing"}),Xe.jsxs("div",{className:"flex flex-col space-y-1",children:[Xe.jsx("button",{onClick:()=>s(i,i-1),disabled:0===i,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Mover para cima",children:Xe.jsx(Z,{className:"w-3 h-3"})}),Xe.jsx("button",{onClick:()=>s(i,i+1),disabled:i===e.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Mover para baixo",children:Xe.jsx(ee,{className:"w-3 h-3"})})]})]}),Xe.jsxs("div",{className:"flex-1 ml-4",children:[Xe.jsxs("div",{className:"font-medium text-gray-900",children:[i+1,". ",a.name]}),Xe.jsx("div",{className:"text-xs text-gray-500",children:a.enabled?"Ativa":"Desativada"})]}),Xe.jsx("button",{onClick:()=>(r=>{const n=[...e];n[r].enabled=!n[r].enabled,t(n)})(i),className:`\n                p-2 rounded-lg transition-colors\n                ${a.enabled?"text-green-600 hover:bg-green-50 bg-green-100":"text-gray-400 hover:bg-gray-200 bg-gray-100"}\n              `,title:a.enabled?"Desativar seção":"Ativar seção",children:a.enabled?Xe.jsx(O,{className:"w-5 h-5"}):Xe.jsx(te,{className:"w-5 h-5"})})]},a.id))}),Xe.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:Xe.jsxs("div",{className:"text-blue-800 text-sm",children:[Xe.jsx("h4",{className:"font-semibold mb-2",children:"Como usar:"}),Xe.jsxs("ul",{className:"space-y-1",children:[Xe.jsxs("li",{children:["• ",Xe.jsx("strong",{children:"Arrastar:"})," Clique e arraste pela área cinza para reordenar"]}),Xe.jsxs("li",{children:["• ",Xe.jsx("strong",{children:"Setas:"})," Use as setas ↑↓ para mover uma posição"]}),Xe.jsxs("li",{children:["• ",Xe.jsx("strong",{children:"Olho:"})," Clique para ativar/desativar a seção"]}),Xe.jsxs("li",{children:["• ",Xe.jsx("strong",{children:"Salvar:"}),' Clique em "Salvar Layout" para aplicar as mudanças']}),Xe.jsxs("li",{children:["• ",Xe.jsx("strong",{children:"Ver mudanças:"}),' Use "Pré-visualizar" ou navegue para a página inicial']})]})]})}),i&&Xe.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:Xe.jsxs("div",{className:"flex items-center space-x-2",children:[Xe.jsx($,{className:"w-5 h-5 text-green-600"}),Xe.jsxs("div",{className:"text-green-800",children:[Xe.jsx("p",{className:"font-semibold",children:"Layout salvo com sucesso!"}),Xe.jsx("p",{className:"text-sm",children:"As mudanças foram aplicadas. Navegue para a página inicial para vê-las."})]})]})})]})]})},qC=({banner:e,onSave:t,onCancel:r})=>{var n,i;const[o,s]=a.useState({titulo:(null==e?void 0:e.titulo)||"",cliente:(null==e?void 0:e.cliente)||"",imagem:(null==e?void 0:e.imagem)||"",link:(null==e?void 0:e.link)||"",posicao:(null==e?void 0:e.posicao)||"top-strip",tipo:(null==e?void 0:e.tipo)||"imagem",tamanho:(null==e?void 0:e.tamanho)||"300x250",status:(null==e?void 0:e.status)||"ativo",dataInicio:(null==(n=null==e?void 0:e.dataInicio)?void 0:n.split("T")[0])||(new Date).toISOString().split("T")[0],dataFim:(null==(i=null==e?void 0:e.dataFim)?void 0:i.split("T")[0])||new Date(Date.now()+2592e6).toISOString().split("T")[0],impressoesMax:(null==e?void 0:e.impressoesMax)||"",cliquesMax:(null==e?void 0:e.cliquesMax)||"",cpm:(null==e?void 0:e.cpm)||"",cpc:(null==e?void 0:e.cpc)||"",valorTotal:(null==e?void 0:e.valorTotal)||"",prioridade:(null==e?void 0:e.prioridade)||1,conteudoHtml:(null==e?void 0:e.conteudoHtml)||"",observacoes:(null==e?void 0:e.observacoes)||""}),[l,c]=a.useState((null==e?void 0:e.imagem)||""),[u,d]=a.useState(!1),f=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},p=[{value:"top-strip",label:"Topo da Página",description:"Banner horizontal no topo (728x90)"},{value:"super-banner",label:"Super Banner",description:"Na NewsGeneralSection (970x250)"},{value:"news-sidebar",label:"Sidebar Notícias",description:"Coluna direita da NewsGeneralSection (w-full h-80)"},{value:"sidebar-article",label:"Sidebar Artigo",description:"AdBox na página de artigo (300x250)"},{value:"in-content",label:"Dentro do Texto",description:"No meio do conteúdo (300x250)"}],h=[{value:"728x90",label:"Leaderboard",dimensions:"728x90px"},{value:"300x250",label:"Medium Rectangle",dimensions:"300x250px"},{value:"160x600",label:"Wide Skyscraper",dimensions:"160x600px"},{value:"320x50",label:"Mobile Banner",dimensions:"320x50px"},{value:"970x250",label:"Billboard",dimensions:"970x250px"},{value:"300x600",label:"Half Page",dimensions:"300x600px"},{value:"personalizado",label:"Personalizado",dimensions:"Definir manualmente"}];return Xe.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Xe.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[Xe.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[Xe.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Editar Banner":"Novo Banner"}),Xe.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:Xe.jsx(B,{className:"w-6 h-6"})})]}),Xe.jsxs("form",{onSubmit:r=>{r.preventDefault();const n={...o,dataInicio:new Date(o.dataInicio).toISOString(),dataFim:new Date(o.dataFim).toISOString(),impressoesMax:o.impressoesMax?Number(o.impressoesMax):void 0,cliquesMax:o.cliquesMax?Number(o.cliquesMax):void 0,cpm:o.cpm?Number(o.cpm):void 0,cpc:o.cpc?Number(o.cpc):void 0,valorTotal:o.valorTotal?Number(o.valorTotal):void 0};(async()=>{if(e){const r=await async function(e,t){return rt(`/banners/${e}`,t)}(e.id,n);t(r)}else{const e=await async function(e){return tt("/banners",e)}(n);t(e)}})()},className:"p-6 space-y-6",children:[Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Básicas"}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Banner *"}),Xe.jsx("input",{type:"text",name:"titulo",value:o.titulo,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),Xe.jsx("input",{type:"text",name:"cliente",value:o.cliente,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Posição *"}),Xe.jsx("select",{name:"posicao",value:o.posicao,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:p.map(e=>Xe.jsxs("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Banner *"}),Xe.jsxs("select",{name:"tipo",value:o.tipo,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Xe.jsx("option",{value:"imagem",children:"Imagem"}),Xe.jsx("option",{value:"html",children:"HTML/AdSense"}),Xe.jsx("option",{value:"video",children:"Vídeo"}),Xe.jsx("option",{value:"gif",children:"GIF"})]})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tamanho *"}),Xe.jsx("select",{name:"tamanho",value:o.tamanho,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:h.map(e=>Xe.jsxs("option",{value:e.value,children:[e.label," - ",e.dimensions]},e.value))})]})]}),Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Conteúdo"}),"imagem"===o.tipo?Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload de Imagem"}),Xe.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:l?Xe.jsxs("div",{className:"text-center",children:[Xe.jsx("img",{src:l,alt:"Preview",className:"max-h-40 mx-auto mb-2 rounded"}),Xe.jsx("button",{type:"button",onClick:()=>{c(""),s(e=>({...e,imagem:""}))},className:"text-red-600 text-sm hover:text-red-800",children:"Remover imagem"})]}):Xe.jsxs("div",{className:"text-center",children:[Xe.jsx(P,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),Xe.jsxs("label",{className:"cursor-pointer",children:[Xe.jsx("span",{className:"text-sm text-gray-600",children:u?"Carregando...":"Clique para fazer upload"}),Xe.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){d(!0);try{const e=await async function(e){return new Promise((t,r)=>{if(!e.type.startsWith("image/"))return void r(new Error("Arquivo deve ser uma imagem"));const n=new FileReader;n.onload=e=>{var r;return t(String((null==(r=e.target)?void 0:r.result)||""))},n.onerror=()=>r(new Error("Erro ao ler arquivo")),n.readAsDataURL(e)})}(r);s(t=>({...t,imagem:e})),c(e)}catch(n){alert("Erro ao fazer upload da imagem: "+n.message)}finally{d(!1)}}},disabled:u,className:"hidden"})]})]})}),Xe.jsxs("div",{className:"mt-2",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link de Destino"}),Xe.jsx("input",{type:"url",name:"link",value:o.link,onChange:f,placeholder:"https://",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}):Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código HTML/AdSense"}),Xe.jsx("textarea",{name:"conteudoHtml",value:o.conteudoHtml,onChange:f,rows:8,placeholder:"Cole aqui o código do Google AdSense ou HTML personalizado...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 font-mono text-sm"}),Xe.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para Google AdSense, cole o código completo incluindo as tags <ins> e <script>"})]})]})]}),Xe.jsxs("div",{className:"border-t pt-6",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configurações"}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),Xe.jsxs("select",{name:"status",value:o.status,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Xe.jsx("option",{value:"ativo",children:"Ativo"}),Xe.jsx("option",{value:"pausado",children:"Pausado"}),Xe.jsx("option",{value:"agendado",children:"Agendado"})]})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início"}),Xe.jsx("input",{type:"date",name:"dataInicio",value:o.dataInicio,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),Xe.jsx("input",{type:"date",name:"dataFim",value:o.dataFim,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),Xe.jsxs("select",{name:"prioridade",value:o.prioridade,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Xe.jsx("option",{value:1,children:"1 - Mais Alta"}),Xe.jsx("option",{value:2,children:"2 - Alta"}),Xe.jsx("option",{value:3,children:"3 - Média"}),Xe.jsx("option",{value:4,children:"4 - Baixa"}),Xe.jsx("option",{value:5,children:"5 - Mais Baixa"})]})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máx. Impressões"}),Xe.jsx("input",{type:"number",name:"impressoesMax",value:o.impressoesMax,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPM (R$)"}),Xe.jsx("input",{type:"number",step:"0.01",name:"cpm",value:o.cpm,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),Xe.jsxs("div",{className:"mt-4",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),Xe.jsx("textarea",{name:"observacoes",value:o.observacoes,onChange:f,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),Xe.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[Xe.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),Xe.jsxs("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[e?"Atualizar":"Criar"," Banner"]})]})]})]})})},UC=()=>{const[e,t]=a.useState("editorials"),[r,n]=a.useState(null),[i,o]=a.useState({name:"",color:"#3B82F6"}),[s,l]=a.useState({name:"",color:"#6B7280"}),[c,u]=a.useState({name:"",color:"#8B5CF6"}),[d,f]=a.useState([]),[p,h]=a.useState([]),[m,g]=a.useState([]);a.useEffect(()=>{let e=!0;return(async()=>{try{const[t,r,n]=await Promise.all([et("/categories?type=editorial"),et("/categories?type=municipality"),et("/categories?type=special")]);if(!e)return;f((t.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,subcategories:[]}))),h((r.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,categoryId:"0"}))),g((n.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,subcategories:[]})))}catch(t){}})(),()=>{e=!1}},[]);const y=["#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#EC4899","#F43F5E","#6B7280","#374151"],v=async()=>{if(!i.name.trim())return;const e=await tt("/categories",{name:i.name.toUpperCase(),color:i.color,type:"editorial"});f([...d,{id:String(e.id),name:e.name,color:e.color,subcategories:[]}]),o({name:"",color:"#3B82F6"})},x=async()=>{if(!s.name.trim())return;const e=await tt("/categories",{name:s.name.toUpperCase(),color:s.color,type:"municipality"});h([...p,{id:String(e.id),name:e.name,color:e.color,categoryId:"0"}]),l({name:"",color:"#6B7280"})},j=async()=>{if(!c.name.trim())return;const e=await tt("/categories",{name:c.name.toUpperCase(),color:c.color,type:"special"});g([...m,{id:String(e.id),name:e.name,color:e.color,subcategories:[]}]),u({name:"",color:"#8B5CF6"})};return Xe.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[Xe.jsx("div",{className:"border-b border-gray-200",children:Xe.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"editorials",label:"Editoriais",count:d.length},{id:"municipalities",label:"Municípios",count:p.length},{id:"specials",label:"Especiais",count:m.length}].map(r=>Xe.jsxs("button",{onClick:()=>t(r.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(e===r.id?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.label,Xe.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:r.count})]},r.id))})}),Xe.jsxs("div",{className:"p-6",children:["editorials"===e&&Xe.jsxs("div",{children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Editoriais"}),Xe.jsxs("button",{onClick:v,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Xe.jsx(b,{className:"w-4 h-4"}),"Adicionar Editorial"]})]}),Xe.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Editorial"}),Xe.jsx("input",{type:"text",value:i.name,onChange:e=>o({...i,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: POLÍTICA"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("input",{type:"color",value:i.color,onChange:e=>o({...i,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Xe.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Xe.jsx("button",{onClick:()=>o({...i,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]}),Xe.jsx("div",{className:"flex items-end",children:Xe.jsx("button",{onClick:v,className:"w-full bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]})}),Xe.jsx("div",{className:"space-y-3",children:d.map(e=>Xe.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Xe.jsxs("div",{className:"flex items-center gap-3",children:[Xe.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Xe.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Xe.jsx(S,{className:"w-4 h-4"})}),Xe.jsx("button",{onClick:()=>(async e=>{await nt(`/categories/${e}`),f(d.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Xe.jsx(A,{className:"w-4 h-4"})})]})]},e.id))})]}),"municipalities"===e&&Xe.jsxs("div",{children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Municípios"}),Xe.jsxs("button",{onClick:x,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Xe.jsx(b,{className:"w-4 h-4"}),"Adicionar Município"]})]}),Xe.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Município"}),Xe.jsx("input",{type:"text",value:s.name,onChange:e=>l({...s,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: PEDRO II"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("input",{type:"color",value:s.color,onChange:e=>l({...s,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Xe.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Xe.jsx("button",{onClick:()=>l({...s,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]})]}),Xe.jsx("div",{className:"mt-4",children:Xe.jsx("button",{onClick:x,className:"bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]}),Xe.jsx("div",{className:"space-y-3",children:p.map(e=>Xe.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Xe.jsxs("div",{className:"flex items-center gap-3",children:[Xe.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Xe.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Xe.jsx(S,{className:"w-4 h-4"})}),Xe.jsx("button",{onClick:()=>(async e=>{await nt(`/categories/${e}`),h(p.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Xe.jsx(A,{className:"w-4 h-4"})})]})]},e.id))})]}),"specials"===e&&Xe.jsxs("div",{children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Especiais"}),Xe.jsxs("button",{onClick:j,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Xe.jsx(b,{className:"w-4 h-4"}),"Adicionar Especial"]})]}),Xe.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Especial"}),Xe.jsx("input",{type:"text",value:c.name,onChange:e=>u({...c,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: EXCLUSIVO"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("input",{type:"color",value:c.color,onChange:e=>u({...c,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Xe.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Xe.jsx("button",{onClick:()=>u({...c,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]}),Xe.jsx("div",{className:"flex items-end",children:Xe.jsx("button",{onClick:j,className:"w-full bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]})}),Xe.jsx("div",{className:"space-y-3",children:m.map(e=>Xe.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Xe.jsxs("div",{className:"flex items-center gap-3",children:[Xe.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Xe.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Xe.jsx(S,{className:"w-4 h-4"})}),Xe.jsx("button",{onClick:()=>(async e=>{await nt(`/categories/${e}`),g(m.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Xe.jsx(A,{className:"w-4 h-4"})})]})]},e.id))})]})]})]})};const FC=new class{constructor(){n(this,"queue",[]),n(this,"intervalId",null),n(this,"DELAY_MINUTES",5),n(this,"MAX_ATTEMPTS",3),n(this,"STORAGE_KEY","r10_instagram_queue"),this.loadQueue(),this.startMonitoring()}loadQueue(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){this.queue=JSON.parse(e);const t=Date.now();this.queue=this.queue.filter(e=>t-e.scheduledTime<864e5),this.saveQueue()}}catch(e){this.queue=[]}}saveQueue(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.queue))}catch(e){}}addToQueue(e,t,r){if(this.queue.find(t=>t.id===e))return;const n=Date.now()+60*this.DELAY_MINUTES*1e3,a={id:e,title:t.substring(0,100),hat:r,scheduledTime:n,status:"pending",attempts:0};this.queue.push(a),this.saveQueue(),this.showNotification("Instagram Agendado",`Post será publicado automaticamente em ${this.DELAY_MINUTES} minutos`)}removeFromQueue(e){this.queue=this.queue.filter(t=>t.id!==e),this.saveQueue()}startMonitoring(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.processQueue()},6e4)}async processQueue(){const e=Date.now(),t=this.queue.filter(t=>"pending"===t.status&&t.scheduledTime<=e&&t.attempts<this.MAX_ATTEMPTS);for(const r of t)await this.publishPost(r);this.queue=this.queue.filter(e=>"pending"===e.status&&e.attempts<this.MAX_ATTEMPTS),t.length>0&&this.saveQueue()}async publishPost(e){e.attempts++;try{const t=await fetch("http://localhost:8080/api/social/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,hat:e.hat||"NOTÍCIA"})}),r=await t.json();if(!r.ok||!r.postId)throw new Error(r.error||"Falha na publicação");e.status="published",this.saveToInstagramHistory({id:Date.now().toString(),title:e.title,instagramPostId:r.postId,publishedAt:(new Date).toISOString(),status:"success"}),this.showNotification("Instagram Publicado!",`Post "${e.title.substring(0,30)}..." foi publicado automaticamente`)}catch(t){e.attempts>=this.MAX_ATTEMPTS?(e.status="error",this.showNotification("Erro no Instagram",`Falha ao publicar "${e.title.substring(0,30)}..." após ${this.MAX_ATTEMPTS} tentativas`)):e.scheduledTime=Date.now()+3e5}}saveToInstagramHistory(e){try{const t=localStorage.getItem("r10_instagram_posts"),r=t?JSON.parse(t):[];r.unshift(e),r.length>10&&r.splice(10),localStorage.setItem("r10_instagram_posts",JSON.stringify(r))}catch(t){}}showNotification(e,t){"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/favicon.ico"})}getQueueStatus(){const e=Date.now();return{total:this.queue.length,pending:this.queue.filter(e=>"pending"===e.status).length,ready:this.queue.filter(t=>"pending"===t.status&&t.scheduledTime<=e).length,items:this.queue.map(t=>({...t,remainingTime:Math.max(0,t.scheduledTime-e)}))}}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}async requestNotificationPermission(){"Notification"in window&&"default"===Notification.permission&&await Notification.requestPermission()}},GC=()=>{const{user:e}=Pt(),t="admin"===(null==e?void 0:e.role),[r,n]=a.useState([]),[i,o]=a.useState(!1),[s,l]=a.useState(null),[c,u]=a.useState(!1),[d,f]=a.useState({name:"",email:"",password:"",role:"editor"});async function p(){try{o(!0),l(null);const e=await et("/users");n(e.items||[])}catch(e){l((null==e?void 0:e.message)||"Falha ao listar usuários")}finally{o(!1)}}return a.useEffect(()=>{t&&p()},[t]),t?Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[Xe.jsx(F,{className:"w-6 h-6"}),"Usuários"]}),Xe.jsx("p",{className:"text-gray-600",children:"Gerencie administradores e redatores."})]}),Xe.jsxs("button",{onClick:()=>u(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[Xe.jsx(b,{className:"w-4 h-4"}),"Novo Usuário"]})]}),c&&Xe.jsxs("form",{onSubmit:async function(e){e.preventDefault();try{await tt("/auth/register",d),u(!1),f({name:"",email:"",password:"",role:"editor"}),p()}catch(t){alert((null==t?void 0:t.message)||"Falha ao cadastrar")}},className:"bg-white border rounded-xl p-4 grid grid-cols-1 md:grid-cols-4 gap-3",children:[Xe.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:d.name,onChange:e=>f(t=>({...t,name:e.target.value})),required:!0}),Xe.jsx("input",{type:"email",className:"border rounded px-3 py-2",placeholder:"Email",value:d.email,onChange:e=>f(t=>({...t,email:e.target.value})),required:!0}),Xe.jsx("input",{type:"password",className:"border rounded px-3 py-2",placeholder:"Senha",value:d.password,onChange:e=>f(t=>({...t,password:e.target.value})),required:!0}),Xe.jsxs("select",{className:"border rounded px-3 py-2",value:d.role,onChange:e=>f(t=>({...t,role:e.target.value})),children:[Xe.jsx("option",{value:"editor",children:"Redator"}),Xe.jsx("option",{value:"admin",children:"Admin"})]}),Xe.jsxs("div",{className:"md:col-span-4 flex justify-end gap-2",children:[Xe.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 rounded border",children:"Cancelar"}),Xe.jsx("button",{className:"px-4 py-2 rounded bg-red-600 text-white",children:"Salvar"})]})]}),Xe.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:Xe.jsxs("table",{className:"w-full",children:[Xe.jsx("thead",{className:"bg-gray-50",children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Usuário"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Email"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Papel"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Ações"})]})}),Xe.jsxs("tbody",{className:"divide-y",children:[r.map(e=>Xe.jsxs("tr",{className:"hover:bg-gray-50",children:[Xe.jsx("td",{className:"px-6 py-3 text-base text-gray-900",children:e.name}),Xe.jsx("td",{className:"px-6 py-3 text-base text-gray-700",children:e.email}),Xe.jsx("td",{className:"px-6 py-3",children:Xe.jsxs("select",{value:e.role,onChange:t=>async function(e,r){try{await rt(`/users/${e}`,{role:r}),p()}catch(t){alert((null==t?void 0:t.message)||"Falha ao atualizar papel")}}(e.id,t.target.value),className:"border rounded px-2 py-1",children:[Xe.jsx("option",{value:"editor",children:"Redator"}),Xe.jsx("option",{value:"admin",children:"Admin"})]})}),Xe.jsx("td",{className:"px-6 py-3 flex items-center gap-2",children:Xe.jsx("button",{onClick:()=>async function(e){if(confirm("Excluir este usuário?"))try{await nt(`/users/${e}`),p()}catch(t){alert((null==t?void 0:t.message)||"Falha ao excluir")}}(e.id),className:"inline-flex items-center p-1 text-xs font-medium text-red-600 bg-red-100 rounded hover:bg-red-200 transition-colors",title:"Excluir",children:Xe.jsx(A,{className:"w-4 h-4"})})})]},e.id)),0===r.length&&Xe.jsx("tr",{children:Xe.jsx("td",{className:"px-6 py-6 text-center text-gray-500",colSpan:4,children:"Nenhum usuário cadastrado."})})]})]})})]}):Xe.jsx("div",{className:"p-6 bg-white rounded-xl border",children:Xe.jsx("div",{className:"text-red-600 font-semibold",children:"Acesso restrito a administradores."})})},WC=({initialDays:e=30})=>{const{isAuthenticated:t}=Pt(),[r,n]=a.useState(e),[i,o]=a.useState(null),[s,l]=a.useState(!1),[c,u]=a.useState(null);async function d(){if(t){l(!0),u(null);try{const e=await et(`/social/analytics?days=${r}`);o(e)}catch(e){u((null==e?void 0:e.message)||"Falha ao carregar analytics")}finally{l(!1)}}}return a.useEffect(()=>{d()},[r,t]),Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Analytics (Instagram + Facebook)"}),Xe.jsxs("div",{className:"flex items-center gap-3",children:[Xe.jsx("label",{className:"text-sm text-gray-600",children:"Período:"}),Xe.jsxs("select",{value:r,onChange:e=>n(parseInt(e.target.value)),className:"border rounded px-2 py-1",children:[Xe.jsx("option",{value:7,children:"7 dias"}),Xe.jsx("option",{value:14,children:"14 dias"}),Xe.jsx("option",{value:30,children:"30 dias"}),Xe.jsx("option",{value:60,children:"60 dias"}),Xe.jsx("option",{value:90,children:"90 dias"})]}),Xe.jsx("button",{onClick:d,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Atualizar"})]})]}),s&&Xe.jsx("div",{className:"p-4 bg-white rounded shadow",children:"Carregando…"}),c&&Xe.jsx("div",{className:"p-4 bg-white rounded shadow text-red-600",children:c}),i&&Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"bg-white rounded-xl p-5 shadow border border-gray-100",children:[Xe.jsx("h4",{className:"text-base font-semibold mb-1",children:"Instagram"}),Xe.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["@",i.instagram.account.username||"—"," · Seguidores: ",i.instagram.account.followers??"—"]}),Xe.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.instagram.metrics.map(e=>{var t;return Xe.jsxs("div",{className:"border rounded p-4",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Xe.jsx("strong",{className:"text-sm",children:e.name}),Xe.jsx("span",{className:"text-xs px-2 py-0.5 rounded "+("ok"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),"ok"===e.status?Xe.jsxs(Xe.Fragment,{children:[Xe.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[(null==(t=e.series)?void 0:t.length)||0," pontos · período: ",e.period]}),Xe.jsx("div",{className:"overflow-x-auto",children:Xe.jsxs("table",{className:"min-w-full text-xs",children:[Xe.jsx("thead",{children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"text-left pr-4",children:"Data"}),Xe.jsx("th",{className:"text-left",children:"Valor"})]})}),Xe.jsx("tbody",{children:(e.series||[]).map(e=>Xe.jsxs("tr",{className:"border-t",children:[Xe.jsx("td",{className:"pr-4 py-1",children:e.date}),Xe.jsx("td",{className:"py-1",children:e.value})]},e.date))})]})})]}):Xe.jsxs("div",{className:"text-xs text-gray-600",children:["Falha: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]})]},`ig-${e.name}`)})})]}),Xe.jsxs("div",{className:"bg-white rounded-xl p-5 shadow border border-gray-100",children:[Xe.jsx("h4",{className:"text-base font-semibold mb-1",children:"Facebook"}),Xe.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:[i.facebook.account.name||"—"," · Seguidores: ",i.facebook.account.followers??"—"]}),Xe.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.facebook.metrics.map(e=>{var t;return Xe.jsxs("div",{className:"border rounded p-4",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Xe.jsx("strong",{className:"text-sm",children:e.name}),Xe.jsx("span",{className:"text-xs px-2 py-0.5 rounded "+("ok"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),"ok"===e.status?Xe.jsxs(Xe.Fragment,{children:[Xe.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[(null==(t=e.series)?void 0:t.length)||0," pontos · período: ",e.period]}),Xe.jsx("div",{className:"overflow-x-auto",children:Xe.jsxs("table",{className:"min-w-full text-xs",children:[Xe.jsx("thead",{children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"text-left pr-4",children:"Data"}),Xe.jsx("th",{className:"text-left",children:"Valor"})]})}),Xe.jsx("tbody",{children:(e.series||[]).map(e=>Xe.jsxs("tr",{className:"border-t",children:[Xe.jsx("td",{className:"pr-4 py-1",children:e.date}),Xe.jsx("td",{className:"py-1",children:e.value})]},e.date))})]})})]}):Xe.jsxs("div",{className:"text-xs text-gray-600",children:["Falha: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]})]},`fb-${e.name}`)})})]}),Xe.jsxs("div",{className:"text-[11px] text-gray-500",children:["Gerado em ",new Date(i.generatedAt).toLocaleString()," · Período: ",i.period.since," a ",i.period.until]})]})]})},VC=({days:e})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!1),[o,s]=a.useState(null);return a.useEffect(()=>{!async function(){i(!0),s(null);try{const t=await et(`/site/analytics?days=${e}`);r(t)}catch(t){s((null==t?void 0:t.message)||"Falha ao carregar Site Analytics")}finally{i(!1)}}()},[e]),Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Site (Pageviews, Sessões, Usuários)"}),n&&Xe.jsx("div",{className:"p-3 bg-white rounded border",children:"Carregando…"}),o&&Xe.jsx("div",{className:"p-3 bg-white rounded border text-red-600",children:o}),t&&Xe.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Xe.jsxs("div",{className:"bg-white rounded border p-4",children:[Xe.jsx("h4",{className:"font-medium mb-2",children:"Séries Diárias"}),Xe.jsx("div",{className:"overflow-x-auto",children:Xe.jsxs("table",{className:"min-w-full text-xs",children:[Xe.jsx("thead",{children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"text-left pr-3",children:"Data"}),Xe.jsx("th",{className:"text-right pr-3",children:"Pageviews"}),Xe.jsx("th",{className:"text-right pr-3",children:"Sessões"}),Xe.jsx("th",{className:"text-right",children:"Usuários"})]})}),Xe.jsx("tbody",{children:t.metrics.pageviews.map((e,r)=>{var n,a;return Xe.jsxs("tr",{className:"border-t",children:[Xe.jsx("td",{className:"py-1 pr-3",children:e.date}),Xe.jsx("td",{className:"py-1 pr-3 text-right",children:e.value}),Xe.jsx("td",{className:"py-1 pr-3 text-right",children:(null==(n=t.metrics.sessions[r])?void 0:n.value)??0}),Xe.jsx("td",{className:"py-1 text-right",children:(null==(a=t.metrics.users[r])?void 0:a.value)??0})]},e.date)})})]})})]}),Xe.jsxs("div",{className:"bg-white rounded border p-4",children:[Xe.jsx("h4",{className:"font-medium mb-2",children:"Páginas Mais Vistas"}),Xe.jsx("div",{className:"overflow-x-auto",children:Xe.jsxs("table",{className:"min-w-full text-xs",children:[Xe.jsx("thead",{children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"text-left",children:"Path"}),Xe.jsx("th",{className:"text-right",children:"Pageviews"})]})}),Xe.jsx("tbody",{children:t.topPages.map(e=>Xe.jsxs("tr",{className:"border-t",children:[Xe.jsx("td",{className:"py-1 pr-3",children:e.path}),Xe.jsx("td",{className:"py-1 text-right",children:e.pageviews})]},e.path))})]})})]}),Xe.jsxs("div",{className:"text-[11px] text-gray-500 col-span-full",children:["Fonte: ",t.source," · Período ",t.period.since," a ",t.period.until]})]})]})},HC=({title:e,value:t,change:r,changeType:n="neutral",icon:a,color:i,description:o,loading:s=!1})=>Xe.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Xe.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i} shadow-md group-hover:scale-110 transition-transform duration-200`,children:a}),r&&Xe.jsxs("div",{className:"flex items-center text-sm font-medium "+(r?"positive"===n?"text-green-600":"negative"===n?"text-red-600":"text-gray-600":"text-gray-600"),children:[r?"positive"===n?Xe.jsx(G,{size:16,className:"text-green-600"}):"negative"===n?Xe.jsx(W,{size:16,className:"text-red-600"}):Xe.jsx(U,{size:16,className:"text-gray-600"}):null,Xe.jsx("span",{className:"ml-1",children:r})]})]}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1 uppercase tracking-wide",children:e}),s?Xe.jsxs("div",{className:"animate-pulse",children:[Xe.jsx("div",{className:"h-8 bg-gray-300 rounded w-20 mb-2"}),o&&Xe.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]}):Xe.jsxs(Xe.Fragment,{children:[Xe.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:"number"==typeof t?t.toLocaleString():t}),o&&Xe.jsx("p",{className:"text-xs text-gray-500",children:o})]})]}),XC=({title:e,icon:t,color:r,onClick:n})=>Xe.jsxs("button",{onClick:n,className:`flex flex-col items-center p-6 bg-gradient-to-br ${r} rounded-xl border border-opacity-20 transition-all duration-200 group hover:shadow-lg hover:scale-105`,children:[Xe.jsx("div",{className:"mb-3 group-hover:scale-110 transition-transform duration-200",children:t}),Xe.jsx("span",{className:"text-sm font-semibold",children:e})]}),KC=({post:e,featured:t=!1,loading:r=!1})=>{if(r)return Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 animate-pulse "+(t?"md:col-span-2":""),children:[Xe.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),Xe.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),Xe.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]});const n=e.titulo||e.title||"Sem título",a=(e.views||e.visualizacoes||0).toLocaleString(),i=new Date(e.dataPublicacao||e.publishedAt||Date.now()).toLocaleDateString("pt-BR");return Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 hover:shadow-lg transition-all duration-200 cursor-pointer group "+(t?"md:col-span-2 border-red-200 bg-gradient-to-r from-white to-red-50":""),children:[Xe.jsxs("div",{className:"flex items-start justify-between mb-2",children:[Xe.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-red-600 transition-colors line-clamp-2 "+(t?"text-lg":"text-sm"),children:n}),t&&Xe.jsx(ae,{size:16,className:"text-yellow-500 flex-shrink-0 ml-2"})]}),Xe.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[Xe.jsxs("span",{className:"flex items-center",children:[Xe.jsx(O,{size:12,className:"mr-1"}),a]}),Xe.jsxs("span",{className:"flex items-center",children:[Xe.jsx(z,{size:12,className:"mr-1"}),i]})]})]})},YC=({socialInsights:e,socialInsightsError:t,latestPosts:r,mostRead:n,loading:a,onTabChange:i})=>{var o,s,l;const c=[{title:"Total de Posts",value:a?"-":r.length,change:"+12%",changeType:"positive",icon:Xe.jsx(g,{size:24,className:"text-white"}),color:"from-blue-500 to-blue-600",description:"Este mês"},{title:"Seguidores IG",value:a?"-":(null==e?void 0:e.instagram.followers)||0,change:e?`+${e.instagram.growth7d}%`:void 0,changeType:"positive",icon:Xe.jsx(w,{size:24,className:"text-white"}),color:"from-pink-500 to-purple-600",description:`@${(null==(o=null==e?void 0:e.instagram.account)?void 0:o.username)||"r10piaui"}`},{title:"Seguidores FB",value:a?"-":(null==e?void 0:e.facebook.followers)||0,change:e?`+${e.facebook.growth7d}%`:void 0,changeType:"positive",icon:Xe.jsx(re,{size:24,className:"text-white"}),color:"from-blue-600 to-blue-700",description:(null==(s=null==e?void 0:e.facebook.account)?void 0:s.name)||"R10 Piauí"},{title:"Engajamento",value:a?"-":(((null==e?void 0:e.instagram.engagement)||0)+((null==e?void 0:e.facebook.engagement)||0)).toLocaleString(),change:"+8.5%",changeType:"positive",icon:Xe.jsx(X,{size:24,className:"text-white"}),color:"from-green-500 to-emerald-600",description:"Últimos 7 dias"}],u=(null==(l=null==e?void 0:e.instagram.trend)?void 0:l.map((t,r)=>{var n,a;return{date:t.date,Instagram:t.engagement,Facebook:(null==(a=null==(n=null==e?void 0:e.facebook.trend)?void 0:n[r])?void 0:a.engagement)||0}}))||[],d=[{name:"Política",value:35,color:"#ef4444"},{name:"Esportes",value:25,color:"#3b82f6"},{name:"Policial",value:20,color:"#f59e0b"},{name:"Outros",value:20,color:"#10b981"}];return Xe.jsxs("div",{className:"space-y-8",children:[Xe.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-2xl p-6 text-white",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard Overview"}),Xe.jsx("p",{className:"text-red-100",children:"Bem-vindo de volta! Aqui está o resumo do seu site."})]}),Xe.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[Xe.jsxs("div",{className:"text-right",children:[Xe.jsx("p",{className:"text-sm text-red-100",children:"Última atualização"}),Xe.jsx("p",{className:"text-lg font-semibold",children:(new Date).toLocaleString("pt-BR")})]}),Xe.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]})]})}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((e,t)=>Xe.jsx(HC,{...e,loading:a},t))}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Xe.jsx(U,{size:24,className:"mr-3 text-red-500"}),"Ações Rápidas"]}),Xe.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Xe.jsx(XC,{title:"Nova Matéria",icon:Xe.jsx(g,{size:32,className:"text-white"}),color:"from-red-500 to-red-600 text-white",onClick:()=>i("materias")}),Xe.jsx(XC,{title:"Gerenciar Mídia",icon:Xe.jsx(O,{size:32,className:"text-white"}),color:"from-purple-500 to-purple-600 text-white",onClick:()=>i("midia")}),Xe.jsx(XC,{title:"Instagram",icon:Xe.jsx(w,{size:32,className:"text-white"}),color:"from-pink-500 to-purple-600 text-white",onClick:()=>i("instagram")}),Xe.jsx(XC,{title:"Analytics",icon:Xe.jsx(V,{size:32,className:"text-white"}),color:"from-blue-500 to-blue-600 text-white",onClick:()=>i("analytics")})]})]}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Xe.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Xe.jsx(X,{size:24,className:"mr-3 text-green-500"}),"Performance Social"]}),t&&Xe.jsx("span",{className:"text-sm text-red-600 bg-red-50 px-3 py-1 rounded-full",children:"Erro nos dados"})]}),u.length>0?Xe.jsx("div",{className:"h-64",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(LC,{data:u,children:[Xe.jsxs("defs",{children:[Xe.jsxs("linearGradient",{id:"instagramGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Xe.jsx("stop",{offset:"5%",stopColor:"#e1306c",stopOpacity:.8}),Xe.jsx("stop",{offset:"95%",stopColor:"#e1306c",stopOpacity:.1})]}),Xe.jsxs("linearGradient",{id:"facebookGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Xe.jsx("stop",{offset:"5%",stopColor:"#1877f2",stopOpacity:.8}),Xe.jsx("stop",{offset:"95%",stopColor:"#1877f2",stopOpacity:.1})]})]}),Xe.jsx(DE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Xe.jsx(ST,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),Xe.jsx(RT,{stroke:"#6b7280",fontSize:12}),Xe.jsx(dp,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),Xe.jsx(hT,{type:"monotone",dataKey:"Instagram",stackId:"1",stroke:"#e1306c",fill:"url(#instagramGradient)",strokeWidth:2}),Xe.jsx(hT,{type:"monotone",dataKey:"Facebook",stackId:"2",stroke:"#1877f2",fill:"url(#facebookGradient)",strokeWidth:2})]})})}):Xe.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:Xe.jsxs("div",{className:"text-center",children:[Xe.jsx(V,{size:48,className:"mx-auto mb-3 text-gray-300"}),Xe.jsx("p",{children:"Carregando dados..."})]})})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Xe.jsx(ne,{size:24,className:"mr-3 text-blue-500"}),"Categorias"]}),Xe.jsx("div",{className:"h-64",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(RC,{children:[Xe.jsx(dA,{data:d,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,labelLine:!1,children:d.map((e,t)=>Xe.jsx(zp,{fill:e.color},`cell-${t}`))}),Xe.jsx(dp,{})]})})})]})]}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Xe.jsx(g,{size:24,className:"mr-3 text-red-500"}),"Últimas Publicações"]}),Xe.jsx("button",{onClick:()=>i("materias"),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Ver todas →"})]}),Xe.jsx("div",{className:"space-y-3",children:(a?Array.from({length:4}).map((e,t)=>({id:`skeleton-${t}`})):r.slice(0,4)).map((e,t)=>Xe.jsx(KC,{post:e,featured:0===t,loading:a},e.id||t))})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Xe.jsx(O,{size:24,className:"mr-3 text-green-500"}),"Mais Lidas"]}),Xe.jsx("button",{onClick:()=>i("analytics"),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Ver analytics →"})]}),Xe.jsx("div",{className:"space-y-3",children:(a?Array.from({length:4}).map((e,t)=>({id:`skeleton-most-${t}`})):n.slice(0,4)).map((e,t)=>Xe.jsx(KC,{post:e,loading:a},e.id||t))})]})]})]})},JC=({onClose:e})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!0),[o,s]=a.useState(null),[l,c]=a.useState("overview"),[u,d]=a.useState("30d"),[f,p]=a.useState(!1),[h,m]=a.useState("aggregate28"),[y,v]=a.useState(null),b=async()=>{var e,t,n,a,o,l,c,u,d,f,p,h,m,g,y,x,b,j,w,N,O;i(!0),s(null);try{const[i,s,S,A,P]=await Promise.all([et("/social/insights"),et("/social/analytics?days=30"),et("/stats"),et("/posts/most-read"),et("/stats")]),k=i||{},E=s||{};v(E);const T=A||[],C=P||{},M=(e,t)=>{var r;const n=((null==(r=null==E?void 0:E[e])?void 0:r.metrics)||[]).find(e=>(null==e?void 0:e.name)===t);if(!n||"ok"!==n.status)return null;return{raw:n,value:"number"==typeof n.aggregate28&&n.aggregate28>0?n.aggregate28:"number"==typeof n.sumDaily&&n.sumDaily>0?n.sumDaily:0}},_=M("instagram","reach"),I=M("instagram","impressions"),D=M("instagram","accounts_engaged"),R=M("instagram","total_interactions"),L=M("instagram","profile_views"),B=M("facebook","page_impressions"),z=M("facebook","page_impressions_unique"),$=M("facebook","page_engaged_users"),q=M("facebook","page_fan_adds_unique"),U=M("facebook","page_fan_removes_unique"),F={audience:{totalUsers:12*((null==C?void 0:C.total)||21),newUsers:Math.floor(12*((null==C?void 0:C.total)||21)*.25),returningUsers:Math.floor(12*((null==C?void 0:C.total)||21)*.75),avgSessionDuration:180,bounceRate:45.2,sessionsPerUser:1.8,demographics:{ageGroups:[{age:"18-24",percentage:15.2,color:"#ff6b6b"},{age:"25-34",percentage:28.7,color:"#4ecdc4"},{age:"35-44",percentage:32.1,color:"#45b7d1"},{age:"45-54",percentage:18.5,color:"#96ceb4"},{age:"55+",percentage:5.5,color:"#feca57"}],gender:{male:48.2,female:49.1,other:2.7},locations:[{city:"Teresina",users:Math.floor(12*((null==C?void 0:C.total)||21)*.42),percentage:42},{city:"Parnaíba",users:Math.floor(12*((null==C?void 0:C.total)||21)*.18),percentage:18},{city:"Picos",users:Math.floor(12*((null==C?void 0:C.total)||21)*.12),percentage:12},{city:"Piripiri",users:Math.floor(12*((null==C?void 0:C.total)||21)*.1),percentage:10},{city:"Floriano",users:Math.floor(12*((null==C?void 0:C.total)||21)*.08),percentage:8}]}},engagement:{totalPageviews:((null==(e=null==T?void 0:T[0])?void 0:e.visualizacoes)||268)+((null==(t=null==T?void 0:T[1])?void 0:t.visualizacoes)||28)+((null==(n=null==T?void 0:T[2])?void 0:n.visualizacoes)||21)+5*((null==C?void 0:C.total)||21),uniquePageviews:Math.floor(.75*(((null==(a=null==T?void 0:T[0])?void 0:a.visualizacoes)||268)+((null==(o=null==T?void 0:T[1])?void 0:o.visualizacoes)||28)+((null==(l=null==T?void 0:T[2])?void 0:l.visualizacoes)||21)+5*((null==C?void 0:C.total)||21))),avgTimeOnPage:165,pagesPerSession:2.2,exitRate:52.1,scrollDepth:68.3,interactions:{clicks:Math.floor(.08*(((null==(c=null==T?void 0:T[0])?void 0:c.visualizacoes)||268)+5*((null==C?void 0:C.total)||21))),shares:Math.floor(.001*((null==(u=null==k?void 0:k.instagram)?void 0:u.engagement)||269227)),comments:Math.floor(5e-4*((null==(d=null==k?void 0:k.instagram)?void 0:d.engagement)||269227)),likes:Math.floor(.003*((null==(f=null==k?void 0:k.instagram)?void 0:f.engagement)||269227))}},content:{topPages:(T||[]).slice(0,3).map((e,t)=>({path:`/noticia/${e.id}`,title:e.titulo||`Notícia ${t+1}`,views:e.visualizacoes||0,avgTime:180+30*t,bounceRate:25+5*t})),topCategories:[{category:"Geral",views:20*((null==C?void 0:C.geral)||15),engagement:3.2,growth:5.1},{category:"Destaque",views:35*((null==C?void 0:C.destaque)||5),engagement:4.8,growth:8.7},{category:"Supermanchete",views:150*((null==C?void 0:C.supermanchete)||1),engagement:6.2,growth:15.2}],searchTerms:[{term:"r10 piauí",count:Math.floor(12*((null==C?void 0:C.total)||21)*.08),conversions:12},{term:"notícias teresina",count:Math.floor(12*((null==C?void 0:C.total)||21)*.05),conversions:8},{term:"piauí hoje",count:Math.floor(12*((null==C?void 0:C.total)||21)*.03),conversions:4}],contentPerformance:{type:"notícias",avgViews:Math.floor(((null==(p=null==T?void 0:T[0])?void 0:p.visualizacoes)||268)/((null==C?void 0:C.total)||21)),avgEngagement:2.8}},technology:{devices:[{type:"Mobile",percentage:71.2,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.712)},{type:"Desktop",percentage:24.1,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.241)},{type:"Tablet",percentage:4.7,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.047)}],browsers:[{name:"Chrome",percentage:68.9,version:"119.0"},{name:"Safari",percentage:18.7,version:"17.1"},{name:"Firefox",percentage:7.2,version:"119.0"},{name:"Edge",percentage:5.2,version:"119.0"}],os:[{name:"Android",percentage:47.8},{name:"iOS",percentage:28.9},{name:"Windows",percentage:18.7},{name:"macOS",percentage:4.6}],screenResolutions:[{resolution:"393x852",percentage:21.3},{resolution:"390x844",percentage:18.7},{resolution:"1920x1080",percentage:15.2}]},traffic:{sources:[{source:"Direct",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.45),percentage:45,quality:8.9},{source:"Social Media",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.35),percentage:35,quality:7.2},{source:"Organic Search",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.15),percentage:15,quality:6.8},{source:"Referral",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.05),percentage:5,quality:5.5}],channels:[{channel:"Instagram",users:(null==(h=null==k?void 0:k.instagram)?void 0:h.followers)||0,conversions:8,value:2.1},{channel:"Facebook",users:(null==(m=null==k?void 0:k.facebook)?void 0:m.followers)||0,conversions:12,value:1.8},{channel:"Google",users:Math.floor(12*((null==C?void 0:C.total)||21)*.15),conversions:3,value:3.2}],campaigns:[{name:"Portal R10 PI",clicks:Math.floor(.05*((null==(g=null==T?void 0:T[0])?void 0:g.visualizacoes)||268)),impressions:Math.floor(3*((null==(y=null==T?void 0:T[0])?void 0:y.visualizacoes)||268)),ctr:1.67}],referrers:[{domain:"instagram.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.25),quality:7.2},{domain:"facebook.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.15),quality:6.8},{domain:"google.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.08),quality:7.5}]},temporal:{hourlyTraffic:Array.from({length:24},(e,t)=>{const r=Math.floor(12*((null==C?void 0:C.total)||21)/24),n=t>=7&&t<=22?t>=12&&t<=18?2.2:1.4:.3;return{hour:t,sessions:Math.max(1,Math.floor(r*n)),engagement:20+(t>=8&&t<=18?35:0)}}),dailyTraffic:Array.from({length:7},(e,t)=>{var r;const n=new Date;n.setDate(n.getDate()-(6-t));const a=Math.floor(12*((null==C?void 0:C.total)||21)/7),i=Math.floor(((null==(r=null==T?void 0:T[0])?void 0:r.visualizacoes)||268)/7);return{day:n.toISOString().split("T")[0],sessions:Math.max(2,Math.floor(a*(.8+.1*t))),users:Math.max(2,Math.floor(a*(.75+.08*t))),pageviews:Math.max(5,Math.floor(i*(1.2+.15*t)))}}),monthlyTrends:[{month:"Jul",growth:8.7,retention:71.2},{month:"Ago",growth:12.1,retention:73.8},{month:"Set",growth:15.6,retention:76.4}]},social:{instagram:{followers:(null==(x=null==k?void 0:k.instagram)?void 0:x.followers)||(null==(j=null==(b=null==E?void 0:E.instagram)?void 0:b.account)?void 0:j.followers)||0,engagement:(null==D?void 0:D.value)||(null==R?void 0:R.value)||0,reach:(null==_?void 0:_.value)||0,impressions:(null==I?void 0:I.value)||0,storiesViews:0,profileViews:(null==L?void 0:L.value)||0,websiteClicks:0,topPosts:[],audienceInsights:{topLocations:[],ageGender:[],activeHours:[]}},facebook:{followers:(null==(w=null==k?void 0:k.facebook)?void 0:w.followers)||(null==(O=null==(N=null==E?void 0:E.facebook)?void 0:N.account)?void 0:O.followers)||0,engagement:(null==$?void 0:$.value)||0,reach:(null==z?void 0:z.value)||0,impressions:(null==B?void 0:B.value)||0,pageViews:0,videoViews:0,linkClicks:0,topPosts:[],audienceInsights:{demographics:[],interests:[],behavior:[]},fanAdds:(null==q?void 0:q.value)||0,fanRemoves:(null==U?void 0:U.value)||0}},performance:{pageLoadTime:1.08,serverResponse:92,firstContentfulPaint:.75,largestContentfulPaint:1.52,cumulativeLayoutShift:.025,errors404:3,serverErrors:0,uptime:99.97}};r(F)}catch(S){s((null==S?void 0:S.message)||"Erro ao carregar métricas avançadas")}finally{i(!1)}};a.useEffect(()=>{b()},[u]);const j=({title:e,value:t,change:r,trend:n="neutral",icon:a,color:i="from-blue-500 to-blue-600",subtitle:o})=>Xe.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Xe.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i}`,children:a}),r&&Xe.jsxs("div",{className:"flex items-center text-sm font-medium "+("up"===n?"text-green-600":"down"===n?"text-red-600":"text-gray-600"),children:["up"===n?Xe.jsx(G,{size:16}):"down"===n?Xe.jsx(W,{size:16}):null,Xe.jsx("span",{className:"ml-1",children:r})]})]}),Xe.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1 uppercase tracking-wide",children:e}),Xe.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:"number"==typeof t?t.toLocaleString():t}),o&&Xe.jsx("p",{className:"text-xs text-gray-500",children:o})]}),N=({platform:e})=>{if(!y)return null;const t=e=>{var t;const r=(null==(t=null==y?void 0:y[e])?void 0:t.metrics)||[];return Array.isArray(r)&&r.length?r.map(e=>({name:e.name,status:e.status,dias:(e.series||[]).length,soma:(e.series||[]).reduce((e,t)=>e+((null==t?void 0:t.value)||0),0)})):[]},r=t(e||"instagram");return r.length?Xe.jsxs("div",{className:"overflow-x-auto",children:[Xe.jsxs("table",{className:"min-w-full text-xs border border-gray-200 rounded-md overflow-hidden",children:[Xe.jsx("thead",{className:"bg-gray-50",children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-600",children:"Métrica"}),Xe.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-600",children:"Status"}),Xe.jsx("th",{className:"px-2 py-1 text-right font-semibold text-gray-600",children:"Dias"}),Xe.jsx("th",{className:"px-2 py-1 text-right font-semibold text-gray-600",children:"Soma"})]})}),Xe.jsx("tbody",{children:r.map(e=>Xe.jsxs("tr",{className:"border-t",children:[Xe.jsx("td",{className:"px-2 py-1 font-mono text-gray-700",children:e.name}),Xe.jsx("td",{className:"px-2 py-1",children:"ok"===e.status?Xe.jsx("span",{className:"inline-flex items-center text-green-600",children:"✔ ok"}):Xe.jsxs("span",{className:"inline-flex items-center text-red-600",children:["✖ ",e.status]})}),Xe.jsx("td",{className:"px-2 py-1 text-right text-gray-700",children:e.dias}),Xe.jsx("td",{className:"px-2 py-1 text-right font-semibold text-gray-900",children:e.soma.toLocaleString()})]},e.name))})]}),Xe.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Tabela de diagnóstico direto da API Meta (somatório do período carregado)."})]}):Xe.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md text-sm",children:["Nenhuma série de métricas retornada pela API para ",e||"instagram","."]})},S=(e,t)=>{var r;if(!y)return 0;const n=((null==(r=y[e])?void 0:r.metrics)||[]).find(e=>e.name===t);if(!n||"ok"!==n.status)return 0;const a=n[h]??0;return"number"==typeof a?a:0},A=({label:e,metric:t,children:r})=>Xe.jsxs("div",{className:"group relative",children:[r,Xe.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition bg-gray-900 text-white text-[10px] px-2 py-1 rounded absolute z-10 -top-2 left-1/2 -translate-x-1/2 whitespace-nowrap pointer-events-none",children:[e," • modo: ",h,Xe.jsxs("div",{className:"mt-0.5 text-[9px] text-gray-300",children:["Fonte: ",t]})]})]});return n?Xe.jsx("div",{className:"p-8",children:Xe.jsxs("div",{className:"flex items-center justify-center h-64",children:[Xe.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"}),Xe.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Carregando analytics avançados..."})]})}):o?Xe.jsx("div",{className:"p-8",children:Xe.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[Xe.jsx(ie,{size:48,className:"mx-auto text-red-500 mb-4"}),Xe.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar dados"}),Xe.jsx("p",{className:"text-red-600 mb-4",children:o}),Xe.jsx("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Tentar novamente"})]})}):Xe.jsxs("div",{className:"p-6 space-y-6",children:[Xe.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 text-white",children:[Xe.jsxs("div",{children:[Xe.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Avançados"}),Xe.jsx("p",{className:"text-red-100",children:"Análise completa e detalhada do seu site"})]}),Xe.jsxs("div",{className:"flex items-center space-x-4",children:[Xe.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:ring-2 focus:ring-white/50",children:[Xe.jsx("option",{value:"7d",className:"text-gray-800",children:"Últimos 7 dias"}),Xe.jsx("option",{value:"30d",className:"text-gray-800",children:"Últimos 30 dias"}),Xe.jsx("option",{value:"90d",className:"text-gray-800",children:"Últimos 90 dias"})]}),Xe.jsx("button",{className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg",children:Xe.jsx(x,{size:20})}),Xe.jsx("button",{className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg",children:Xe.jsx(D,{size:20})})]})]}),Xe.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-1",children:Xe.jsx("div",{className:"flex space-x-1",children:[{id:"overview",label:"Visão Geral",icon:V},{id:"audience",label:"Audiência",icon:F},{id:"content",label:"Conteúdo",icon:g},{id:"social",label:"Social",icon:oe},{id:"performance",label:"Performance",icon:se}].map(e=>Xe.jsxs("button",{onClick:()=>c(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(l===e.id?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-red-600 hover:bg-red-50"),children:[Xe.jsx(e.icon,{size:16}),Xe.jsx("span",{children:e.label})]},e.id))})}),"overview"===l&&t&&Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Xe.jsx(j,{title:"Total de Usuários",value:t.audience.totalUsers,change:"+12.5%",trend:"up",icon:Xe.jsx(F,{size:24,className:"text-white"}),color:"from-blue-500 to-blue-600",subtitle:"Últimos 30 dias"}),Xe.jsx(j,{title:"Visualizações",value:t.engagement.totalPageviews,change:"+8.7%",trend:"up",icon:Xe.jsx(O,{size:24,className:"text-white"}),color:"from-green-500 to-green-600",subtitle:"Total no período"}),Xe.jsx(j,{title:"Taxa de Engajamento",value:`${(100-t.audience.bounceRate).toFixed(1)}%`,change:"+3.2%",trend:"up",icon:Xe.jsx(K,{size:24,className:"text-white"}),color:"from-purple-500 to-purple-600",subtitle:"Usuários engajados"}),Xe.jsx(j,{title:"Tempo Médio",value:`${Math.floor(t.audience.avgSessionDuration/60)}m ${t.audience.avgSessionDuration%60}s`,change:"+15.3%",trend:"up",icon:Xe.jsx(z,{size:24,className:"text-white"}),color:"from-orange-500 to-orange-600",subtitle:"Por sessão"})]}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Xe.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[Xe.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[Xe.jsx(le,{size:20,className:"mr-2 text-blue-500"}),"Tráfego Diário"]}),Xe.jsx("div",{className:"h-64",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(LC,{data:t.temporal.dailyTraffic,children:[Xe.jsx("defs",{children:Xe.jsxs("linearGradient",{id:"trafficGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Xe.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),Xe.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),Xe.jsx(DE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Xe.jsx(ST,{dataKey:"day",stroke:"#6b7280",fontSize:12}),Xe.jsx(RT,{stroke:"#6b7280",fontSize:12}),Xe.jsx(dp,{}),Xe.jsx(hT,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",fill:"url(#trafficGradient)"})]})})})]}),Xe.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[Xe.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[Xe.jsx(ce,{size:20,className:"mr-2 text-green-500"}),"Fontes de Tráfego"]}),Xe.jsx("div",{className:"h-64",children:Xe.jsx(Bp,{width:"100%",height:"100%",children:Xe.jsxs(RC,{children:[Xe.jsx(dA,{data:t.traffic.sources,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"percentage",label:({source:e,percentage:t})=>`${e} ${t.toFixed(1)}%`,children:t.traffic.sources.map((e,t)=>Xe.jsx(zp,{fill:["#ef4444","#3b82f6","#10b981","#f59e0b"][t]},`cell-${t}`))}),Xe.jsx(dp,{})]})})})]})]})]}),"social"===l&&t&&Xe.jsxs("div",{className:"space-y-8",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center",children:[Xe.jsx(w,{size:28,className:"mr-2 text-pink-500"}),"Instagram - Métricas Avançadas"]}),Xe.jsxs("div",{className:"flex flex-col gap-4",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsx(N,{}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("span",{className:"text-xs text-gray-600",children:"Modo:"}),Xe.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:h,onChange:e=>m(e.target.value),children:[Xe.jsx("option",{value:"aggregate28",children:"28 dias"}),Xe.jsx("option",{value:"sumDaily",children:"Soma diária"}),Xe.jsx("option",{value:"avgDaily",children:"Média diária"}),Xe.jsx("option",{value:"lastDaily",children:"Último dia"})]})]})]}),Xe.jsx("p",{className:"text-[11px] text-gray-500",children:'Alcance na interface oficial da Meta é "contas únicas no intervalo". Quando a API não fornece exatamente esse agregado, usamos o melhor campo disponível acima.'})]}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Xe.jsx(A,{label:"Seguidores atuais",metric:"followers_count",children:Xe.jsx(j,{title:"Seguidores",value:t.social.instagram.followers,icon:Xe.jsx(F,{size:22}),color:"from-pink-500 to-pink-600"})}),Xe.jsx(A,{label:"Accounts Engaged / Total Interactions",metric:"accounts_engaged",children:Xe.jsx(j,{title:"Engajamento",value:S("instagram","accounts_engaged")||S("instagram","total_interactions"),icon:Xe.jsx(H,{size:22}),color:"from-red-500 to-red-600"})}),Xe.jsx(A,{label:"Reach",metric:"reach",children:Xe.jsx(j,{title:"Alcance",value:S("instagram","reach"),icon:Xe.jsx(X,{size:22}),color:"from-yellow-500 to-yellow-600"})}),Xe.jsx(A,{label:"Impressões",metric:"impressions",children:Xe.jsx(j,{title:"Impressões",value:S("instagram","impressions"),icon:Xe.jsx(O,{size:22}),color:"from-purple-500 to-purple-600"})}),Xe.jsx(A,{label:"Profile Views",metric:"profile_views",children:Xe.jsx(j,{title:"Visitas ao Perfil",value:S("instagram","profile_views"),icon:Xe.jsx(F,{size:22}),color:"from-green-500 to-green-600"})})]}),Xe.jsxs("div",{className:"mt-8",children:[Xe.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Posts"}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.social.instagram.topPosts.map((e,t)=>Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[Xe.jsxs("div",{className:"font-bold text-red-600 mb-2",children:["Post #",e.id]}),Xe.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[Xe.jsxs("span",{children:[Xe.jsx(H,{size:16,className:"inline mr-1 text-pink-500"}),"Likes: ",e.likes]}),Xe.jsxs("span",{children:[Xe.jsx(ue,{size:16,className:"inline mr-1 text-blue-500"}),"Comentários: ",e.comments]}),Xe.jsxs("span",{children:[Xe.jsx(oe,{size:16,className:"inline mr-1 text-green-500"}),"Compart.: ",e.shares]}),Xe.jsxs("span",{children:[Xe.jsx(X,{size:16,className:"inline mr-1 text-yellow-500"}),"Alcance: ",e.reach]})]})]},e.id))})]}),Xe.jsxs("div",{className:"mt-8",children:[Xe.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insights de Audiência"}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Xe.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Locais Principais"}),Xe.jsx("ul",{className:"text-sm",children:t.social.instagram.audienceInsights.topLocations.map(e=>Xe.jsxs("li",{children:[e.city,": ",e.percentage,"%"]},e.city))})]}),Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Xe.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Faixa Etária/Gênero"}),Xe.jsx("ul",{className:"text-sm",children:t.social.instagram.audienceInsights.ageGender.map(e=>Xe.jsxs("li",{children:[e.age,": ",e.male,"% masc / ",e.female,"% fem"]},e.age))})]})]})]})]}),"social"===l&&t&&Xe.jsxs("div",{className:"space-y-8 mt-12",children:[Xe.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center",children:[Xe.jsx(re,{size:28,className:"mr-2 text-blue-600"}),"Facebook - Métricas Avançadas"]}),Xe.jsx("div",{className:"flex flex-col gap-4",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsx(N,{platform:"facebook"}),Xe.jsxs("div",{className:"flex items-center gap-2",children:[Xe.jsx("span",{className:"text-xs text-gray-600",children:"Modo:"}),Xe.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:h,onChange:e=>m(e.target.value),children:[Xe.jsx("option",{value:"aggregate28",children:"28 dias"}),Xe.jsx("option",{value:"sumDaily",children:"Soma diária"}),Xe.jsx("option",{value:"avgDaily",children:"Média diária"}),Xe.jsx("option",{value:"lastDaily",children:"Último dia"})]})]})]})}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Xe.jsx(A,{label:"Seguidores atuais",metric:"followers_count",children:Xe.jsx(j,{title:"Seguidores",value:t.social.facebook.followers,icon:Xe.jsx(F,{size:22}),color:"from-blue-500 to-blue-600"})}),Xe.jsx(A,{label:"Page Engaged Users",metric:"page_engaged_users",children:Xe.jsx(j,{title:"Engajamento",value:S("facebook","page_engaged_users"),icon:Xe.jsx(H,{size:22}),color:"from-blue-700 to-blue-800"})}),Xe.jsx(A,{label:"Reach (impressions_unique)",metric:"page_impressions_unique",children:Xe.jsx(j,{title:"Alcance",value:S("facebook","page_impressions_unique"),icon:Xe.jsx(X,{size:22}),color:"from-yellow-500 to-yellow-600"})}),Xe.jsx(A,{label:"Impressões",metric:"page_impressions",children:Xe.jsx(j,{title:"Impressões",value:S("facebook","page_impressions"),icon:Xe.jsx(O,{size:22}),color:"from-purple-500 to-purple-600"})}),Xe.jsx(A,{label:"Novos seguidores (adds - removes)",metric:"page_fan_adds_unique",children:Xe.jsx(j,{title:"Crescimento Líquido",value:Math.max(0,S("facebook","page_fan_adds_unique")-S("facebook","page_fan_removes_unique")),icon:Xe.jsx(X,{size:22}),color:"from-green-500 to-green-600"})})]}),Xe.jsxs("div",{className:"mt-8",children:[Xe.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Posts"}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.social.facebook.topPosts.map((e,t)=>Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[Xe.jsxs("div",{className:"font-bold text-blue-600 mb-2",children:["Post #",e.id]}),Xe.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[Xe.jsxs("span",{children:[Xe.jsx(H,{size:16,className:"inline mr-1 text-blue-700"}),"Reações: ",e.reactions]}),Xe.jsxs("span",{children:[Xe.jsx(ue,{size:16,className:"inline mr-1 text-blue-500"}),"Comentários: ",e.comments]}),Xe.jsxs("span",{children:[Xe.jsx(oe,{size:16,className:"inline mr-1 text-green-500"}),"Compart.: ",e.shares]}),Xe.jsxs("span",{children:[Xe.jsx(X,{size:16,className:"inline mr-1 text-yellow-500"}),"Alcance: ",e.reach]})]})]},e.id))})]}),Xe.jsxs("div",{className:"mt-8",children:[Xe.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insights de Audiência"}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Xe.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Demografia"}),Xe.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.demographics.map(e=>Xe.jsxs("li",{children:[e.age,": ",e.percentage,"%"]},e.age))})]}),Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Xe.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Interesses"}),Xe.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.interests.map(e=>Xe.jsxs("li",{children:[e.category,": ",e.affinity,"%"]},e.category))})]}),Xe.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Xe.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Comportamento"}),Xe.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.behavior.map(e=>Xe.jsxs("li",{children:[e.action,": ",e.frequency]},e.action))})]})]})]})]}),"overview"!==l&&"social"!==l&&Xe.jsxs("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-200",children:[Xe.jsx("div",{className:"text-gray-400 mb-4",children:Xe.jsx(V,{size:48,className:"mx-auto"})}),Xe.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["audience"===l&&"Análise Detalhada de Audiência","content"===l&&"Performance de Conteúdo","performance"===l&&"Análise de Performance"]}),Xe.jsx("p",{className:"text-gray-600 mb-4",children:"Esta seção contém análises aprofundadas com gráficos interativos, segmentação demográfica, análise de comportamento e insights acionáveis."}),Xe.jsx("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:Xe.jsxs("p",{className:"text-red-800 text-sm",children:[Xe.jsx("strong",{children:"Em desenvolvimento:"})," Análises ainda mais detalhadas serão implementadas em breve!"]})})]})]})},QC=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=u(),t=i(),[r]=d(),[n,s]=a.useState("overview"),[l,f]=a.useState("insights"),[p,h]=a.useState(0),[m,y]=a.useState(3),[v,x]=a.useState("7d"),[j,w]=a.useState([]),[A,P]=a.useState(null),[E,T]=a.useState(null),[C,M]=a.useState(!1),[_,I]=a.useState(),[D,R]=a.useState([]),[L,B]=a.useState([]),[z,$]=a.useState(!0),[q,G]=a.useState(null),{user:H}=Pt(),Y="admin"===(null==H?void 0:H.role),J=!!H;a.useEffect(()=>{const n=e.pathname;if("/admin/materias"===n)s("materias");else if("/admin/configuracoes"===n)s("configuracoes");else if("/admin/usuarios"===n)Y?s("usuarios"):(s("overview"),t("/admin"));else if("/admin"===n){const e=r.get("tab");e&&["overview","midia","layout","instagram","agendamento","banners","categorias","analytics","advanced-analytics"].includes(e)?s(e):s("overview")}FC.requestNotificationPermission()},[e.pathname,r,Y,t]),a.useEffect(()=>{let e=!0;async function t(){try{$(!0),G(null);const[t,r]=await Promise.all([ht({page:1,limit:20}),jt(5)]);if(!e)return;R(t.items),B(r);const n=(new Date).toDateString(),a=t.items.filter(e=>new Date(e.dataPublicacao||e.publishedAt||"").toDateString()===n).length;h(Math.max(3,10*a))}catch(t){if(!e)return;G((null==t?void 0:t.message)||"Falha ao carregar dados")}finally{e&&$(!1)}}t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[]),a.useEffect(()=>{let e=!0;const t=async()=>{try{const t=await at();e&&w(t)}catch(t){e&&w([])}};t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[]),a.useEffect(()=>{let e=!0;if(!J)return P(null),T("Faça login para ver os insights."),()=>{e=!1};async function t(){try{T(null);const t=await et("/social/insights");if(!e)return;P(t)}catch(t){if(!e)return;const r=null==t?void 0:t.status;T(401===r?"Sessão expirada ou não autenticado. Faça login novamente.":501===r?"Insights: configurar IG_BUSINESS_ID/FB_PAGE_ID/IG_ACCESS_TOKEN no backend (.env).":"Erro ao carregar insights. Tente novamente em instantes.")}}t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[J]);const Q=c.useMemo(()=>{const e=(new Date).toDateString(),t=D.filter(t=>new Date(t.dataPublicacao||t.publishedAt||"").toDateString()===e),r=t.reduce((e,t)=>e+(t.views||t.visualizacoes||0),0),n=t.length,a=L.length?Math.min(12,5+L.length):7.5;return{todayViews:r,todayUsers:p,postsPublished:n,engagementRate:a}},[D,L,p]);Q.todayViews.toLocaleString(),p.toLocaleString(),Q.postsPublished.toString(),Q.engagementRate.toFixed(1),L.map(e=>({title:e.titulo,views:e.views||e.visualizacoes||0,readTime:"-",engagement:7}));const Z=async e=>{if(!confirm("Tem certeza que deseja excluir este banner?"))return;await async function(e){return nt(`/banners/${e}`)}(e);const t=await at();w(t)},ee=()=>{const e=function(e){const t=e.reduce((e,t)=>e+(t.impressoesAtuais||0),0),r=e.reduce((e,t)=>e+(t.cliquesAtuais||0),0),n=t>0?Number((r/t*100).toFixed(2)):0,a=e.reduce((e,t)=>{let r=0;return t.cpm&&t.impressoesAtuais&&(r+=t.impressoesAtuais/1e3*t.cpm),t.cpc&&t.cliquesAtuais&&(r+=t.cliquesAtuais*t.cpc),t.valorTotal&&(r+=t.valorTotal),e+r},0);return{impressoes:t,cliques:r,ctr:n,receita:Number(a.toFixed(2)),periodo:"total"}}(j),t=[{value:"top-strip",label:"Topo da Página",description:"Banner horizontal no topo (728x90)"},{value:"super-banner",label:"Super Banner",description:"Na NewsGeneralSection (970x250)"},{value:"news-sidebar",label:"Sidebar Notícias",description:"Coluna direita da NewsGeneralSection (w-full h-80)"},{value:"sidebar-article",label:"Sidebar Artigo",description:"AdBox na página de artigo (300x250)"},{value:"in-content",label:"Dentro do Texto",description:"No meio do conteúdo (300x250)"}];return Xe.jsxs("div",{className:"space-y-8",children:[Xe.jsxs("div",{className:"flex justify-between items-center",children:[Xe.jsxs("div",{children:[Xe.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Publicidade"}),Xe.jsx("p",{className:"text-gray-600",children:"Gerencie banners, anúncios e campanhas publicitárias"})]}),Xe.jsxs("button",{onClick:()=>M(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[Xe.jsx(b,{className:"w-4 h-4"}),Xe.jsx("span",{children:"Novo Banner"})]})]}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Xe.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("p",{className:"text-blue-100 text-base",children:"Total de Impressões"}),Xe.jsx("p",{className:"text-2xl font-bold",children:e.impressoes.toLocaleString()})]}),Xe.jsx(O,{className:"w-8 h-8 text-blue-200"})]})}),Xe.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("p",{className:"text-green-100 text-base",children:"Total de Cliques"}),Xe.jsx("p",{className:"text-2xl font-bold",children:e.cliques.toLocaleString()})]}),Xe.jsx(K,{className:"w-8 h-8 text-green-200"})]})}),Xe.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("p",{className:"text-purple-100 text-base",children:"CTR Médio"}),Xe.jsxs("p",{className:"text-2xl font-bold",children:[e.ctr,"%"]})]}),Xe.jsx(U,{className:"w-8 h-8 text-purple-200"})]})})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[Xe.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Banners Ativos"}),Xe.jsx("p",{className:"text-gray-600 text-base",children:"Gerencie todos os banners publicitários do site"})]}),Xe.jsx("div",{className:"overflow-x-auto",children:Xe.jsxs("table",{className:"w-full",children:[Xe.jsx("thead",{className:"bg-gray-50",children:Xe.jsxs("tr",{children:[Xe.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Banner"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Posição"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),Xe.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),Xe.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>{const r=e.impressoesAtuais>0?(e.cliquesAtuais/e.impressoesAtuais*100).toFixed(2):"0.00",n=t.find(t=>t.value===e.posicao);return Xe.jsxs("tr",{className:"hover:bg-gray-50",children:[Xe.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Xe.jsxs("div",{className:"flex items-center",children:["imagem"===e.tipo&&e.imagem?Xe.jsx("img",{src:e.imagem,alt:e.titulo,className:"w-16 h-10 object-cover rounded mr-3"}):Xe.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mr-3 flex items-center justify-center",children:Xe.jsx(K,{className:"w-4 h-4 text-gray-400"})}),Xe.jsxs("div",{children:[Xe.jsx("div",{className:"text-base font-medium text-gray-900",children:e.titulo}),Xe.jsxs("div",{className:"text-base text-gray-500",children:[e.tamanho," • ",e.tipo]})]})]})}),Xe.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900",children:e.cliente}),Xe.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Xe.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:null==n?void 0:n.label})}),Xe.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Xe.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium "+("ativo"===e.status?"bg-green-100 text-green-800":"pausado"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"ativo"===e.status?"Ativo":"pausado"===e.status?"Pausado":"Agendado"})}),Xe.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900",children:Xe.jsxs("div",{children:[Xe.jsxs("div",{children:[e.impressoesAtuais.toLocaleString()," impressões"]}),Xe.jsxs("div",{className:"text-gray-500",children:[e.cliquesAtuais," cliques • ",r,"% CTR"]})]})}),Xe.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium space-x-2",children:[Xe.jsx("button",{onClick:()=>(e=>{I(e),M(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:Xe.jsx(S,{className:"w-4 h-4"})}),Xe.jsx("button",{onClick:()=>Z(e.id),className:"text-red-600 hover:text-red-900",children:Xe.jsx(pe,{className:"w-4 h-4"})})]})]},e.id)})})]})})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Posições Disponíveis"}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>{const t=j.filter(t=>t.posicao===e.value&&"ativo"===t.status);return Xe.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[Xe.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Xe.jsx("h4",{className:"font-medium text-gray-900",children:e.label}),Xe.jsxs("span",{className:"px-2 py-1 rounded-full text-xs "+(t.length>0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[t.length," ativo",1!==t.length?"s":""]})]}),Xe.jsx("p",{className:"text-sm text-gray-600",children:e.description})]},e.value)})})]})]})},te=()=>Xe.jsx("div",{className:"w-64 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white h-fit rounded-lg shadow-xl",children:Xe.jsxs("div",{className:"p-4",children:[Xe.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[Xe.jsx("img",{src:"/imagens/logor10.png",alt:"R10 Piauí",className:"h-8 w-auto"}),Xe.jsxs("div",{children:[Xe.jsx("h1",{className:"font-bold text-lg",children:"R10 Painel"}),Xe.jsx("p",{className:"text-gray-400 text-sm",children:"Editorial"})]})]}),Xe.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4 border border-gray-700",children:Xe.jsxs("div",{className:"flex items-center space-x-2",children:[Xe.jsx("img",{src:(null==H?void 0:H.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:"Avatar",className:"w-8 h-8 rounded-lg border border-red-500"}),Xe.jsxs("div",{children:[Xe.jsx("p",{className:"font-medium text-white text-base",children:(null==H?void 0:H.name)||"Usuário"}),Xe.jsx("p",{className:"text-sm text-gray-400",children:"admin"===(null==H?void 0:H.role)?"Admin":"editor"===(null==H?void 0:H.role)?"Editor":"reporter"===(null==H?void 0:H.role)?"Reporter":"User"})]})]})}),Xe.jsx("nav",{className:"space-y-1",children:[{id:"overview",label:"Dashboard",icon:V,badge:null,url:"/admin"},{id:"materias",label:"Matérias",icon:g,badge:null,url:"/admin/materias"},{id:"midia",label:"Mídia",icon:k,badge:null,url:"/admin?tab=midia"},{id:"layout",label:"Layout",icon:de,badge:null,url:"/admin?tab=layout"},{id:"instagram",label:"Instagram",icon:N,badge:null,url:"/admin?tab=instagram"},{id:"agendamento",label:"Agenda",icon:fe,badge:null,url:"/admin?tab=agendamento"},{id:"banners",label:"Banner Ads",icon:K,badge:null,url:"/admin?tab=banners"},{id:"categorias",label:"Categorias",icon:me,badge:null,url:"/admin?tab=categorias"},{id:"analytics",label:"Analytics",icon:X,badge:null,url:"/admin?tab=analytics"},{id:"advanced-analytics",label:"Analytics Avançados",icon:V,badge:"NEW",url:"/admin?tab=advanced-analytics"},...Y?[{id:"usuarios",label:"Usuários",icon:F,badge:null,url:"/admin/usuarios"}]:[]].map(e=>Xe.jsxs(o,{to:e.url,className:"w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-left transition-all duration-200 text-base "+(n===e.id?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[Xe.jsxs("div",{className:"flex items-center space-x-3",children:[Xe.jsx(e.icon,{className:"w-5 h-5"}),Xe.jsx("span",{className:"font-medium",children:e.label})]}),e.badge&&Xe.jsx("span",{className:"bg-red-500 text-white text-sm px-2 py-0.5 rounded-full",children:e.badge})]},e.id))}),Xe.jsx("div",{className:"mt-3",children:Xe.jsxs(o,{to:"/admin/nova-materia",className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-2.5 px-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 text-base",children:[Xe.jsx(b,{className:"w-5 h-5"}),Xe.jsx("span",{children:"Nova Matéria"})]})}),Xe.jsx("div",{className:"mt-4 p-3 bg-green-900/30 border border-green-700 rounded-lg",children:Xe.jsxs("div",{className:"flex items-center space-x-2",children:[Xe.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),Xe.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Sistema Online"})]})})]})}),re=()=>Xe.jsx(YC,{socialInsights:A,socialInsightsError:E,latestPosts:D,mostRead:L,loading:z,onTabChange:s});return Xe.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Xe.jsx(Dt,{notifications:m}),Xe.jsx("div",{className:"lg:hidden bg-white border-b border-gray-200 sticky top-0 z-40",children:Xe.jsx("div",{className:"max-w-[1250px] mx-auto px-4",children:Xe.jsx("div",{className:"flex overflow-x-auto py-3 space-x-2 scrollbar-hide",children:[{id:"overview",label:"Dashboard",icon:V,url:"/admin"},{id:"materias",label:"Matérias",icon:g,url:"/admin/materias"},{id:"midia",label:"Mídia",icon:k,url:"/admin?tab=midia"},{id:"layout",label:"Layout",icon:de,url:"/admin?tab=layout"},{id:"instagram",label:"Instagram",icon:N,url:"/admin?tab=instagram"},{id:"agendamento",label:"Agenda",icon:fe,url:"/admin?tab=agendamento"}].map(e=>Xe.jsxs(o,{to:e.url,className:"flex-shrink-0 flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(n===e.id?"bg-red-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:[Xe.jsx(e.icon,{className:"w-4 h-4"}),Xe.jsx("span",{className:"whitespace-nowrap",children:e.label})]},e.id))})})}),Xe.jsx("div",{className:"max-w-[1250px] mx-auto px-4 lg:px-6 py-8",children:Xe.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8",children:[Xe.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:Xe.jsx(te,{})}),Xe.jsxs("div",{className:"flex-1 min-w-0 w-full",children:["overview"===n&&Xe.jsx(re,{}),"materias"===n&&Xe.jsx(zt,{}),"usuarios"===n&&Y&&Xe.jsx(GC,{}),"midia"===n&&Xe.jsx(Ft,{}),"layout"===n&&Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsx("div",{className:"flex items-center justify-between",children:Xe.jsxs("div",{children:[Xe.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Layout da Home"}),Xe.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Organize as seções da página inicial"})]})}),Xe.jsx($C,{})]}),"banners"===n&&Xe.jsx(ee,{}),"instagram"===n&&Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2",children:Xe.jsxs("div",{className:"flex space-x-2",children:[Xe.jsx("button",{onClick:()=>f("insights"),className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all "+("insights"===l?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:"📊 Insights & Analytics"}),Xe.jsx("button",{onClick:()=>f("generator"),className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all "+("generator"===l?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:"🎨 Gerador de Cards"})]})}),"insights"===l?Xe.jsx(BC,{}):Xe.jsx(Gt,{})]}),"agendamento"===n&&Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[Xe.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Xe.jsx("h3",{className:"font-semibold text-gray-900",children:"Agendamento de Publicações"}),Xe.jsxs(o,{to:"/admin/nova-materia",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Xe.jsx(b,{className:"w-4 h-4"}),Xe.jsx("span",{children:"Agendar Nova Matéria"})]})]}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[Xe.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 rounded-xl p-4 shadow-lg",children:[Xe.jsx("h4",{className:"font-semibold text-white mb-1",children:"Hoje"}),Xe.jsx("p",{className:"text-2xl font-bold text-white",children:"3"}),Xe.jsx("p",{className:"text-sm text-white/80",children:"publicações"})]}),Xe.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-400 rounded-xl p-4 shadow-lg",children:[Xe.jsx("h4",{className:"font-semibold text-white mb-1",children:"Esta Semana"}),Xe.jsx("p",{className:"text-2xl font-bold text-white",children:"12"}),Xe.jsx("p",{className:"text-sm text-white/80",children:"agendadas"})]}),Xe.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-400 rounded-xl p-4 shadow-lg",children:[Xe.jsx("h4",{className:"font-semibold text-white mb-1",children:"Próximo Mês"}),Xe.jsx("p",{className:"text-2xl font-bold text-white",children:"28"}),Xe.jsx("p",{className:"text-sm text-white/80",children:"planejadas"})]}),Xe.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-400 rounded-xl p-4 shadow-lg",children:[Xe.jsx("h4",{className:"font-semibold text-white mb-1",children:"Rascunhos"}),Xe.jsx("p",{className:"text-2xl font-bold text-white",children:"7"}),Xe.jsx("p",{className:"text-xs text-white/80",children:"pendentes"})]})]})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Calendário de Publicações"}),Xe.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Xe.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Janeiro 2024"}),Xe.jsxs("div",{className:"flex space-x-2",children:[Xe.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:Xe.jsx(W,{className:"w-4 h-4 text-gray-600 rotate-180"})}),Xe.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:Xe.jsx(W,{className:"w-4 h-4 text-gray-600"})})]})]}),Xe.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(e=>Xe.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50 rounded-lg",children:e},e))}),Xe.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35},(e,t)=>{const r=t-6,n=[2,5,8,12,15,18,22,25,28].includes(r),a=15===r;return Xe.jsx("div",{className:`\n                        min-h-[80px] p-2 border border-gray-100 rounded-lg relative cursor-pointer hover:bg-gray-50 transition-colors\n                        ${a?"bg-red-50 border-red-200":""}\n                      `,children:r>0&&r<=31&&Xe.jsxs(Xe.Fragment,{children:[Xe.jsx("span",{className:"text-sm font-medium "+(a?"text-red-600":"text-gray-700"),children:r}),n&&Xe.jsxs("div",{className:"mt-1",children:[Xe.jsx("div",{className:"w-full bg-blue-500 text-white text-xs px-2 py-1 rounded mb-1 truncate",children:"Matéria 1"}),15===r&&Xe.jsx("div",{className:"w-full bg-green-500 text-white text-xs px-2 py-1 rounded truncate",children:"Especial"})]})]})},t)})})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Próximas Publicações"}),Xe.jsx("div",{className:"space-y-4",children:[{title:"Novo hospital será inaugurado em Parnaíba",date:"15/01/2024",time:"08:00",status:"scheduled",author:"João Silva",category:"Saúde"},{title:"Festival de inverno movimenta turismo em Pedro II",date:"15/01/2024",time:"14:30",status:"scheduled",author:"Maria Santos",category:"Turismo"},{title:"Governador visita obras da BR-343",date:"16/01/2024",time:"09:15",status:"draft",author:"Carlos Oliveira",category:"Política"}].map((e,t)=>Xe.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[Xe.jsxs("div",{className:"flex-1",children:[Xe.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),Xe.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[Xe.jsxs("span",{className:"flex items-center space-x-1",children:[Xe.jsx(fe,{className:"w-4 h-4"}),Xe.jsxs("span",{children:[e.date," às ",e.time]})]}),Xe.jsxs("span",{className:"flex items-center space-x-1",children:[Xe.jsx(F,{className:"w-4 h-4"}),Xe.jsx("span",{children:e.author})]}),Xe.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:e.category})]})]}),Xe.jsxs("div",{className:"flex items-center space-x-2",children:[Xe.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("scheduled"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"scheduled"===e.status?"Agendado":"Rascunho"}),Xe.jsxs("div",{className:"flex space-x-1",children:[Xe.jsx("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Editar",children:Xe.jsx(S,{className:"w-4 h-4 text-gray-600"})}),Xe.jsx("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Excluir",children:Xe.jsx(pe,{className:"w-4 h-4 text-gray-600"})})]})]})]},t))})]})]}),"analytics"===n&&Xe.jsxs("div",{className:"space-y-8",children:[Xe.jsx(VC,{days:30}),Xe.jsx(WC,{initialDays:30})]}),"advanced-analytics"===n&&Xe.jsx(JC,{}),"publicidade"===n&&Xe.jsx(ee,{}),"configuracoes"===n&&Xe.jsxs("div",{className:"space-y-8",children:[Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Configurações do Site"}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Site"}),Xe.jsx("input",{type:"text",defaultValue:"R10 Piauí",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),Xe.jsx("input",{type:"text",defaultValue:"Notícias do Piauí em tempo real",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("div",{className:"lg:col-span-2",children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição do Site"}),Xe.jsx("textarea",{rows:3,defaultValue:"Portal de notícias líder no Piauí, oferecendo cobertura completa dos acontecimentos locais, regionais e nacionais.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do Site"}),Xe.jsx("input",{type:"url",defaultValue:"https://r10piaui.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de Contato"}),Xe.jsx("input",{type:"email",defaultValue:"contato@r10piaui.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900",children:"Gestão de Categorias"}),Xe.jsxs("button",{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Xe.jsx(b,{className:"w-4 h-4"}),Xe.jsx("span",{children:"Nova Categoria"})]})]}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"Política",color:"bg-blue-500",posts:45},{name:"Economia",color:"bg-green-500",posts:32},{name:"Esportes",color:"bg-orange-500",posts:28},{name:"Cultura",color:"bg-purple-500",posts:22},{name:"Saúde",color:"bg-red-500",posts:18},{name:"Educação",color:"bg-indigo-500",posts:15}].map((e,t)=>Xe.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:shadow-md transition-shadow",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Xe.jsxs("div",{className:"flex items-center space-x-3",children:[Xe.jsx("div",{className:`w-4 h-4 rounded-full ${e.color}`}),Xe.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Xe.jsxs("div",{className:"flex space-x-1",children:[Xe.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Xe.jsx(S,{className:"w-4 h-4 text-gray-600"})}),Xe.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Xe.jsx(pe,{className:"w-4 h-4 text-gray-600"})})]})]}),Xe.jsxs("p",{className:"text-sm text-gray-600",children:[e.posts," matérias"]})]},t))})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Configurações de SEO"}),Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Padrão"}),Xe.jsx("input",{type:"text",defaultValue:"R10 Piauí - Notícias do Piauí em tempo real",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description Padrão"}),Xe.jsx("textarea",{rows:3,defaultValue:"Acompanhe as principais notícias do Piauí no R10. Cobertura completa de política, economia, esportes, cultura e muito mais.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palavras-chave"}),Xe.jsx("input",{type:"text",defaultValue:"piauí, notícias, teresina, política, economia, esportes",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Preferências do Usuário"}),Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"font-medium text-gray-900",children:"Notificações por Email"}),Xe.jsx("p",{className:"text-sm text-gray-600",children:"Receber alertas sobre novas matérias e comentários"})]}),Xe.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Xe.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),Xe.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]}),Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"font-medium text-gray-900",children:"Auto-save"}),Xe.jsx("p",{className:"text-sm text-gray-600",children:"Salvar automaticamente rascunhos durante a edição"})]}),Xe.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Xe.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),Xe.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]}),Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"font-medium text-gray-900",children:"Modo Escuro"}),Xe.jsx("p",{className:"text-sm text-gray-600",children:"Usar tema escuro no dashboard"})]}),Xe.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Xe.jsx("input",{type:"checkbox",className:"sr-only peer"}),Xe.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]})]})]}),Xe.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Xe.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Status do Sistema"}),Xe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Xe.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Xe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Xe.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Xe.jsx("span",{className:"font-medium text-green-800",children:"Servidor"})]}),Xe.jsx("p",{className:"text-sm text-green-600",children:"Online"})]}),Xe.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Xe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Xe.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Xe.jsx("span",{className:"font-medium text-green-800",children:"Banco de Dados"})]}),Xe.jsx("p",{className:"text-sm text-green-600",children:"Conectado"})]}),Xe.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Xe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Xe.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Xe.jsx("span",{className:"font-medium text-green-800",children:"CDN"})]}),Xe.jsx("p",{className:"text-sm text-green-600",children:"Ativo"})]}),Xe.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:[Xe.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Xe.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),Xe.jsx("span",{className:"font-medium text-yellow-800",children:"Backup"})]}),Xe.jsx("p",{className:"text-sm text-yellow-600",children:"Pendente"})]})]})]}),Xe.jsx("div",{className:"flex justify-end",children:Xe.jsxs("button",{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Xe.jsx(he,{className:"w-5 h-5"}),Xe.jsx("span",{children:"Salvar Configurações"})]})})]}),"categorias"===n&&Xe.jsxs("div",{className:"space-y-6",children:[Xe.jsx("div",{className:"flex items-center justify-between",children:Xe.jsxs("div",{children:[Xe.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Categorias"}),Xe.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias, subcategorias e municípios"})]})}),Xe.jsx(UC,{})]})]}),C&&Xe.jsx(qC,{banner:_,onSave:async e=>{try{const e=await at();w(e)}finally{M(!1),I(void 0)}},onCancel:()=>{M(!1),I(void 0)}})]})})]})}},Symbol.toStringTag,{value:"Module"})),ZC=({value:e,onChange:t,placeholder:r="Digite o conteúdo da matéria aqui..."})=>{const n=a.useRef(null),[i,o]=a.useState([]),[s,l]=a.useState(-1),[c,u]=a.useState(!1),[d,f]=a.useState(!1),[p,h]=a.useState(0);a.useEffect(()=>{},[]);const m=async e=>{try{const t=new FormData;t.append("image",e),f(!0),h(e=>e+1);const r=Je()||localStorage.getItem("token"),n=r?{Authorization:`Bearer ${r}`}:{},a=await fetch("/api/upload",{method:"POST",headers:n,body:t});if(!a.ok){await a.text();throw new Error(`Upload falhou: ${a.status}`)}const i=await a.json();let o=i.imageUrl||i.url||i.relative||i.relativeUrl;if(!o)throw new Error("Nenhuma URL de imagem na resposta");return o=o.includes("?")?`${o}&t=${Date.now()}`:`${o}?t=${Date.now()}`,o}catch(t){return null}finally{h(e=>e-1),f(!1)}},g=e=>{if(!n.current)return;const t=document.createElement("img");t.src=e,t.className="max-w-full h-auto rounded-lg my-2";const r=window.getSelection();if(r&&r.rangeCount>0){r.getRangeAt(0).insertNode(t)}else n.current.appendChild(t)},y=async e=>{if(e&&0!==e.length){for(const t of Array.from(e)){if(!t.type.startsWith("image/"))continue;const e=await m(t);e&&g(e)}x()}};a.useEffect(()=>{if(n.current&&!c){const t=n.current.innerHTML,r=e||"";t!==r&&(n.current.innerHTML=r)}},[e,c]),a.useEffect(()=>{if(!n.current)return;n.current.querySelectorAll('[data-highlight="animated"]').forEach(e=>{const t=e;setTimeout(()=>{t.classList.add("animate-in-view"),t.style.backgroundSize="100% 100%"},300)})},[e]);const v=a.useCallback(e=>{const t=[...i.slice(0,s+1),{content:e,timestamp:Date.now()}];t.length>50&&t.shift(),o(t),l(t.length-1)},[i,s]),x=a.useCallback(()=>{if(!n.current||c)return;const e=n.current.innerHTML;t(e);const r=i[s],a=Date.now();(!r||e!==r.content&&(!r.timestamp||a-r.timestamp>500))&&v(e)},[t,c,i,s,v]),b=a.useCallback(e=>{if(n.current){switch(n.current.focus(),e){case"bold":document.execCommand("bold");break;case"italic":document.execCommand("italic");break;case"underline":document.execCommand("underline");break;case"h3":document.execCommand("formatBlock",!1,"h3");break;case"quote":w("blockquote","citação");break;case"list":document.execCommand("insertUnorderedList");break;case"justify-left":document.execCommand("justifyLeft");break;case"justify-center":document.execCommand("justifyCenter");break;case"justify-right":document.execCommand("justifyRight");break;case"justify-full":document.execCommand("justifyFull");break;case"highlight-simple":j("simple");break;case"highlight-animated":j("animated");break;case"info":w("div","informação importante");break;case"separator":N()}x()}},[x]),j=e=>{const t=window.getSelection();if(!t||0===t.rangeCount)return void alert("Selecione um texto para destacar");const r=t.getRangeAt(0),n=r.toString().trim();if(!n)return void alert("Selecione um texto válido");const a=document.createElement("span");"animated"===e?(a.className="highlight-animated",a.setAttribute("data-highlight","animated"),a.style.cssText="position:relative; background:linear-gradient(90deg,#FF8C42,#FF6B35); background-size:0% 100%; background-repeat:no-repeat; background-position:left center; color:#000; font-weight:600; padding:2px 4px; border-radius:4px; display:inline; -webkit-box-decoration-break:clone; box-decoration-break:clone;",a.textContent=n,r.deleteContents(),r.insertNode(a),t.removeAllRanges(),setTimeout(()=>{a.style.transition="background-size 0.8s ease-out",a.style.backgroundSize="100% 100%"},100)):(a.className="highlight-simple",a.style.cssText="background-color:#fef3c7; padding:2px 4px; border-radius:4px; display:inline;",a.textContent=n,r.deleteContents(),r.insertNode(a),t.removeAllRanges()),setTimeout(()=>x(),120)},w=(e,t)=>{const r=window.getSelection();if(!r||0===r.rangeCount)return;const n=r.getRangeAt(0),a=n.toString(),i=document.createElement(e);"blockquote"===e?(i.style.borderLeft="4px solid #3b82f6",i.style.paddingLeft="1rem",i.style.paddingTop="0.5rem",i.style.paddingBottom="0.5rem",i.style.margin="1rem 0",i.style.fontStyle="italic",i.style.backgroundColor="transparent"):"div"===e&&(i.className="bg-blue-50 border border-blue-200 rounded-lg p-3 my-2 text-blue-800");const o=a.trim()?n.extractContents():document.createTextNode(t);if(i.appendChild(o),i.contentEditable="true",n.insertNode(i),r.removeAllRanges(),!a.trim()){const e=document.createRange();e.selectNodeContents(i),r.addRange(e)}setTimeout(x,100)},N=()=>{const e=document.createElement("hr");e.className="my-4 border-gray-300";const t=window.getSelection();if(t&&t.rangeCount>0){t.getRangeAt(0).insertNode(e)}},O=a.useRef(null);return Xe.jsxs("div",{className:"rich-editor border border-gray-300 rounded-lg overflow-hidden",children:[Xe.jsxs("div",{className:"bg-gray-50 border-b border-gray-300 p-2 flex flex-wrap gap-1",children:[Xe.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Xe.jsx("button",{type:"button",onClick:()=>b("bold"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Negrito",children:Xe.jsx(ge,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("italic"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Itálico",children:Xe.jsx(ye,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("underline"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Sublinhado",children:Xe.jsx(ve,{size:16})})]}),Xe.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Xe.jsx("button",{type:"button",onClick:()=>b("justify-left"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Alinhar à esquerda",children:Xe.jsx(xe,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("justify-center"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Centralizar",children:Xe.jsx(be,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("justify-right"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Alinhar à direita",children:Xe.jsx(je,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("justify-full"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Justificar",children:Xe.jsx(we,{size:16})})]}),Xe.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Xe.jsx("button",{type:"button",onClick:()=>b("h3"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Título H3",children:Xe.jsx(Ne,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("quote"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Citação",children:Xe.jsx(Oe,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("list"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Lista",children:Xe.jsx(I,{size:16})})]}),Xe.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Xe.jsx("button",{type:"button",onClick:()=>b("highlight-simple"),className:"p-2 hover:bg-gray-200 rounded text-yellow-600",title:"Destaque Simples",children:Xe.jsx(Se,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("highlight-animated"),className:"p-2 hover:bg-gray-200 rounded text-yellow-600 animate-pulse",title:"Destaque Animado",children:Xe.jsx(Ae,{size:16})})]}),Xe.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Xe.jsx("button",{type:"button",onClick:()=>b("info"),className:"p-2 hover:bg-gray-200 rounded text-blue-600",title:"Caixa de Informação",children:Xe.jsx(Pe,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>b("separator"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Separador",children:Xe.jsx(ke,{size:16})})]}),Xe.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Xe.jsx("button",{type:"button",onClick:()=>{const e=prompt("URL da imagem:");e&&(g(e),x())},className:"p-2 hover:bg-gray-200 rounded text-green-600",title:"Inserir Imagem por URL",children:Xe.jsx(k,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>{var e,t;null==(e=n.current)||e.focus(),null==(t=O.current)||t.click()},className:"p-2 hover:bg-gray-200 rounded text-emerald-600",title:"Fazer upload de imagem (arquivo)",children:Xe.jsx(P,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>{var e,t;const r=prompt("URL do vídeo (YouTube, etc):");if(!r)return;let n=r;if(r.includes("youtube.com/watch")){n=`https://www.youtube.com/embed/${null==(e=r.split("v=")[1])?void 0:e.split("&")[0]}`}else if(r.includes("youtu.be/")){n=`https://www.youtube.com/embed/${null==(t=r.split("youtu.be/")[1])?void 0:t.split("?")[0]}`}const a=document.createElement("iframe");a.src=n,a.className="w-full h-64 rounded-lg my-2",a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","true");const i=window.getSelection();if(i&&i.rangeCount>0){i.getRangeAt(0).insertNode(a),x()}},className:"p-2 hover:bg-gray-200 rounded text-red-600",title:"Inserir Vídeo",children:Xe.jsx(Ee,{size:16})}),Xe.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files;t&&0!==t.length&&(await y(t),e.target.value="")},className:"hidden"})]}),Xe.jsxs("div",{className:"flex gap-1",children:[Xe.jsx("button",{type:"button",onClick:()=>{if(s>0){const e=s-1,r=i[e];n.current&&r&&(n.current.innerHTML=r.content,t(r.content),l(e))}},disabled:s<=0,className:"p-2 hover:bg-gray-200 rounded text-gray-700 disabled:opacity-50",title:"Desfazer",children:Xe.jsx(Te,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>{if(s<i.length-1){const e=s+1,r=i[e];n.current&&r&&(n.current.innerHTML=r.content,t(r.content),l(e))}},disabled:s>=i.length-1,className:"p-2 hover:bg-gray-200 rounded text-gray-700 disabled:opacity-50",title:"Refazer",children:Xe.jsx(Ce,{size:16})}),Xe.jsx("button",{type:"button",onClick:()=>{const e=window.getSelection();if(!e||0===e.rangeCount){if(n.current){const e=n.current.innerText||"";n.current.innerHTML=e.replace(/\n/g,"<br>"),x()}return}const t=e.getRangeAt(0);if(t.collapsed)return;const r=t.toString(),a=document.createTextNode(r);t.deleteContents(),t.insertNode(a),e.removeAllRanges(),x()},className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Limpar Formatação",children:Xe.jsx(Me,{size:16})})]})]}),Xe.jsx("div",{ref:n,contentEditable:!0,className:"min-h-[400px] p-4 focus:outline-none prose prose-lg max-w-none",style:{lineHeight:"1.6",fontSize:"16px"},onInput:x,onCompositionStart:()=>u(!0),onCompositionEnd:()=>{u(!1),x()},onPaste:e=>{var t,r,a,i,o,s;const l=null==(t=e.clipboardData)?void 0:t.items;let c=!1;if(l)for(const n of l)if("file"===n.kind){const t=n.getAsFile();if(t&&t.type.startsWith("image/")){e.preventDefault(),y({0:t,length:1,item:()=>t}),c=!0;break}}if(c)return;const u=null==(r=e.clipboardData)?void 0:r.getData("text/html"),d=null==(a=e.clipboardData)?void 0:a.getData("text/plain");if(u){e.preventDefault();const t=document.createElement("div");t.innerHTML=u;const r=new Set(["P","DIV","H1","H2","H3","H4","UL","OL","LI","BLOCKQUOTE"]),a=new Set(["STRONG","B","EM","I","U","A","SPAN"]),s=e=>{if(e.nodeType===Node.TEXT_NODE)return e;if(e.nodeType===Node.ELEMENT_NODE){const t=e,n=t.tagName.toUpperCase();if(t.hasAttribute("style")&&t.removeAttribute("style"),t.removeAttribute("color"),t.removeAttribute("face"),t.removeAttribute("size"),/font|color|size/i.test(t.className)&&t.removeAttribute("class"),"FONT"===n){const e=document.createElement("span");for(;t.firstChild;)e.appendChild(s(t.firstChild));return e}if("SPAN"===n&&!t.attributes.length){const e=document.createDocumentFragment();for(;t.firstChild;)e.appendChild(s(t.firstChild));return e}if(!r.has(n)&&!a.has(n)){const e=document.createDocumentFragment();return Array.from(t.childNodes).forEach(t=>{const r=s(t);r&&e.appendChild(r)}),e}return Array.from(t.childNodes).forEach(e=>{const r=s(e);r!==e&&(r?t.replaceChild(r,e):t.removeChild(e))}),t}return null},l=Array.from(t.childNodes).map(e=>s(e)).filter(Boolean),c=document.createDocumentFragment();l.forEach(e=>c.appendChild(e)),null==(i=c.querySelectorAll)||i.call(c,"span").forEach(e=>{var t;(null==(t=e.textContent)?void 0:t.trim())||e.remove()});const d=window.getSelection();if(d&&d.rangeCount>0){const e=d.getRangeAt(0);e.deleteContents(),e.insertNode(c),d.collapseToEnd()}else null==(o=n.current)||o.appendChild(c);x()}else if(d){e.preventDefault();const t=d.replace(/\r\n/g,"\n").split("\n"),r=document.createDocumentFragment();t.forEach(e=>{if(e.trim()){const t=document.createElement("p");t.textContent=e,r.appendChild(t)}else r.appendChild(document.createElement("br"))});const a=window.getSelection();if(a&&a.rangeCount){const e=a.getRangeAt(0);e.deleteContents(),e.insertNode(r),a.collapseToEnd()}else null==(s=n.current)||s.appendChild(r);x()}else setTimeout(x,0)},onDrop:e=>{var t;e.preventDefault(),y((null==(t=e.dataTransfer)?void 0:t.files)||null)},onDragOver:e=>{e.preventDefault()},suppressContentEditableWarning:!0,"data-placeholder":r}),d&&Xe.jsxs("div",{className:"px-4 pb-2 text-xs text-gray-500",children:["🔄 Enviando imagem",p>1?"s":""," (",p,")..."]}),Xe.jsx("style",{dangerouslySetInnerHTML:{__html:'\n        .rich-editor [contenteditable]:empty:before { content: attr(data-placeholder); color:#9ca3af; pointer-events:none; }\n        .rich-editor [contenteditable] h3 { font-size:1.5rem; font-weight:600; margin:1rem 0 .5rem; color:#1f2937; }\n        .rich-editor [contenteditable] blockquote { background-color:transparent!important; border-left:4px solid #3b82f6!important; padding:.5rem 1rem!important; margin:1rem 0!important; font-style:italic!important; }\n        .rich-editor [contenteditable] ul { padding-left:1.5rem; margin:.5rem 0; }\n        .rich-editor [contenteditable] hr { margin:1rem 0; border:none; height:1px; background-color:#d1d5db; }\n        .rich-editor [contenteditable] img { max-width:100%; height:auto; border-radius:.5rem; margin:.5rem 0; }\n        .rich-editor [contenteditable] iframe { width:100%; height:16rem; border-radius:.5rem; margin:.5rem 0; }\n        .highlight-animated, [data-highlight="animated"] { position:relative!important; background:linear-gradient(90deg,#fbbf24,#f59e0b)!important; background-size:0% 100%!important; background-repeat:no-repeat!important; background-position:left center!important; transition:background-size 2s cubic-bezier(.4,0,.2,1)!important; color:#000!important; font-weight:600!important; padding:2px 4px!important; border-radius:4px!important; display:inline!important; -webkit-box-decoration-break:clone; box-decoration-break:clone; }\n        .highlight-animated.animate-in-view,[data-highlight="animated"].animate-in-view { background-size:100% 100%!important; }\n      '}})]})},eM=({value:e,onChange:t,isValid:r})=>Xe.jsxs("div",{className:"space-y-2",children:[Xe.jsxs("div",{className:"relative",children:[Xe.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value.toUpperCase()),placeholder:"EXCLUSIVO, POLÍTICA, ECONOMIA...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm font-medium transition-all "+(r?"border-green-300 bg-green-50":e?"border-red-300 bg-red-50":"border-gray-300"),maxLength:15}),Xe.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r?Xe.jsx($,{className:"w-4 h-4 text-green-500"}):e?Xe.jsx(q,{className:"w-4 h-4 text-red-500"}):Xe.jsx(se,{className:"w-4 h-4 text-gray-400"})})]}),Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("span",{className:"text-xs "+(e.length>15?"text-red-600":"text-gray-500"),children:[e.length,"/15 caracteres"]}),!r&&e&&Xe.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[Xe.jsx(q,{className:"w-3 h-3"}),Xe.jsx("span",{children:"Entre 3 e 15 caracteres"})]})]})]}),tM=({title:e,content:t,tags:r,onTagsChange:n})=>{const[i,o]=a.useState(!1),[s,l]=a.useState(!1),[c,u]=a.useState([]),d=["a","o","e","é","de","do","da","em","um","para","com","não","uma","os","as","se","que","por","mais","como","mas","foi","ele","tem","à","seu","sua","ou","ser","quando","muito","há","nos","já","está","eu","também","só","pelo","pela","até","isso","ela","entre","era","depois","sem","mesmo","aos","ter","seus","suas","minha","têm","àquelas","muito","nas","me","esse","eles","estão","você","tinha","foram","essa","num","nem","suas","meu","às","minha","têm","numa","pelos","elas","havia","seja","qual","será","nós","tenho","lhe","deles","essas","esses","pelas","este","fosse","dele","tu","te","vocês","vos","lhes","meus","minhas","teu","tua","teus","tuas","nosso","nossa","nossos","nossas","dela","delas","esta","estes","estas","aquele","aquela","aqueles","aquelas","isto","aquilo","estou","está","estamos","estão","estive","esteve","estivemos","estiveram","estava","estávamos","estavam","estivera","estivéramos","esteja","estejamos","estejam","estivesse","estivéssemos","estivessem","estiver","estivermos","estiverem","hei","há","havemos","hão","houve","houvemos","houveram","houvera","houvéramos","haja","hajamos","hajam","houvesse","houvéssemos","houvessem","houver","houvermos","houverem","houverei","houverá","houveremos","houverão","houveria","houveríamos","houveriam","sou","somos","são","era","éramos","eram","fui","foi","fomos","foram","fora","fôramos","seja","sejamos","sejam","fosse","fôssemos","fossem","for","formos","forem","serei","será","seremos","serão","seria","seríamos","seriam","tenho","tem","temos","têm","tinha","tínhamos","tinham","tive","teve","tivemos","tiveram","tivera","tivéramos","tenha","tenhamos","tenham","tivesse","tivéssemos","tivessem","tiver","tivermos","tiverem","terei","terá","teremos","terão","teria","teríamos","teriam"],f=["piauí","teresina","piripiri","pedro ii","campo maior","barras","esperantina","picos","floriano","parnaíba","luzilândia","beneditinos","coivaras","demerval lobão","lagoa do piauí","miguel leão","mucajaí","nazária","palmeirais","passagem franca","regeneração","ribeiro gonçalves","santa rosa","são joão do piauí","são pedro do piauí","socorro do piauí","valença do piauí","várzea grande","altos","angical do piauí","antônio almeida","aroeiras do itaim","arribação","baixa grande do ribeiro","barra d'alcântara","batalha","belém do piauí","betânia do piauí","boa hora","bocaina","bom jesus","brejo do piauí","buriti dos lopes","buriti dos montes","cabeceiras do piauí","cajazeiras do piauí","cajueiro da praia","caldeirão grande do piauí","campinas do piauí","campo alegre do fidalgo","campo grande do piauí","campo largo do piauí","capitão de campos","capitão gervásio oliveira","caracol","caraúbas do piauí","caridade do piauí","castelo do piauí","caxingó","cocal","cocal de telha","cocal dos alves","coivaras","colônia do gurguéia","colônia do piauí","conceição do canindé","coronel josé dias","corrente","cristalândia do piauí","cristino castro","curimatá","currais","curralinhos","curral novo do piauí","dom expedito lopes","domingos mourão","dom inocêncio","elesbão veloso","eliseu martins","esperantina","fartura do piauí","flores do piauí","floresta do piauí","floriano","francinópolis","francisco ayres","francisco macedo","francisco santos","fronteiras","geminiano","gilbués","guadalupe","guaribas","hugo napoleão","ilha grande","inhuma","ipiranga do piauí","isaías coelho","itainópolis","itaueira","jacobina do piauí","jaicós","joão costa","joaquim pires","joca marques","josé de freitas","juazeiro do piauí","júlio borges","jurema","lagoa alegre","lagoa de são francisco","lagoa do barro do piauí","lagoa do piauí","lagoa do sítio","lagoinha do piauí","landri sales","luís correia","luzilândia","madeiro","manoel emídio","marcolândia","marcos parente","massapê do piauí","matias olímpio","miguel alves","miguel leão","milton brandão","monsenhor gil","monsenhor hipólito","monte alegre do piauí","morro cabeça no tempo","morro do chapéu do piauí","mucajaí","nazaré do piauí","nossa senhora de nazaré","nossa senhora dos remédios","nova santa rita","novo oriente do piauí","novo santo antônio","oeiras","olho d'água do piauí","padre marcos","paes landim","pajeú do piauí","palmeira do piauí","palmeirais","paquetá","parnaguá","parnaíba","passagem franca do piauí","patos do piauí","pau d'arco do piauí","paulistana","pavussu","pedro ii","pedro laurentino","nova santa rita","picos","pimenteiras","pio ix","piracuruca","piripiri","porto","porto alegre do piauí","prata do piauí","queimada nova","redenção do gurguéia","regeneração","ribeiro gonçalves","ribeiro gonçalves","rio grande do piauí","santa cruz do piauí","santa cruz dos milagres","santa filomena","santa luz","santana do piauí","santa rosa do piauí","santo antônio de lisboa","santo antônio dos milagres","santo inácio do piauí","são braz do piauí","são félix do piauí","são francisco de assis do piauí","são francisco do piauí","são gonçalo do gurguéia","são gonçalo do piauí","são joão da canabrava","são joão da fronteira","são joão da serra","são joão da varjota","são joão do arraial","são joão do piauí","são josé do divino","são josé do peixe","são josé do piauí","são julião","são lourenço do piauí","são luis do piauí","são miguel da baixa grande","são miguel do fidalgo","são miguel do tapuio","são pedro do piauí","são raimundo nonato","sebastião barros","sebastião leal","sigefredo pacheco","simões","simplício mendes","socorro do piauí","sussuapara","tamboril do piauí","tanque do piauí","teresina","união","uruçuí","valença do piauí","várzea branca","várzea grande","vera mendes","vila nova do piauí","wall ferraz"];return a.useEffect(()=>{e.length>10&&t.length>50&&(async()=>{o(!0),l(!0),await new Promise(e=>setTimeout(e,2e3));const r=`${e} ${t}`.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>3).filter(e=>!d.includes(e.toLowerCase())),n={};r.forEach(e=>{n[e]=(n[e]||0)+1});const a=r.filter(e=>f.includes(e.toLowerCase())),i=[];a.slice(0,3).forEach(e=>{i.includes(e)||i.push(e)}),Object.entries(n).sort(([,e],[,t])=>t-e).slice(0,5).map(([e])=>e).forEach(e=>{i.length<8&&!i.includes(e)&&i.push(e)}),u(i),o(!1)})()},[e,t]),Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsx("label",{className:"block text-base font-semibold text-gray-900",children:"Tags"}),s&&Xe.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[Xe.jsx(_e,{className:"w-4 h-4 animate-pulse"}),Xe.jsx("span",{className:"text-sm font-medium",children:"IA Ativa"})]})]}),Xe.jsx("input",{type:"text",placeholder:"Digite uma tag e pressione Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm",onKeyDown:e=>{if("Enter"===e.key&&e.currentTarget.value.trim()){e.preventDefault();const t=e.currentTarget.value.trim();r.includes(t)||n([...r,t]),e.currentTarget.value=""}}}),r.length>0&&Xe.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(e=>Xe.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm flex items-center space-x-2",children:[Xe.jsx("span",{children:e}),Xe.jsx("button",{onClick:()=>{return t=e,void n(r.filter(e=>e!==t));var t},className:"text-red-600 hover:text-red-800",children:Xe.jsx(B,{className:"w-3 h-3"})})]},e))}),c.length>0&&Xe.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Xe.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Xe.jsx(Ae,{className:"w-4 h-4 text-blue-600"}),Xe.jsx("h4",{className:"font-semibold text-blue-900",children:"Tags Sugeridas pela IA"}),i&&Xe.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[Xe.jsx(se,{className:"w-3 h-3 animate-spin"}),Xe.jsx("span",{className:"text-xs",children:"Gerando..."})]})]}),Xe.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>Xe.jsxs("button",{onClick:()=>(e=>{r.includes(e)||n([...r,e])})(e),disabled:r.includes(e),className:"px-3 py-1 rounded-full text-sm transition-colors "+(r.includes(e)?"bg-green-100 text-green-800 cursor-not-allowed":"bg-blue-100 text-blue-800 hover:bg-blue-200"),children:[e,r.includes(e)&&Xe.jsx($,{className:"w-3 h-3 ml-1 inline"})]},e))})]}),Xe.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[Xe.jsxs("span",{children:[r.length," tags adicionadas"]}),Xe.jsxs("span",{children:[f.filter(e=>r.some(t=>t.toLowerCase().includes(e))).length," tags do Piauí"]})]})]})},rM=({value:e,onChange:t,content:r})=>{const[n,i]=a.useState(!1),[o,s]=a.useState(!1),[l,c]=a.useState(!1);a.useEffect(()=>{const t=e.split("\n").filter(e=>e.trim().startsWith("•"));s(t.length>=3&&t.length<=5)},[e]);const u=(e,t=80)=>{if(e.length<=t)return e;const r=e.substring(0,t),n=r.lastIndexOf(" ");if(n>.7*t)return r.substring(0,n);const a=Math.max(r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"),r.lastIndexOf(","));return a>.6*t?r.substring(0,a+1):r},d=()=>{const e=r.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim().split(/[.!?]/).filter(e=>e.trim().length>20).slice(0,5).map(e=>{const t=e.trim();return`• ${u(t,80)}`}).join("\n");t(e)};return Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsxs("div",{className:"flex items-center justify-between",children:[Xe.jsxs("label",{className:"block text-base font-semibold text-gray-900",children:["Resumo Rápido ",Xe.jsx("span",{className:"text-blue-500",children:"⚡"})]}),Xe.jsxs("div",{className:"flex items-center space-x-2",children:[Xe.jsx("button",{onClick:async()=>{var e,n,a;if(!r||r.trim().length<50)t("• Conteúdo insuficiente para gerar resumo automático");else{c(!0);try{const i=r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),o=await fetch("/api/ai/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:'Você é um jornalista especializado em resumos objetivos. Responda APENAS com 4 linhas, cada uma começando com "• " seguido de uma frase direta e informativa. NÃO use markdown, NÃO use títulos como "Tópico 1", NÃO use formatação. Apenas bullet points simples.'},{role:"user",content:`Resuma esta notícia em 4 bullet points simples:\n\n${i}`}],max_tokens:200,temperature:.7})});if(!o.ok)throw new Error(`Erro na API: ${o.status}`);{const r=null==(a=null==(n=null==(e=(await o.json()).choices[0])?void 0:e.message)?void 0:n.content)?void 0:a.trim();if(!r)throw new Error("Resposta da IA vazia");{const e=r.split("\n").filter(e=>e.trim()).map(e=>{const t=e.trim().replace(/^\*\*/g,"").replace(/\*\*$/g,"").replace(/^\*/g,"").replace(/^-/g,"").replace(/^Tópico \d+:/gi,"").replace(/^\d+\./g,"").trim();return t.startsWith("•")?t:`• ${t}`}).join("\n");t(e)}}}catch(i){d()}finally{c(!1)}}},disabled:l,className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 text-blue-700 disabled:text-gray-500 rounded-md text-sm transition-colors",children:l?Xe.jsxs(Xe.Fragment,{children:[Xe.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-700"}),Xe.jsx("span",{children:"Gerando..."})]}):Xe.jsxs(Xe.Fragment,{children:[Xe.jsx(se,{className:"w-3 h-3"}),Xe.jsx("span",{children:"Gerar com IA"})]})}),Xe.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm transition-colors",children:[Xe.jsx(O,{className:"w-3 h-3"}),Xe.jsx("span",{children:n?"Ocultar":"Preview"})]})]})]}),Xe.jsxs("div",{className:"space-y-3",children:[Xe.jsx("textarea",{value:e,onChange:e=>{const r=e.target.value.split("\n").map(e=>{if(e.trim().startsWith("•")){const t=e.substring(1).trim();return`• ${u(t,80)}`}return e});t(r.join("\n"))},placeholder:"Digite os pontos principais da matéria...\r\n\r\nExemplo:\r\n• Governador anuncia investimento de R$ 50 milhões\r\n• Projeto beneficiará 12 municípios da região\r\n• Obras devem começar em março de 2025\r\n• Expectativa de gerar 500 empregos diretos",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-24 resize-none text-sm "+(o?"border-green-300 bg-green-50":e?"border-orange-300 bg-orange-50":"border-gray-300")}),Xe.jsxs("div",{className:"flex items-center space-x-2",children:[o?Xe.jsx($,{className:"w-4 h-4 text-green-500"}):e?Xe.jsx(q,{className:"w-4 h-4 text-orange-500"}):Xe.jsx(z,{className:"w-4 h-4 text-gray-400"}),Xe.jsx("span",{className:"text-sm "+(o?"text-green-600":e?"text-orange-600":"text-gray-500"),children:o?"Resumo válido! Aparecerá no topo da matéria":e?"Adicione mais pontos (mínimo 3, máximo 5)":"Resumo aparecerá no topo da matéria para leitores apressados"})]}),Xe.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[Xe.jsxs("span",{children:[e.split("\n").filter(e=>e.trim().startsWith("•")).length," pontos"]}),Xe.jsxs("span",{children:["~",Math.ceil(e.length/200)," min de leitura"]})]})]}),n&&e&&Xe.jsx("div",{className:"mt-4",children:(()=>{const t=e.split("\n").filter(e=>e.trim().startsWith("•"));return Xe.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Xe.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Xe.jsx(z,{className:"w-5 h-5 text-blue-600"}),Xe.jsx("h4",{className:"font-semibold text-blue-900",children:"Resumo Rápido"}),Xe.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full",children:"Para leitores apressados"})]}),Xe.jsx("div",{className:"space-y-2",children:t.map((e,t)=>Xe.jsxs("div",{className:"flex items-start space-x-2",children:[Xe.jsx("span",{className:"text-blue-600 font-bold mt-1",children:"•"}),Xe.jsx("p",{className:"text-blue-900 text-sm leading-relaxed",children:e.substring(1).trim()})]},t))}),Xe.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:Xe.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-700",children:[Xe.jsxs("span",{children:["Tempo de leitura: ~",Math.ceil(.5*t.length)," min"]}),Xe.jsxs("span",{children:[t.length," pontos principais"]})]})})]})})()})]})},nM=5,aM=e=>{if(!e)return"geral";const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"supermanchete":"destaque"===t||t.includes("destaque")?"destaque":"geral"},iM=async(e,t)=>{try{const n=await mt(),a=Array.isArray(n)?n:Array.isArray(null==n?void 0:n.posts)?n.posts:[],i=aM(String(t)),o=String(e),s=a.filter(e=>String(e.id)!==o),l=s.filter(e=>"supermanchete"===aM(e.posicao)),c=s.filter(e=>"destaque"===aM(e.posicao)),u=[];if("supermanchete"===i){if(l.length>0){const e=l[0];u.push({id:e.id,posicao:"destaque"})}if(c.length>=nM){const e=c.sort((e,t)=>new Date(e.dataPublicacao||0).getTime()-new Date(t.dataPublicacao||0).getTime())[0];u.push({id:e.id,posicao:"geral"})}}else if("destaque"===i&&c.length>=nM){const e=c.sort((e,t)=>new Date(e.dataPublicacao||0).getTime()-new Date(t.dataPublicacao||0).getTime())[0];u.push({id:e.id,posicao:"geral"})}for(const e of u)try{await vt(e.id,{posicao:e.posicao})}catch(r){}}catch(r){throw r}};function oM(e){const t=["o","a","os","as","um","uma","uns","umas","de","da","do","das","dos","em","na","no","nas","nos","para","com","por","sobre","entre","sem","até","após","antes","durante","e","ou","mas","que","se","quando","onde","como","porque","então","já","ainda","mais","menos","muito","pouco","todo","toda","todos","todas","este","esta","estes","estas","esse","essa","esses","essas","aquele","aquela","aqueles","aquelas"];return e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(e=>e.length>2&&!t.includes(e)).map(e=>e.trim())}function sM(e,t){return e.filter(e=>!t.some(t=>function(e,t){const r=oM(e),n=oM(t);return r.some(e=>n.includes(e))}(e,t)))}async function lM(e){try{return await async function(e){var t,r;try{const n=await fetch("/api/ai/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:"Você é um especialista em jornalismo brasileiro. Responda sempre em português, seja direto e objetivo."},{role:"user",content:e}],max_tokens:300,temperature:.7})});if(!n.ok){const e=await n.text();throw new Error(`Erro na API Groq: ${n.status} - ${e}`)}return(null==(r=null==(t=(await n.json()).choices[0])?void 0:t.message)?void 0:r.content)||""}catch(n){throw n}}(e)}catch(t){return function(e){const t=e.toLowerCase();if(t.includes("título"))return"Título Sugerido\nNovo Desenvolvimento\nÚltimas Notícias";if(t.includes("subtítulo"))return"Entenda os principais detalhes\nConfira as informações completas\nSaiba mais sobre o assunto";if(t.includes("chapéu"))return"NOTÍCIAS\nATUALIDADES\nDESTAQUE";return"Sugestão gerada localmente"}(e)}}const cM=FC||{addToQueue:()=>{},removeFromQueue:()=>{}},uM=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=i(),{user:t}=Pt(),{id:r}=f(),[n,s]=a.useState(!1),[l,c]=a.useState(0),[u,d]=a.useState(["editoriais"]),[p,h]=a.useState(["geral"]),[m,v]=a.useState(!1),[b,j]=a.useState(!1),[O,S]=a.useState(!1),[A,P]=a.useState(null),[k,E]=a.useState(null),[T,C]=a.useState(null),[M,_]=a.useState(!1),[I,D]=a.useState({titulos:[],subtitulos:[],chapeus:[]}),[R,L]=a.useState({categoria:"geral",subcategoria:"geral",municipio:"",titulo:"",subtitulo:"",autor:(null==t?void 0:t.name)||"",fonte:"","chapéu":"",resumo:"",conteudo:"",imagemDestaque:null,posicao:"geral",agendamento:null,tags:[],whatsappAuto:!0,pushAuto:!0,igCardAuto:!1,audioAuto:!1}),[z,U]=a.useState("geral");a.useEffect(()=>{if((R.titulo||R.conteudo)&&!r&&!O){s(!0);const e=setTimeout(()=>{s(!1),Z()},8e3);return()=>clearTimeout(e)}},[R.titulo,R.conteudo,R.subtitulo,R.resumo,r,O]),a.useEffect(()=>{c(R.conteudo.split(" ").filter(e=>e).length)},[R.conteudo]);const F={editoriais:{nome:"Editoriais",icon:g,subcategorias:[{value:"policia",label:"Polícia"},{value:"politica",label:"Política"},{value:"esporte",label:"Esporte"},{value:"entretenimento",label:"Entretenimento"},{value:"geral",label:"Geral"}]},municipios:{nome:"Municípios",icon:Le,subcategorias:[{value:"piripiri",label:"Piripiri"},{value:"pedro-ii",label:"Pedro II"},{value:"brasileira",label:"Brasileira"},{value:"lagoa-de-sao-francisco",label:"Lagoa de São Francisco"},{value:"piracuruca",label:"Piracuruca"},{value:"sao-jose-do-divino",label:"São José do Divino"},{value:"domingos-mourao",label:"Domingos Mourão"},{value:"capitao-de-campos",label:"Capitão de Campos"},{value:"cocal-de-telha",label:"Cocal de Telha"},{value:"milton-brandao",label:"Milton Brandão"},{value:"teresina",label:"Teresina"},{value:"boa-hora",label:"Boa Hora"}]},especiais:{nome:"Especiais",icon:ae,subcategorias:[{value:"investigacao",label:"Investigação"},{value:"series-especiais",label:"Séries Especiais"},{value:"entrevistas",label:"Entrevistas"},{value:"grandes-reportagens",label:"Grandes Reportagens"},{value:"documentarios",label:"Documentários"}]}};a.useEffect(()=>{(async()=>{if(r){S(!0);try{const e=await gt(r);if(e){C(r);const t=e.posicao||"geral";U(t),L(r=>({...r,categoria:e.categoria,subcategoria:e.categoria||"geral",titulo:e.titulo,subtitulo:e.subtitulo||"",autor:e.autor,"chapéu":e.chapeu||"",resumo:e.resumo||"",conteudo:e.conteudo,imagemDestaque:e.imagemUrl||null,posicao:t}))}}catch(e){P("Erro ao carregar")}finally{S(!1)}}})()},[r]);const G=[{value:"supermanchete",label:"Super Manchete",icon:ae},{value:"destaque",label:"Destaque",icon:X},{value:"geral",label:"Geral",icon:g},{value:"municipios",label:"Municípios",icon:Le}],W=R.titulo&&R.conteudo&&R.autor&&p.length>0,V=m||b,H=(e,t)=>{L(r=>({...r,[e]:t})),"igCardAuto"===e&&!0===t&&R.titulo&&cM.addToQueue(T||`draft_${Date.now()}`,R.titulo,R.chapéu),"igCardAuto"===e&&!1===t&&T&&cM.removeFromQueue(T)},K=()=>p.some(e=>["policia","politica","esporte","entretenimento","geral"].includes(e))?p.includes("policia")?"policia":p.includes("politica")?"politica":p.includes("esporte")?"esporte":p.includes("entretenimento")?"entretenimento":"geral":p.some(e=>["piripiri","pedro-ii","brasileira","lagoa-de-sao-francisco","piracuruca","sao-jose-do-divino","domingos-mourao","capitao-de-campos","cocal-de-telha","milton-brandao","teresina","boa-hora"].includes(e))?"municipios":p.some(e=>["investigacao","series-especiais","entrevistas","grandes-reportagens","documentarios"].includes(e))?"especiais":"geral",Y=e=>({id:T||void 0,titulo:R.titulo,subtitulo:R.subtitulo,autor:R.autor,conteudo:R.conteudo,chapeu:R.chapéu,categoria:e,posicao:R.posicao,dataPublicacao:(new Date).toISOString(),imagemUrl:R.imagemDestaque}),Q=e=>{E(e),setTimeout(()=>E(null),2500)},Z=async()=>{if(R.titulo)try{v(!0),P(null);const e=K(),t=Y(e),r=T?await vt(T,t):await yt(t);T||C(r.id);R.posicao!==z&&["supermanchete","destaque"].includes(R.posicao)&&await iM(r.id,R.posicao),Q("Rascunho salvo!")}catch(e){P("Erro ao salvar.")}finally{v(!1)}},ee=async()=>{if(W){await(async()=>{if(R.imagemDestaque&&R.imagemDestaque.startsWith("data:"))try{const e=await(await fetch(R.imagemDestaque)).blob(),t=new File([e],"capa-auto.png",{type:e.type||"image/png"}),r=new FormData;r.append("image",t),j(!0);const n=Je()||localStorage.getItem("token"),a=n?{Authorization:`Bearer ${n}`}:{},i=await fetch("/api/upload",{method:"POST",headers:a,body:r});if(i.ok){const e=await i.json();let t=e.imageUrl||e.relativeUrl||e.relative||e.url;t=t.includes("?")?`${t}&t=${Date.now()}`:`${t}?t=${Date.now()}`,H("imagemDestaque",t)}}catch(e){}finally{j(!1)}})();try{v(!0),P(null);const t=K(),r=Y(t),n=T?await vt(T,r):await yt(r);R.posicao!==z&&["supermanchete","destaque"].includes(R.posicao)&&await iM(n.id,R.posicao),Q("Publicado!"),setTimeout(()=>e("/admin/materias"),1200)}catch(t){P("Erro ao publicar.")}finally{v(!1)}}},te=e=>{const t=document.createElement("div");return t.innerHTML=e||"",t.querySelectorAll("p,br,div,h1,h2,h3,h4").forEach(e=>{if("BR"===e.tagName)e.replaceWith("\n");else{const t=e.textContent||"";t.trim()&&e.replaceWith(t+"\n")}}),(t.textContent||"").trim()},re=(e,t)=>{H(e,t),setTimeout(()=>D({titulos:[],subtitulos:[],chapeus:[]}),1500)};return O?Xe.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Xe.jsx("p",{children:"Carregando..."})}):Xe.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 font-body",children:[Xe.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:Xe.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[Xe.jsxs("div",{className:"flex items-center gap-3",children:[Xe.jsx(o,{to:"/admin?tab=materias",className:"text-gray-600 hover:text-gray-900",children:Xe.jsx(Ie,{className:"w-5 h-5"})}),Xe.jsx("h1",{className:"text-lg font-bold",children:r?"Editando Matéria":"Nova Matéria"})]}),Xe.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n&&Xe.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[Xe.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Salvando..."]}),m&&Xe.jsxs("span",{className:"text-blue-600 flex items-center gap-1",children:[Xe.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),"Processando..."]}),k&&Xe.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[Xe.jsx($,{className:"w-3 h-3"}),k]}),A&&Xe.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[Xe.jsx(q,{className:"w-3 h-3"}),A]}),Xe.jsxs("button",{onClick:async()=>{try{if(!R.conteudo||R.conteudo.length<100)return void P("Mínimo 100 caracteres para IA");const e=te(R.conteudo);if(e.length<100)return void P("Texto insuficiente");_(!0),P(null);const t=await async function(e,t=75,r,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- NUNCA invente informações que não estão no texto\n- Use APENAS os fatos presentes no conteúdo fornecido\n- NÃO adicione detalhes, números ou nomes que não existem no texto original\n- Seja factual e preciso, sem especulação\n- IMPORTANTE: Use palavras DIFERENTES do subtítulo e chapéu existentes\n\n${r?`SUBTÍTULO EXISTENTE: "${r}" - NÃO repita estas palavras`:""}\n${n?`CHAPÉU EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nBaseado ESTRITAMENTE no seguinte conteúdo jornalístico, gere 3 títulos informativos.\nCada título deve ter no máximo ${t} caracteres.\nUse APENAS as informações que estão explicitamente no texto.\nUse palavras COMPLEMENTARES, não repetitivas.\n\nConteúdo:\n${e.substring(0,1e3)}\n\nResponda apenas com os 3 títulos, um por linha, sem numeração:\n`;try{let e=(await lM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().substring(0,t));const i=[r,n].filter(Boolean);if(i.length>0){const t=sM(e,i);t.length>0&&(e=t)}return e}catch(A){const n=function(e,t){const r=e.split(".")[0].split(" ").slice(0,8);return[r.slice(0,6).join(" "),`Novo: ${r.slice(1,6).join(" ")}`,`${r.slice(0,5).join(" ")} em destaque`].map(e=>e.length>t?e.substring(0,t-3)+"...":e)}(e,t);return n}}(e,75,R.subtitulo,R.chapéu),r=await async function(e,t,r=120,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- NUNCA invente informações que não estão no texto\n- Use APENAS os fatos presentes no conteúdo fornecido\n- NÃO adicione detalhes, números ou nomes que não existem no texto original\n- Seja factual e preciso, complementando o título sem especular\n- IMPORTANTE: Use palavras DIFERENTES do título e chapéu existentes\n\nTÍTULO EXISTENTE: "${t}" - NÃO repita estas palavras\n${n?`CHAPÉU EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nPara o título "${t}", gere 3 subtítulos jornalísticos que complementem a informação.\nCada subtítulo deve ter no máximo ${r} caracteres.\nUse APENAS as informações que estão explicitamente no conteúdo abaixo.\nUse palavras COMPLEMENTARES ao título, não repetitivas.\n\nConteúdo:\n${e.substring(0,1e3)}\n\nResponda apenas com os 3 subtítulos, um por linha, sem numeração:\n`;try{let e=(await lM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().substring(0,r));const i=sM(e,[t,n].filter(Boolean));return i.length>0&&(e=i),e}catch(A){return function(e,t,r){return[`Entenda os detalhes sobre ${e.split(" ").slice(0,10).slice(0,4).join(" ").toLowerCase()}`,"Confira as principais informações do caso","Saiba mais sobre os desdobramentos"].map(e=>e.length>r?e.substring(0,r-3)+"...":e)}(e,0,r)}}(e,R.titulo,120,R.chapéu),n=await async function(e,t=20,r,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- Analise APENAS o conteúdo fornecido\n- NÃO invente palavras que não se relacionam ao texto\n- Chapéu é uma CHAMADA ou PALAVRA-CHAVE sobre o assunto principal\n- IMPORTANTE: Use palavras DIFERENTES do título e subtítulo existentes\n\n${r?`TÍTULO EXISTENTE: "${r}" - NÃO repita estas palavras`:""}\n${n?`SUBTÍTULO EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nBaseado ESTRITAMENTE no conteúdo jornalístico abaixo, gere 3 opções de chapéu.\nCHAPÉU = palavra ou duas palavras que resumem o ASSUNTO PRINCIPAL da matéria.\nCada chapéu deve ter no máximo ${t} caracteres.\nUse palavras COMPLEMENTARES ao título e subtítulo, não repetitivas.\n\nExemplos de bons chapéus:\n- "EDUCAÇÃO" (para matéria sobre escolas)\n- "TRÂNSITO" (para matéria sobre vias)\n- "SAÚDE" (para matéria sobre hospitais)\n- "OBRAS" (para matéria sobre construções)\n- "ELEIÇÕES" (para matéria sobre política eleitoral)\n\nConteúdo:\n${e.substring(0,800)}\n\nResponda apenas com os 3 chapéus em MAIÚSCULAS, um por linha, sem numeração:\n`;try{let e=(await lM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().toUpperCase().substring(0,t));const i=[r,n].filter(Boolean);if(i.length>0){const t=sM(e,i);t.length>0&&(e=t)}return e}catch(A){return function(e){const t=e.toLowerCase();return t.includes("prefeito")||t.includes("prefeitura")||t.includes("governo municipal")?["PREFEITURA","GOVERNO","GESTÃO"]:t.includes("escola")||t.includes("educação")||t.includes("professor")?["EDUCAÇÃO","ENSINO","ESCOLA"]:t.includes("hospital")||t.includes("saúde")||t.includes("médico")?["SAÚDE","MEDICINA","HOSPITAL"]:t.includes("obra")||t.includes("construção")||t.includes("pavimentação")?["OBRAS","INFRAESTRUTURA","CONSTRUÇÃO"]:t.includes("polícia")||t.includes("crime")||t.includes("segurança")?["SEGURANÇA","POLÍCIA","CRIME"]:t.includes("eleição")||t.includes("candidato")||t.includes("voto")?["ELEIÇÕES","POLÍTICA","CANDIDATOS"]:t.includes("trânsito")||t.includes("rua")||t.includes("avenida")?["TRÂNSITO","VIAS","MOBILIDADE"]:["NOTÍCIAS","CIDADE","COMUNIDADE"]}(e)}}(e,20,R.titulo,R.subtitulo);D({titulos:t,subtitulos:r,chapeus:n}),Q("Sugestões geradas!")}catch(e){P("Erro IA")}finally{_(!1)}},disabled:M||!R.conteudo||te(R.conteudo).length<100,className:"px-3 py-1.5 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full flex items-center gap-2 disabled:opacity-50",children:[M?Xe.jsx(x,{className:"w-3 h-3 animate-spin"}):Xe.jsx(Ae,{className:"w-3 h-3"}),"IA"]}),Xe.jsxs("button",{onClick:Z,className:"px-3 py-1.5 border border-gray-300 rounded flex items-center gap-1",children:[Xe.jsx(J,{className:"w-3 h-3"}),"Salvar"]}),Xe.jsxs("button",{onClick:ee,disabled:!W||V,className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded flex items-center gap-1 disabled:bg-gray-400",children:[Xe.jsx(De,{className:"w-3 h-3"}),"Publicar"]})]})]})}),Xe.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[Xe.jsx("div",{className:"mb-4",children:Xe.jsxs("details",{className:"bg-white rounded-lg border",open:!r,children:[Xe.jsxs("summary",{className:"px-4 py-3 cursor-pointer font-medium flex items-center justify-between",children:[Xe.jsxs("span",{className:"flex items-center gap-2",children:[Xe.jsx(Re,{className:"w-4 h-4 text-blue-500"}),"Categorização"]}),Xe.jsxs("span",{className:"text-xs text-gray-500",children:[p.length," selecionada(s)"]})]}),Xe.jsx("div",{className:"px-4 pb-4 space-y-3",children:Xe.jsxs("div",{children:[Xe.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(F).map(([e,t])=>Xe.jsxs("button",{onClick:()=>{return t=e,d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"px-3 py-1.5 rounded-full border text-xs "+(u.includes(e)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300 bg-white"),children:[Xe.jsx(t.icon,{className:"w-3 h-3"}),t.nome]},e))}),Xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(e=>{const t=F[e];return Xe.jsxs("div",{className:"space-y-2",children:[Xe.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[Xe.jsx(t.icon,{className:"w-3 h-3"}),t.nome]}),Xe.jsx("div",{className:"space-y-1",children:t.subcategorias.map(t=>Xe.jsx("button",{onClick:()=>{return r=t.value,n=e,void h(e=>{const t=F[n].subcategorias.map(e=>e.value),a=e.filter(e=>!t.includes(e));return e.includes(r)?a:[...a,r]});var r,n},className:"w-full text-left px-3 py-1.5 rounded text-xs "+(p.includes(t.value)?"bg-green-100 text-green-800 border border-green-300":"bg-gray-50 hover:bg-green-50"),children:t.label},t.value))})]},e)})})]})})]})}),Xe.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[Xe.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[Xe.jsxs("div",{className:"bg-white rounded-lg border p-4 space-y-4",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium mb-2",children:"Título *"}),Xe.jsx("input",{value:R.titulo,onChange:e=>H("titulo",e.target.value),maxLength:80,className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-500"}),Xe.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[Xe.jsxs("span",{children:["r10piaui.com.br/",(ne=R.titulo,ne.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g,"-")||"titulo-da-materia")]}),Xe.jsxs("span",{children:[R.titulo.length,"/80"]})]}),I.titulos.length>0&&Xe.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded border",children:[Xe.jsxs("div",{className:"text-xs font-medium text-purple-800 mb-2 flex items-center gap-1",children:[Xe.jsx(Ae,{className:"w-3 h-3"}),"Sugestões"]}),Xe.jsx("div",{className:"space-y-1",children:I.titulos.map((e,t)=>Xe.jsx("button",{onClick:()=>re("titulo",e),className:"w-full text-left p-2 bg-white rounded border hover:border-purple-300 text-sm",children:e},t))})]})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subtítulo *"}),Xe.jsx("input",{value:R.subtitulo,onChange:e=>H("subtitulo",e.target.value),maxLength:120,className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-500"}),Xe.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[Xe.jsx("span",{children:"Complementa o título"}),Xe.jsxs("span",{children:[R.subtitulo.length,"/120"]})]}),I.subtitulos.length>0&&Xe.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border",children:[Xe.jsxs("div",{className:"text-xs font-medium text-blue-800 mb-2 flex items-center gap-1",children:[Xe.jsx(Ae,{className:"w-3 h-3"}),"Sugestões"]}),Xe.jsx("div",{className:"space-y-1",children:I.subtitulos.map((e,t)=>Xe.jsx("button",{onClick:()=>re("subtitulo",e),className:"w-full text-left p-2 bg-white rounded border hover:border-blue-300 text-sm",children:e},t))})]})]})]}),Xe.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[Xe.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Xe.jsx("label",{className:"text-sm font-medium",children:"Conteúdo *"}),Xe.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[Xe.jsxs("span",{children:[l," palavras"]}),Xe.jsxs("span",{children:["~",Math.ceil(l/200)," min"]})]})]}),Xe.jsx(ZC,{value:R.conteudo,onChange:e=>H("conteudo",e),placeholder:"Digite o conteúdo da matéria aqui..."})]})]}),Xe.jsxs("div",{className:"space-y-4",children:[Xe.jsxs("div",{className:"bg-white rounded-lg border p-4 space-y-3",children:[Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-xs font-medium mb-1",children:"Chapéu *"}),Xe.jsx(eM,{value:R.chapéu,onChange:e=>H("chapéu",e),isValid:R.chapéu.length>=3&&R.chapéu.length<=15}),I.chapeus.length>0&&Xe.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded border",children:[Xe.jsxs("div",{className:"text-xs font-medium text-green-800 mb-2 flex items-center gap-1",children:[Xe.jsx(Ae,{className:"w-3 h-3"}),"Chapéus"]}),Xe.jsx("div",{className:"flex flex-wrap gap-1",children:I.chapeus.map((e,t)=>Xe.jsx("button",{onClick:()=>re("chapéu",e),className:"px-2 py-1 bg-white rounded border hover:border-green-300 text-xs",children:e},t))})]})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-xs font-medium mb-1",children:"Autor *"}),Xe.jsxs("select",{value:R.autor,onChange:e=>H("autor",e.target.value),className:"w-full px-3 py-2 border rounded text-sm",children:[Xe.jsx("option",{value:(null==t?void 0:t.name)||"",children:(null==t?void 0:t.name)||"Selecione"}),Xe.jsx("option",{value:"Redação R10 Piauí",children:"Redação R10 Piauí"})]})]}),Xe.jsxs("div",{children:[Xe.jsx("label",{className:"block text-xs font-medium mb-1",children:"Posição na Home"}),Xe.jsx("select",{value:R.posicao,onChange:e=>H("posicao",e.target.value),className:"w-full px-3 py-2 border rounded text-sm",children:G.map(e=>Xe.jsx("option",{value:e.value,children:e.label},e.value))})]})]}),Xe.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[Xe.jsx("h3",{className:"text-sm font-medium mb-3",children:"Resumo"}),Xe.jsx(rM,{value:R.resumo,onChange:e=>H("resumo",e),content:R.conteudo})]}),Xe.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[Xe.jsx("h3",{className:"text-sm font-medium mb-3",children:"Imagem de Destaque"}),Xe.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-purple-400 cursor-pointer bg-gray-50",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},children:[R.imagemDestaque?Xe.jsxs("div",{className:"relative",children:[Xe.jsx("img",{src:R.imagemDestaque,alt:"Preview",className:"w-full h-48 object-cover rounded"}),Xe.jsx("button",{onClick:e=>{e.stopPropagation(),H("imagemDestaque",null)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full",children:Xe.jsx(B,{className:"w-4 h-4"})})]}):Xe.jsxs(Xe.Fragment,{children:[Xe.jsx(N,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),Xe.jsx("p",{className:"text-sm text-gray-600",children:"Clique para enviar"}),Xe.jsx("p",{className:"text-xs text-gray-500",children:"JPG/PNG/WebP até 5MB"})]}),Xe.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(!r)return;j(!0);const n=new FormData;n.append("image",r);const a=Je()||localStorage.getItem("token"),i=a?{Authorization:`Bearer ${a}`}:{};try{const e=await fetch("/api/upload",{method:"POST",headers:i,body:n}),t=await e.text();let r;try{r=JSON.parse(t)}catch(o){throw new Error("Resposta não é JSON válido")}if(e.ok&&r.imageUrl){let e=r.imageUrl.includes("?")?`${r.imageUrl}&t=${Date.now()}`:`${r.imageUrl}?t=${Date.now()}`;H("imagemDestaque",e),Q("Imagem enviada!")}else P("Falha no upload")}catch(s){P("Erro ao enviar imagem")}finally{j(!1)}}})]}),b&&Xe.jsx("p",{className:"text-xs text-blue-600 mt-2 animate-pulse",children:"📤 Enviando imagem..."})]}),Xe.jsx("div",{className:"bg-white rounded-lg border p-4",children:Xe.jsxs("details",{children:[Xe.jsxs("summary",{className:"cursor-pointer flex items-center gap-2",children:[Xe.jsx(se,{className:"w-4 h-4 text-purple-500"}),"Recursos Avançados"]}),Xe.jsxs("div",{className:"mt-3 space-y-4",children:[Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"text-sm font-medium mb-2",children:"Tags com IA"}),Xe.jsx(tM,{title:R.titulo,content:R.conteudo,tags:R.tags,onTagsChange:e=>H("tags",e)})]}),Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"text-sm font-medium mb-2",children:"Agendamento"}),Xe.jsx("input",{type:"datetime-local",value:R.agendamento||"",onChange:e=>H("agendamento",e.target.value),className:"w-full px-3 py-2 border rounded text-sm"}),R.agendamento&&Xe.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["📅 ",new Date(R.agendamento).toLocaleString("pt-BR")]})]}),Xe.jsxs("div",{children:[Xe.jsx("h4",{className:"text-sm font-medium mb-2",children:"Distribuição"}),Xe.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"whatsappAuto",icon:ue,title:"WhatsApp",color:"bg-green-500"},{key:"pushAuto",icon:y,title:"Push",color:"bg-blue-500"},{key:"igCardAuto",icon:w,title:"Instagram",color:"bg-pink-500"},{key:"audioAuto",icon:Be,title:"Áudio",color:"bg-purple-500"}].map(e=>Xe.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded cursor-pointer",children:[Xe.jsx("div",{className:`${e.color} p-1 rounded`,children:Xe.jsx(e.icon,{className:"w-3 h-3 text-white"})}),Xe.jsx("span",{className:"text-sm flex-1",children:e.title}),Xe.jsx("input",{type:"checkbox",checked:R[e.key],onChange:t=>H(e.key,t.target.checked)})]},e.key))})]})]})]})})]})]}),Xe.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-3 -mx-4 shadow-lg",children:Xe.jsxs("div",{className:"max-w-6xl mx-auto flex gap-2",children:[Xe.jsxs("button",{onClick:Z,className:"flex-1 bg-gray-200 hover:bg-gray-300 py-2 px-3 rounded font-medium flex items-center justify-center gap-2 text-sm",children:[Xe.jsx(J,{className:"w-4 h-4"}),"Salvar Rascunho"]}),Xe.jsxs("button",{onClick:ee,disabled:!W||V,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white py-2 px-3 rounded font-medium flex items-center justify-center gap-2 text-sm",children:[Xe.jsx(De,{className:"w-4 h-4"}),R.agendamento?"Agendar":"Publicar"]})]})})]})]});var ne}},Symbol.toStringTag,{value:"Module"}));export{kt as A,DC as B,DE as C,QC as D,IC as L,RC as P,Bp as R,dp as T,ST as X,RT as Y,xt as a,St as b,Ct as c,It as d,gt as e,Ke as f,mt as g,et as h,wt as i,Xe as j,LC as k,at as l,hT as m,QE as n,EP as o,dA as p,zp as q,bt as r,it as s,uM as t,Pt as u};
