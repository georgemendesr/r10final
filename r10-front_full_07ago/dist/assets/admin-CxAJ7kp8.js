var e,t,r,n,a=Object.defineProperty,i=(e,t,r)=>((e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r);import{r as o,u as s,L as l,c,g as u,R as d,a as p,b as f,d as h}from"./vendor-Bfak-lhW.js";import{H as m,E as g,C as y,F as v,B as x,L as b,R as j,P as w,S as N,I as O,a as S,b as A,c as P,T as k,U as E,d as T,e as C,M,f as _,g as I,G as D,h as R,D as L,i as B,j as z,X as $,k as q,l as U,m as F,A as G,n as V,o as W,p as H,q as X,r as K,s as Y,t as J,u as Q,v as Z,w as ee,x as te,y as re,z as ne,J as ae,K as ie,N as oe,O as se,Q as le,Z as ce,V as ue,W as de,Y as pe,_ as fe,$ as he,a0 as me,a1 as ge,a2 as ye,a3 as ve,a4 as xe,a5 as be,a6 as je,a7 as we,a8 as Ne,a9 as Oe,aa as Se,ab as Ae,ac as Pe,ad as ke,ae as Ee,af as Te,ag as Ce,ah as Me,ai as _e,aj as Ie,ak as De,al as Re,am as Le,an as Be,ao as ze,ap as $e}from"./icons-C9jemfr7.js";var qe={exports:{}},Ue={},Fe=o,Ge=Symbol.for("react.element"),Ve=Symbol.for("react.fragment"),We=Object.prototype.hasOwnProperty,He=Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0};function Ke(e,t,r){var n,a={},i=null,o=null;for(n in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(o=t.ref),t)We.call(t,n)&&!Xe.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:Ge,type:e,key:i,ref:o,props:a,_owner:He.current}}Ue.Fragment=Ve,Ue.jsx=Ke,Ue.jsxs=Ke,qe.exports=Ue;var Ye=qe.exports;const Je=(null==(t=null==(e=import.meta)?void 0:e.env)?void 0:t.VITE_API_BASE_URL)||"/api";function Qe(){try{const e=localStorage.getItem("r10_auth");if(!e)return null;const t=JSON.parse(e);return(null==t?void 0:t.token)||null}catch(e){return null}}async function Ze(){try{const t=await fetch(`${Je}/auth/refresh`,{method:"POST",credentials:"include"});if(!t.ok)return!1;try{const e=await t.json().catch(()=>null);e&&e.token&&function(e){try{const t=localStorage.getItem("r10_auth"),r={...t?JSON.parse(t):{},token:e,isAuthenticated:!!e};localStorage.setItem("r10_auth",JSON.stringify(r))}catch(t){}}(String(e.token))}catch(e){}return!0}catch(e){return!1}}async function et(e,t){if(!e.ok){if(401===e.status&&(null==t?void 0:t.silent401)){const t=new Error(`HTTP ${e.status}`);throw t.status=e.status,t.body="",t}const r=await e.text().catch(()=>""),n=new Error(`HTTP ${e.status}`);throw n.status=e.status,n.body=r,n}return e.json()}async function tt(e,t){const r=Date.now(),n=`${Je}${e}`,a=`GET:${n}`;window.__r10_inflight||(window.__r10_inflight=new Map);const i=window.__r10_inflight,o=i.get(a);if(o){if(r-o.ts<300)return o.p;i.delete(a)}const s=`${n}${n.includes("?")?"&":"?"}_ts=${r}`,l=Qe(),c=(async()=>{try{let e=await fetch(s,{headers:{"Cache-Control":"no-cache",...l?{Authorization:`Bearer ${l}`}:{}},credentials:"include"});if(401===e.status&&(null==t?void 0:t.silent401)){const e=new Error("Unauthorized");throw e.status=401,e}if(401===e.status){if(await Ze()){const t=Qe();e=await fetch(s,{headers:{"Cache-Control":"no-cache",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"})}}return await et(e,t)}finally{setTimeout(()=>{i.delete(a)},50)}})();return i.set(a,{p:c,ts:r}),c}async function rt(e,t){const r=`${Je}${e}`,n=Qe();let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"});if(401===a.status){if(await Ze()){const e=Qe();a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"})}}return et(a)}async function nt(e,t){const r=`${Je}${e}`,n=Qe();let a=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"});if(401===a.status){if(await Ze()){const e=Qe();a=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"})}}return et(a)}async function at(e){const t=`${Je}${e}`,r=Qe();let n=await fetch(t,{method:"DELETE",credentials:"include",headers:{...r?{Authorization:`Bearer ${r}`}:{}}});if(401===n.status){if(await Ze()){const e=Qe();n=await fetch(t,{method:"DELETE",credentials:"include",headers:{...e?{Authorization:`Bearer ${e}`}:{}}})}}return et(n)}async function it(e=!0){const t=e?"/banners":"/banners/public";return(await tt(t)).items||[]}function ot(e,t){const r=new Date,n=t.filter(t=>t.posicao===e).filter(e=>"pausado"!==e.status).filter(e=>{const t=e.dataInicio?new Date(e.dataInicio):null,n=e.dataFim?new Date(e.dataFim):null;return!(t&&r<t)&&(!(n&&r>n)&&(!(e.impressoesMax&&e.impressoesAtuais>=e.impressoesMax)&&!(e.cliquesMax&&e.cliquesAtuais>=e.cliquesMax)))}).sort((e,t)=>e.prioridade-t.prioridade);if(!n.length)return null;return n[Math.floor(Date.now()/1e4)%n.length]}function st(){try{const e=JSON.parse(localStorage.getItem("r10.offline.posts2025.v5")||'{"items":[]}');return Array.isArray(e.items)?e.items:[]}catch{return[]}}function lt(e){return{supermanchete:"supermanchete","super-manchete":"supermanchete",super:"supermanchete",destaque:"destaque",destaques:"destaque","manchete-principal":"destaque",geral:"geral",noticia:"geral",noticias:"geral","noticia-comum":"geral",municipios:"municipios",municipio:"municipios","municípios":"municipios"}[String(e||"").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim()]||e}let ct=!1;const ut=(null==(n=null==(r=import.meta)?void 0:r.env)?void 0:n.VITE_API_BASE_URL)||"http://127.0.0.1:3002/api";const dt=e=>{var t;const r=e.publishedAt||e.dataPublicacao||(new Date).toISOString(),n=e.autor||"R10 Piauí",a=e.categoria||"Geral";return{id:(null==(t=e.id)?void 0:t.toString())||"",titulo:e.titulo||"",subtitulo:e.subtitulo||"",chapeu:e.chapeu||"",conteudo:e.conteudo||"",posicao:e.posicao||"noticia-comum",categoria:a,autor:n,dataPublicacao:r,imagemUrl:e.imagemUrl||"",visualizacoes:e.visualizacoes||0,title:e.titulo||"",subtitle:e.subtitulo||"",content:"",author:n,publishDate:r,createdAt:r,updatedAt:r,imagemDestaque:e.imagemUrl||"",subcategorias:[a],status:"published",tags:[a],resumo:e.subtitulo||"",fonte:"R10 Piauí Pulse",views:0,slug:e.slug||`${e.id}-${(e.titulo||"").toLowerCase().replace(/[^a-z0-9]/g,"-")}`}},pt=e=>{const t=e.publishedAt||e.dataPublicacao||(new Date).toISOString(),r=e.autor||"R10 Piauí",n=e.categoria||"Geral";return{id:e.id.toString(),titulo:e.titulo||e.title||"",subtitulo:e.subtitulo||e.subtitle||"",chapeu:e.chapeu||"",conteudo:e.conteudo||e.content||"",posicao:e.posicao||"noticia-comum",categoria:n,autor:r,dataPublicacao:t,imagemUrl:e.imagemUrl||e.imagemDestaque||"",visualizacoes:e.visualizacoes||e.views||0,title:e.titulo||e.title||"",subtitle:e.subtitulo||e.subtitle||"",content:e.conteudo||e.content||"",author:r,publishDate:t,createdAt:t,updatedAt:t,imagemDestaque:e.imagemUrl||e.imagemDestaque||"",subcategorias:[n],status:"published",tags:[n],resumo:e.resumo||"",fonte:"R10 Piauí Pulse",views:e.visualizacoes||e.views||0,slug:e.slug||`${e.id}-${(e.titulo||e.title||"").toLowerCase().replace(/[^a-z0-9]/g,"-")}`}};async function ft(e){const t=Number(e.page),r=Number(e.limit);try{const e=`${`${ut}/posts?page=${t}&limit=${r}`}&_ts=${Date.now()}`,n=await fetch(e,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!n.ok){ct=!0;const e=st(),n=(t-1)*r,a=n+r,i=e.slice(n,a).map(dt),o=e.length;return{items:i,page:t,pages:Math.ceil(o/r),total:o,limit:r}}return function(e){let t=Array.isArray(e)?e:Array.isArray(null==e?void 0:e.items)?e.items:Array.isArray(null==e?void 0:e.posts)?e.posts:Array.isArray(null==e?void 0:e.data)?e.data:[];t=t.map(e=>pt(e));const r=Number((null==e?void 0:e.total)??(null==e?void 0:e.totalPosts)??t.length??0),n=Number((null==e?void 0:e.limit)??(null==e?void 0:e.postsPerPage)??(Array.isArray(e)?e.length:0)??0);return{items:t,page:Number((null==e?void 0:e.page)??(null==e?void 0:e.currentPage)??1),pages:Number((null==e?void 0:e.pages)??(null==e?void 0:e.totalPages)??(n?Math.ceil(r/n):1)),total:r,limit:n}}(await n.json())}catch(n){ct=!0;const e=st(),a=(t-1)*r,i=a+r,o=e.slice(a,i).map(dt),s=e.length;return{items:o,page:t,pages:Math.ceil(s/r),total:s,limit:r}}}async function ht(e){try{const t=new URLSearchParams;(null==e?void 0:e.categoria)&&"todas"!==e.categoria&&t.append("categoria",e.categoria),(null==e?void 0:e.posicao)&&"todas"!==e.posicao&&t.append("posicao",e.posicao),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());const r=`${ut}/posts${t.toString()?"?"+t.toString():""}`,n=`${r}${r.includes("?")?"&":"?"}_ts=${Date.now()}`,a=await fetch(n,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!a.ok)return ct=!0,st().map(dt);const i=await a.json();return Array.isArray(i)?i.map(pt):i.items&&Array.isArray(i.items)?i.items.map(pt):[]}catch(t){return ct=!0,st().map(dt)}}async function mt(e){try{const t=await fetch(`${ut}/posts/${e}?_ts=${Date.now()}&_cache=${Math.random()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}});if(!t.ok){const t=st().find(t=>{var r;return(null==(r=t.id)?void 0:r.toString())===e});return t?dt(t):null}const r=await t.json();return pt(r)}catch(t){const r=st().find(t=>{var r;return(null==(r=t.id)?void 0:r.toString())===e});return r?dt(r):null}}async function gt(e){try{const t=await rt("/posts",e);return pt(t)}catch(t){return null}}async function yt(e,t){try{const r=await nt(`/posts/${e}`,t);return pt(r)}catch(r){return null}}async function vt(e,t){try{let r=await ht({posicao:e,limit:t});const n=lt(e);let a=r.filter(e=>lt(e.posicao||"")===n);return t&&t>0&&(a=a.slice(0,t)),0===a.length&&r.length>0&&(a=t&&t>0?r.slice(0,t):r),a}catch(r){return[]}}async function xt(e){try{let t=await ht();return e&&e>0&&(t=t.slice(0,e)),t}catch(t){return[]}}async function bt(e=5){try{const t=`${ut}/posts/most-read?limit=${e}`,r=await async function(e){const t=`${e}${e.includes("?")?"&":"?"}_ts=${Date.now()}`,r=await fetch(t,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}(t);return(Array.isArray(r)?r:Array.isArray(null==r?void 0:r.items)?r.items:Array.isArray(null==r?void 0:r.posts)?r.posts:[]).map(pt)}catch(t){return[]}}async function jt(){try{(await fetch(`${ut}/health`)).ok}catch(e){}}const wt="r10_users",Nt=e=>{localStorage.setItem("r10_auth",JSON.stringify(e))},Ot=()=>{if((()=>{const e=localStorage.getItem(wt);return e?JSON.parse(e):[]})().length>0)return;const e=[{id:"1",name:"João Silva",email:"joao@r10piaui.com",role:"admin",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()},{id:"2",name:"Maria Santos",email:"maria@r10piaui.com",role:"editor",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()},{id:"3",name:"Carlos Oliveira",email:"carlos@r10piaui.com",role:"reporter",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()}];var t;t=e,localStorage.setItem(wt,JSON.stringify(t))},St=o.createContext(void 0),At=()=>{const e=o.useContext(St);if(!e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},Pt=({children:e})=>{const[t,r]=o.useState(null),[n,a]=o.useState(!1),[i,s]=o.useState(!0);o.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("r10_auth");if(!e)return r(null),a(!1),void s(!1);const t=JSON.parse(e);if(null==t?void 0:t.isAuthenticated){const e=await(async()=>{var e,t;try{const e=await tt("/auth/me",{silent401:!0});return Nt({user:e,isAuthenticated:!0}),e}catch(r){if(401===(null==r?void 0:r.status)||401===(null==(e=null==r?void 0:r.response)?void 0:e.status))return Nt({user:null,isAuthenticated:!1}),null}try{const e=await rt("/auth/refresh");if(e&&e.user){const e=await tt("/auth/me",{silent401:!0});return Nt({user:e,isAuthenticated:!0}),e}}catch(r){401!==(null==r?void 0:r.status)&&401!==(null==(t=null==r?void 0:r.response)?void 0:t.status)||Nt({user:null,isAuthenticated:!1})}return null})();r(e),a(!!e)}else r(null),a(!1)}catch(e){null==e||e.status,r(null),a(!1)}finally{s(!1)}})()},[]);const l={user:t,isAuthenticated:n,isLoading:i,login:async(e,t)=>{s(!0);try{const n=await(async(e,t)=>{try{const n=await fetch(`${Je}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),credentials:"include"});if(n.ok){const e=await n.json(),t={user:e.user,isAuthenticated:!0};try{const t=localStorage.getItem("r10_auth"),r={...t?JSON.parse(t):{},token:(null==e?void 0:e.token)||null,user:e.user,isAuthenticated:!0};localStorage.setItem("r10_auth",JSON.stringify(r))}catch(r){}return Nt(t),t}{const e=await n.text();throw new Error(e||"Erro ao fazer login")}}catch(n){throw n}})(e,t);r(n.user),a(n.isAuthenticated)}catch(n){throw n}finally{s(!1)}},logout:async()=>{s(!0);try{await(async()=>{try{await fetch(`${Je}/auth/logout`,{method:"POST",credentials:"include"})}catch(e){}try{const e=localStorage.getItem("r10_auth"),t={...e?JSON.parse(e):{},token:null};localStorage.setItem("r10_auth",JSON.stringify(t))}catch(e){}Nt({user:null,isAuthenticated:!1})})(),r(null),a(!1)}catch(e){throw e}finally{s(!1)}}};return Ye.jsx(St.Provider,{value:l,children:e})},kt="r10_homepage_layout",Et=[{id:"superManchete",name:"Super Manchete",enabled:!0},{id:"destaques",name:"Destaques (Hero Grid)",enabled:!0},{id:"noticiasGerais",name:"Notícias Gerais (com Banner)",enabled:!0},{id:"maisLidas",name:"Mais Lidas",enabled:!0},{id:"reacoes",name:"Reações dos Leitores",enabled:!0},{id:"r10Play",name:"R10 Play",enabled:!0},{id:"municipios",name:"Municípios",enabled:!0}],Tt=()=>{try{const e=localStorage.getItem(kt);if(e){const t=JSON.parse(e),r=new Set(t.map(e=>e.id)),n=Et.filter(e=>!r.has(e.id));return[...t.map(e=>({...Et.find(t=>t.id===e.id),...e})),...n]}return Et}catch(e){return Et}},Ct="r10_hero_grid_layout",Mt={original:{id:"original",name:"Layout Original",description:"Layout clássico com supermanchete + grid lateral",icon:"📰",component:"HeroGrid"},vertical:{id:"vertical",name:"Layout Vertical",description:"Manchete principal em destaque total + grid horizontal de 4 notícias",icon:"📋",component:"HeroGridVertical"},mosaico:{id:"mosaico",name:"Layout Mosaico",description:"Grid assimétrico estilo revista 2/3 + 1/3 + linha inferior",icon:"🎨",component:"HeroGridMosaico"},premium:{id:"premium",name:"Layout Premium",description:"Design magazine profissional com hero gigante + seção trending",icon:"🏆",component:"HeroGridPremium"}},_t=()=>{try{return localStorage.getItem(Ct)||"original"}catch(e){return"original"}},It=({notifications:e=0})=>{const{user:t,logout:r}=At(),n=s(),[a,i]=o.useState(!1),l=o.useRef(null);return o.useEffect(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),Ye.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200",children:Ye.jsx("div",{className:"max-w-[1250px] mx-auto px-6 py-6",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("div",{className:"flex items-center space-x-6",children:Ye.jsxs("div",{children:[Ye.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:["Bom dia, ",(null==t?void 0:t.name.split(" ")[0])||"João","! 👋"]}),Ye.jsx("p",{className:"text-gray-600 mt-1",children:"Aqui está o resumo das suas atividades"})]})}),Ye.jsxs("div",{className:"flex items-center space-x-4",children:[Ye.jsxs("div",{className:"relative",ref:l,children:[Ye.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-xl border border-gray-200 p-2 shadow-sm",children:[Ye.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200 group",title:"Ver Site Principal",children:[Ye.jsx(m,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm font-medium",children:"Site"}),Ye.jsx(g,{className:"w-3 h-3 opacity-50 group-hover:opacity-100"})]}),Ye.jsx("div",{className:"w-px h-6 bg-gray-200"}),Ye.jsx("button",{onClick:()=>i(!a),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200",title:"Mais Links",children:Ye.jsx(y,{className:"w-4 h-4 transition-transform duration-200 "+(a?"rotate-180":"")})})]}),a&&Ye.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl border border-gray-200 shadow-lg z-50",children:Ye.jsxs("div",{className:"p-2",children:[Ye.jsxs("a",{href:"/admin/nova-materia",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Ye.jsx(v,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm",children:"Nova Matéria"})]}),Ye.jsxs("a",{href:"/",target:"_blank",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Ye.jsx(m,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm",children:"Homepage"}),Ye.jsx(g,{className:"w-3 h-3 ml-auto"})]}),Ye.jsxs("a",{href:"/admin",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Ye.jsx(x,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm",children:"Dashboard"})]})]})})]}),Ye.jsx("div",{className:"relative",children:Ye.jsxs("button",{className:"p-3 bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",children:[Ye.jsx(x,{className:"w-5 h-5 text-gray-600"}),e>0&&Ye.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:e})]})}),Ye.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-xl p-2 border border-gray-200",children:[Ye.jsx("img",{src:(null==t?void 0:t.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:"Avatar",className:"w-10 h-10 rounded-xl border-2 border-white shadow-sm"}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-semibold text-gray-900 text-base",children:(null==t?void 0:t.name)||"Usuário"}),Ye.jsx("p",{className:"text-sm text-gray-500",children:"admin"===(null==t?void 0:t.role)?"Administrador":"editor"===(null==t?void 0:t.role)?"Editor":"reporter"===(null==t?void 0:t.role)?"Repórter":"Usuário"})]})]}),Ye.jsx("button",{onClick:async()=>{try{await r(),n("/login")}catch(e){}},className:"p-3 bg-red-50 text-red-600 hover:bg-red-100 rounded-xl transition-all duration-200 flex items-center space-x-2",title:"Sair",children:Ye.jsx(b,{className:"w-5 h-5"})})]})]})})})},Dt={"SUPER MANCHETE":1,DESTAQUE:2,GERAL:4,MUNICIPIOS:5},Rt=(e,t)=>{if("DESTAQUE"!==Lt(e.posicao))return!1;const r=t.filter(e=>"DESTAQUE"===Lt(e.posicao)).sort((e,t)=>{const r=new Date(e.dataPublicacao||e.publishedAt||0);return new Date(t.dataPublicacao||t.publishedAt||0).getTime()-r.getTime()});return r.length>0&&r[0].id===e.id},Lt=e=>{if(!e)return"GERAL";const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"SUPER MANCHETE":"destaque"===t||t.includes("destaque")?"DESTAQUE":t.includes("municip")?"MUNICIPIOS":"GERAL"},Bt=()=>{const[e,t]=o.useState([]),[r,n]=o.useState([]),[a,i]=o.useState(""),[s,c]=o.useState("todas"),[u,d]=o.useState("todas"),[p,f]=o.useState("todos"),[h,m]=o.useState(!0),{user:g}=At(),y="admin"===(null==g?void 0:g.role)||"editor"===(null==g?void 0:g.role),x="admin"===(null==g?void 0:g.role)||"editor"===(null==g?void 0:g.role),b="admin"===(null==g?void 0:g.role),E=async()=>{try{m(!0);const r=await ht(),a=(e=r,Array.isArray(e)?e:(null==e?void 0:e.posts)&&Array.isArray(e.posts)?e.posts:(null==e?void 0:e.items)&&Array.isArray(e.items)?e.items:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:[]);t(a),n(a)}catch(r){t([]),n([])}finally{m(!1)}var e};o.useEffect(()=>{E()},[]),o.useEffect(()=>{const e=()=>{E()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);const T=async(e,t)=>{try{const r=(e=>{const t=(e||"").toLowerCase();return t.includes("polici")||t.includes("segur")||t.includes("crime")||t.includes("violenc")?"policia":t.includes("politic")||t.includes("eleic")||t.includes("governo")||t.includes("prefeito")||t.includes("vereador")||t.includes("deputado")?"política":t.includes("esport")||t.includes("futebol")||t.includes("campeonato")||t.includes("jogo")||t.includes("copa")||t.includes("time")?"esporte":t.includes("entret")||t.includes("cultura")||t.includes("festival")||t.includes("show")||t.includes("cinema")||t.includes("música")||t.includes("arte")?"entretenimento":"geral"})(e.categoria),n=await fetch("http://localhost:8080/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.titulo,hat:e.chapeu||"",imageUrl:e.imagemUrl||"https://picsum.photos/1080/"+("story"===t?"1920":"1350"),categoria:r,type:"story"===t?"story":"card"})});if(!n.ok)throw new Error("Erro na resposta do servidor");{const r=await n.json();if(r.ok&&r.preview){const n=`🚨 ${e.chapeu||""} em Piauí! 🚨\n\n${e.titulo}\n\n${e.conteudo?e.conteudo.substring(0,120)+"...":""}\n\nComo isso impacta nossa região?\n\n📍 Leia a notícia completa em www.r10piaui.com ou clique no link da bio.\n🔴 R10 Piauí – Qualidade em Primeiro Lugar.\n\n#R10PiauiPulse #Piauí #Notícias #${(e.chapeu||"").replace(/[ÃÁÀ]/g,"A")}`,a=window.open("","_blank","width=700,height=900");a&&a.document.write(`\n              <html>\n                <head>\n                  <title>Preview - ${"story"===t?"Story":"Feed"} Instagram</title>\n                  <style>\n                    body { \n                      margin: 0; \n                      padding: 20px; \n                      background: #f0f0f0; \n                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    }\n                    .container { \n                      max-width: 600px; \n                      margin: 0 auto; \n                      background: white; \n                      border-radius: 12px; \n                      overflow: hidden; \n                      box-shadow: 0 8px 32px rgba(0,0,0,0.1);\n                    }\n                    .header { \n                      background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045); \n                      color: white; \n                      padding: 20px; \n                      text-align: center; \n                    }\n                    .header h2 { \n                      margin: 0; \n                      font-size: 24px; \n                      font-weight: 600; \n                    }\n                    .image-container { \n                      text-align: center; \n                      padding: 20px; \n                    }\n                    .preview-image { \n                      max-width: 100%; \n                      height: auto; \n                      border-radius: 8px; \n                      box-shadow: 0 4px 12px rgba(0,0,0,0.2); \n                    }\n                    .legend-section { \n                      padding: 20px; \n                      background: #f8f9fa; \n                      border-top: 1px solid #e9ecef; \n                    }\n                    .legend-title { \n                      font-size: 18px; \n                      font-weight: 600; \n                      color: #333; \n                      margin-bottom: 12px; \n                      display: flex; \n                      align-items: center; \n                    }\n                    .legend-text { \n                      background: white; \n                      padding: 15px; \n                      border-radius: 8px; \n                      border-left: 4px solid #e53935; \n                      white-space: pre-wrap; \n                      font-family: monospace; \n                      font-size: 14px; \n                      line-height: 1.4; \n                      color: #333; \n                      max-height: 200px; \n                      overflow-y: auto; \n                    }\n                    .actions { \n                      padding: 20px; \n                      text-align: center; \n                      background: white; \n                    }\n                    .publish-btn { \n                      background: linear-gradient(135deg, #833ab4, #fd1d1d); \n                      color: white; \n                      border: none; \n                      padding: 12px 24px; \n                      font-size: 16px; \n                      font-weight: 600; \n                      border-radius: 8px; \n                      cursor: pointer; \n                      transition: all 0.3s; \n                      box-shadow: 0 4px 12px rgba(0,0,0,0.2); \n                    }\n                    .publish-btn:hover { \n                      transform: translateY(-2px); \n                      box-shadow: 0 6px 16px rgba(0,0,0,0.3); \n                    }\n                    .publish-btn:active { \n                      transform: translateY(0); \n                    }\n                    .copy-btn { \n                      background: #28a745; \n                      color: white; \n                      border: none; \n                      padding: 8px 16px; \n                      font-size: 14px; \n                      border-radius: 6px; \n                      cursor: pointer; \n                      margin-left: 10px; \n                    }\n                  </style>\n                </head>\n                <body>\n                  <div class="container">\n                    <div class="header">\n                      <h2>🎨 ${"story"===t?"Instagram Story":"Instagram Feed"}</h2>\n                    </div>\n                    \n                    <div class="image-container">\n                      <img src="${r.preview}" alt="Instagram ${t}" class="preview-image" />\n                    </div>\n                    \n                    <div class="legend-section">\n                      <div class="legend-title">\n                        📝 Legenda do Post:\n                      </div>\n                      <div class="legend-text" id="legend-text">${n}</div>\n                    </div>\n                    \n                    <div class="actions">\n                      <button class="publish-btn" onclick="publishToInstagram()">\n                        📱 Publicar no Instagram\n                      </button>\n                      <button class="copy-btn" onclick="copyLegend()">\n                        📋 Copiar Legenda\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <script>\n                    async function publishToInstagram() {\n                      const btn = document.querySelector('.publish-btn');\n                      const originalText = btn.textContent;\n                      \n                      try {\n                        btn.textContent = '📤 Publicando...';\n                        btn.disabled = true;\n                        \n                        const response = await fetch('http://localhost:8080/api/social/instagram/publish', {\n                          method: 'POST',\n                          headers: { 'Content-Type': 'application/json' },\n                          body: JSON.stringify({\n                            titulo: '${e.titulo.replace(/'/g,"\\'")}',\n                            chapeu: '${(e.chapeu||"").replace(/'/g,"\\'")}',\n                            conteudo: '${e.conteudo.replace(/'/g,"\\'").substring(0,200)}',\n                            imageUrl: '${e.imagemUrl||""}',\n                            legenda: \`${n.replace(/'/g,"\\'")}\`\n                          })\n                        });\n                        \n                        const result = await response.json();\n                        \n                        if (result.success || result.ok) {\n                          btn.textContent = '✅ Publicado!';\n                          btn.style.background = '#28a745';\n                          setTimeout(() => {\n                            alert('Post publicado com sucesso no Instagram!');\n                          }, 500);\n                        } else {\n                          throw new Error(result.message || 'Erro ao publicar');\n                        }\n                        \n                      } catch (error) {\n                        console.error('Erro:', error);\n                        btn.textContent = '❌ Erro';\n                        btn.style.background = '#dc3545';\n                        alert('Erro ao publicar: ' + error.message);\n                        \n                        setTimeout(() => {\n                          btn.textContent = originalText;\n                          btn.style.background = 'linear-gradient(135deg, #833ab4, #fd1d1d)';\n                          btn.disabled = false;\n                        }, 2000);\n                      }\n                    }\n                    \n                    function copyLegend() {\n                      const legendText = document.getElementById('legend-text').textContent;\n                      navigator.clipboard.writeText(legendText).then(() => {\n                        const btn = event.target;\n                        const originalText = btn.textContent;\n                        btn.textContent = '✅ Copiado!';\n                        setTimeout(() => {\n                          btn.textContent = originalText;\n                        }, 2000);\n                      });\n                    }\n                  <\/script>\n                </body>\n              </html>\n            `)}}}catch(r){alert(`Erro ao gerar ${t} Instagram: ${r.message}`)}};o.useEffect(()=>{let t=[...e];a&&(t=t.filter(e=>{var t,r;return e.titulo.toLowerCase().includes(a.toLowerCase())||(null==(t=e.subtitulo)?void 0:t.toLowerCase().includes(a.toLowerCase()))||(null==(r=e.chapeu)?void 0:r.toLowerCase().includes(a.toLowerCase()))||e.conteudo.toLowerCase().includes(a.toLowerCase())})),"todas"!==s&&(t=t.filter(e=>e.categoria===s)),"todas"!==u&&(t=t.filter(e=>e.posicao===u)),"todos"!==p&&(t=t.filter(e=>e.autor===p));const r=((e,t)=>[...e].sort((r,n)=>{const a=Dt[Lt(r.posicao)],i=Dt[Lt(n.posicao)];if(a!==i)return a-i;if("DESTAQUE"===Lt(r.posicao)&&"DESTAQUE"===Lt(n.posicao)){const t=Rt(r,e),a=Rt(n,e);if(t&&!a)return-1;if(!t&&a)return 1}if("title"===t)return r.titulo.localeCompare(n.titulo,"pt-BR");const o=new Date(r.dataPublicacao||0);return new Date(n.dataPublicacao||0).getTime()-o.getTime()}))(t,"date");n(r)},[e,a,s,u,p]);const C=async e=>{if(window.confirm("Tem certeza que deseja excluir esta matéria?"))try{await async function(e){try{return await at(`/posts/${e}`),!0}catch(t){return!1}}(e),t(t=>t.filter(t=>t.id!==e)),alert("Matéria excluída com sucesso!")}catch(r){alert("Erro ao excluir matéria")}},M=Array.from(new Set(e.map(e=>e.autor))),_=Array.from(new Set(e.map(e=>e.categoria)));return h?Ye.jsx("div",{className:"flex justify-center items-center h-64",children:Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciador de Matérias"}),Ye.jsxs("p",{className:"text-gray-600",children:["Total de ",r.length," matérias"]}),Ye.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"✨ Ordenação: Super Manchete → Destaque → Demais (por data)"})]}),Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsxs("button",{onClick:E,disabled:h,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(j,{className:"w-4 h-4 "+(h?"animate-spin":"")}),Ye.jsx("span",{children:"Atualizar"})]}),y&&Ye.jsxs(l,{to:"/admin/nova-materia",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(w,{className:"w-5 h-5"}),Ye.jsx("span",{children:"Nova Matéria"})]})]})]}),Ye.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Ye.jsxs("div",{className:"relative",children:[Ye.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),Ye.jsx("input",{type:"text",placeholder:"Buscar matérias...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("select",{value:s,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Ye.jsx("option",{value:"todas",children:"Todas as categorias"},"todas"),_.map(e=>Ye.jsx("option",{value:e,children:e},e))]}),Ye.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Ye.jsx("option",{value:"todas",children:"Todas as posições"},"todas"),Ye.jsx("option",{value:"supermanchete",children:"Super Manchete"},"supermanchete"),Ye.jsx("option",{value:"manchete-principal",children:"Manchete Principal"},"manchete-principal"),Ye.jsx("option",{value:"destaque-principal",children:"Destaque Principal"},"destaque-principal"),Ye.jsx("option",{value:"destaque-secundario",children:"Destaque Secundário"},"destaque-secundario"),Ye.jsx("option",{value:"noticia-comum",children:"Notícia Comum"},"noticia-comum")]}),Ye.jsxs("select",{value:p,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Ye.jsx("option",{value:"todos",children:"Todos os autores"},"todos"),M.map(e=>Ye.jsx("option",{value:e,children:e},e))]})]})}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[Ye.jsxs("table",{className:"min-w-full",children:[Ye.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",style:{width:"60%"},children:"MATÉRIA"}),Ye.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide hidden sm:table-cell",style:{width:"12%"},children:"DATA"}),Ye.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",style:{width:"16%"},children:"POSIÇÃO"}),Ye.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide hidden md:table-cell",style:{width:"12%"},children:"CATEGORIA"})]})}),Ye.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map(e=>{return Ye.jsxs("tr",{className:`transition-colors ${(e=>{const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"bg-red-50 hover:bg-red-100":"destaque"===t||t.includes("destaque")?"bg-orange-50 hover:bg-orange-100":"hover:bg-gray-50"})(e.posicao)}`,children:[Ye.jsx("td",{className:"px-6 py-4",style:{width:"60%"},children:Ye.jsxs("div",{className:"flex items-start space-x-4",children:[Ye.jsx("div",{className:"flex-shrink-0",children:e.imagemUrl?Ye.jsx("img",{src:e.imagemUrl,alt:e.titulo,className:"w-16 h-16 rounded-lg object-cover shadow-sm"}):Ye.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center",children:Ye.jsx(v,{className:"w-6 h-6 text-gray-400"})})}),Ye.jsxs("div",{className:"flex-1 min-w-0",children:[Ye.jsx("div",{className:"mb-1",children:Ye.jsx("button",{onClick:()=>window.location.href=`/admin/editar-materia/${e.id}`,className:"text-base font-semibold leading-tight text-gray-900 hover:text-gray-700 text-left",children:e.titulo})}),Ye.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[Ye.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["por ",e.autor]}),Ye.jsxs("div",{className:"flex items-center space-x-1",children:[Ye.jsxs("button",{onClick:()=>T(e,"feed"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded hover:from-purple-600 hover:to-pink-600 transition-all",title:"Gerar Instagram Feed",children:[Ye.jsx(O,{className:"w-3 h-3 mr-1"}),"Feed"]}),Ye.jsxs("button",{onClick:()=>T(e,"story"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded hover:from-orange-600 hover:to-red-600 transition-all",title:"Gerar Instagram Story",children:[Ye.jsx(S,{className:"w-3 h-3 mr-1"}),"Story"]}),Ye.jsx("a",{href:`/post/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 text-xs font-medium text-green-600 bg-green-100 rounded hover:bg-green-200 transition-colors",title:"Ver Artigo",children:Ye.jsx(A,{className:"w-3 h-3"})}),x&&Ye.jsx(l,{to:`/admin/editar-materia/${e.id}`,className:"inline-flex items-center p-1 text-xs font-medium text-blue-600 bg-blue-100 rounded hover:bg-blue-200 transition-colors",title:"Editar",children:Ye.jsx(P,{className:"w-3 h-3"})}),b&&Ye.jsx("button",{onClick:()=>C(e.id),className:"inline-flex items-center p-1 text-xs font-medium text-red-600 bg-red-100 rounded hover:bg-red-200 transition-colors",title:"Excluir",children:Ye.jsx(k,{className:"w-3 h-3"})})]})]})]})]})}),Ye.jsx("td",{className:"px-3 py-4 text-xs text-gray-600 align-top hidden sm:table-cell",style:{width:"12%"},children:Ye.jsx("div",{className:"whitespace-nowrap",children:(t=e.publishedAt||e.dataPublicacao,new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))})}),Ye.jsx("td",{className:"px-3 py-4 align-top",style:{width:"16%"},children:(()=>{const t=(e=>{switch(Lt(e)){case"SUPER MANCHETE":return{text:"SUPER MANCHETE",className:"bg-red-100 text-red-800 border-red-200 font-bold"};case"DESTAQUE":return{text:"DESTAQUE",className:"bg-orange-100 text-orange-800 border-orange-200 font-semibold"};case"MUNICIPIOS":return{text:"MUNICÍPIOS",className:"bg-blue-100 text-blue-800 border-blue-200"};default:return null}})(e.posicao);return t?Ye.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full border ${t.className} whitespace-nowrap`,children:t.text}):Ye.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full whitespace-nowrap",children:e.posicao})})()}),Ye.jsx("td",{className:"px-3 py-4 align-top hidden md:table-cell",style:{width:"12%"},children:Ye.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded whitespace-nowrap",children:e.categoria})})]},e.id);var t})})]}),0===r.length&&Ye.jsxs("div",{className:"text-center py-12",children:[Ye.jsx(v,{className:"mx-auto h-12 w-12 text-gray-400"}),Ye.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma matéria encontrada"}),Ye.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a||"todas"!==s||"todas"!==u||"todos"!==p?"Tente ajustar os filtros para encontrar matérias.":"Comece criando uma nova matéria."}),y&&!a&&"todas"===s&&"todas"===u&&"todos"===p&&Ye.jsx("div",{className:"mt-6",children:Ye.jsxs(l,{to:"/admin/nova-materia",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[Ye.jsx(w,{className:"w-4 h-4 mr-2"}),"Nova Matéria"]})})]})]})]})},zt="r10_media",$t=()=>{const e=localStorage.getItem(zt);return e?JSON.parse(e):[]},qt=async e=>{const t=$t(),r=t.filter(t=>t.id!==e);return r.length===t.length?Promise.resolve(!1):(n=r,localStorage.setItem(zt,JSON.stringify(n)),new Promise(e=>{setTimeout(()=>e(!0),300)}));var n},Ut=({initialFilter:e,onSelect:t,selectable:r=!1})=>{const[n,a]=o.useState([]),[i,s]=o.useState(!0),[l,c]=o.useState(null),[u,d]=o.useState(e||{}),[p,f]=o.useState([]),[h,m]=o.useState("grid"),[g,y]=o.useState(1),[v,x]=o.useState(1),[b,j]=o.useState(""),[w,O]=o.useState(!1),[S,q]=o.useState(null),[U,F]=o.useState(null);o.useEffect(()=>{(async()=>{s(!0);try{const e=await(async e=>{let t=$t();if(e){if(e.type&&(t=t.filter(t=>t.type===e.type)),e.searchTerm){const r=e.searchTerm.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(r)||e.tags.some(e=>e.toLowerCase().includes(r)))}e.tags&&e.tags.length>0&&(t=t.filter(t=>e.tags.some(e=>t.tags.includes(e))))}return new Promise(e=>{setTimeout(()=>e(t),300)})})(u),t=12*(g-1),r=e.slice(t,t+12);a(r),x(Math.ceil(e.length/12))}catch(e){c("Erro ao carregar mídia")}finally{s(!1)}})()},[u,g]);const G=()=>{d(e=>({...e,searchTerm:b})),y(1)},V=e=>{d(t=>({...t,type:e})),y(1)},W=e=>{if(r&&t){const r=n.find(t=>t.id===e);return void(r&&t(r))}f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},H=async e=>{if(window.confirm("Tem certeza que deseja excluir este arquivo?"))try{await qt(e),a(t=>t.filter(t=>t.id!==e)),f(t=>t.filter(t=>t!==e))}catch(t){c("Erro ao excluir arquivo")}},X=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},K=e=>{switch(e){case"image":return Ye.jsx(T,{className:"w-6 h-6"});case"video":return Ye.jsx(C,{className:"w-6 h-6"});case"audio":return Ye.jsx(M,{className:"w-6 h-6"});default:return Ye.jsx(_,{className:"w-6 h-6"})}},Y=e=>{switch(e){case"image":return"bg-blue-100 text-blue-600";case"video":return"bg-purple-100 text-purple-600";case"audio":return"bg-green-100 text-green-600";case"document":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}};return i&&0===n.length?Ye.jsx("div",{className:"flex justify-center items-center h-64",children:Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"})}):l&&0===n.length?Ye.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:[Ye.jsx("p",{children:l}),Ye.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar novamente"})]}):Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Biblioteca de Mídia"}),Ye.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie imagens, vídeos, áudios e documentos"})]}),Ye.jsxs("button",{onClick:()=>O(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[Ye.jsx(E,{className:"w-5 h-5"}),"Upload"]})]}),Ye.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-white rounded-2xl shadow-lg border border-gray-100 p-4",children:[Ye.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ye.jsx("button",{onClick:()=>V(void 0),className:"px-4 py-2 rounded-lg transition-colors "+(u.type?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-purple-600 text-white"),children:"Todos"}),Ye.jsx("button",{onClick:()=>V("image"),className:"px-4 py-2 rounded-lg transition-colors "+("image"===u.type?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(T,{className:"w-4 h-4"}),"Imagens"]})}),Ye.jsx("button",{onClick:()=>V("video"),className:"px-4 py-2 rounded-lg transition-colors "+("video"===u.type?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(C,{className:"w-4 h-4"}),"Vídeos"]})}),Ye.jsx("button",{onClick:()=>V("audio"),className:"px-4 py-2 rounded-lg transition-colors "+("audio"===u.type?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(M,{className:"w-4 h-4"}),"Áudios"]})}),Ye.jsx("button",{onClick:()=>V("document"),className:"px-4 py-2 rounded-lg transition-colors "+("document"===u.type?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(_,{className:"w-4 h-4"}),"Documentos"]})})]}),Ye.jsxs("div",{className:"flex w-full md:w-auto items-center gap-2",children:[Ye.jsxs("div",{className:"relative flex-grow",children:[Ye.jsx("input",{type:"text",placeholder:"Buscar arquivos...",value:b,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyDown:e=>"Enter"===e.key&&G()}),Ye.jsx("button",{onClick:G,className:"absolute inset-y-0 right-0 px-3 flex items-center bg-gray-100 rounded-r-lg border-l border-gray-300",children:Ye.jsx(N,{className:"w-5 h-5 text-gray-500"})})]}),Ye.jsx("button",{className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:Ye.jsx(I,{className:"w-5 h-5 text-gray-700"})}),Ye.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[Ye.jsx("button",{onClick:()=>m("grid"),className:"p-2 "+("grid"===h?"bg-gray-200":"bg-white hover:bg-gray-100"),children:Ye.jsx(D,{className:"w-5 h-5 text-gray-700"})}),Ye.jsx("button",{onClick:()=>m("list"),className:"p-2 "+("list"===h?"bg-gray-200":"bg-white hover:bg-gray-100"),children:Ye.jsx(R,{className:"w-5 h-5 text-gray-700"})})]})]})]}),p.length>0&&Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[Ye.jsxs("p",{className:"text-blue-700",children:[Ye.jsx("span",{className:"font-bold",children:p.length})," arquivos selecionados"]}),Ye.jsxs("div",{className:"flex space-x-2",children:[Ye.jsxs("button",{onClick:async()=>{if(0!==p.length&&window.confirm(`Tem certeza que deseja excluir ${p.length} arquivos?`))try{for(const e of p)await qt(e);a(e=>e.filter(e=>!p.includes(e.id))),f([])}catch(e){c("Erro ao excluir arquivos")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[Ye.jsx(k,{className:"w-4 h-4"}),"Excluir selecionados"]}),Ye.jsx("button",{onClick:()=>f([]),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]}),"grid"===h&&Ye.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:0===n.length?Ye.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"Nenhum arquivo encontrado"}):n.map(e=>Ye.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden shadow-sm hover:shadow-md transition-shadow "+(p.includes(e.id)?"ring-2 ring-purple-500":""),children:[Ye.jsxs("div",{className:"aspect-square relative cursor-pointer",onClick:()=>W(e.id),children:["image"===e.type?Ye.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.title,className:"w-full h-full object-cover"}):Ye.jsx("div",{className:`w-full h-full flex items-center justify-center ${Y(e.type)}`,children:K(e.type)}),p.includes(e.id)&&Ye.jsx("div",{className:"absolute inset-0 bg-purple-500 bg-opacity-20 flex items-center justify-center",children:Ye.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:Ye.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:Ye.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),Ye.jsxs("div",{className:"p-3",children:[Ye.jsx("h3",{className:"font-medium text-gray-900 truncate text-sm",children:e.title}),Ye.jsx("p",{className:"text-xs text-gray-500",children:X(e.fileSize)})]}),Ye.jsxs("div",{className:"px-3 pb-3 flex justify-between",children:[Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(A,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(L,{className:"w-4 h-4"})})]}),Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",children:Ye.jsx(P,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:t=>{t.stopPropagation(),H(e.id)},children:Ye.jsx(k,{className:"w-4 h-4"})})]})]})]},e.id))}),"list"===h&&Ye.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:Ye.jsxs("table",{className:"w-full",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-4 py-4",children:Ye.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:p.length===n.length&&n.length>0,onChange:()=>{p.length===n.length?f([]):f(n.map(e=>e.id))}})}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Arquivo"}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamanho"}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviado por"}),Ye.jsx("th",{className:"px-4 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),Ye.jsx("tbody",{className:"divide-y divide-gray-100",children:0===n.length?Ye.jsx("tr",{children:Ye.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum arquivo encontrado"})}):n.map(e=>Ye.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[Ye.jsx("td",{className:"px-4 py-3 text-center",children:Ye.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:p.includes(e.id),onChange:()=>W(e.id)})}),Ye.jsx("td",{className:"px-4 py-3",children:Ye.jsxs("div",{className:"flex items-center",children:[Ye.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3",children:"image"===e.type?Ye.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.title,className:"w-10 h-10 rounded object-cover"}):Ye.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${Y(e.type)}`,children:K(e.type)})}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-medium text-gray-900",children:e.title}),Ye.jsx("p",{className:"text-xs text-gray-500",children:e.alt||e.title})]})]})}),Ye.jsx("td",{className:"px-4 py-3 text-gray-700",children:Ye.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Y(e.type)}`,children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})}),Ye.jsx("td",{className:"px-4 py-3 text-gray-700",children:X(e.fileSize)}),Ye.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.uploadedBy}),Ye.jsx("td",{className:"px-4 py-3 text-center",children:Ye.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(A,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(L,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",children:Ye.jsx(P,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:()=>H(e.id),children:Ye.jsx(k,{className:"w-4 h-4"})})]})})]},e.id))})]})}),v>1&&Ye.jsx("div",{className:"flex justify-center mt-6",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("button",{onClick:()=>y(e=>Math.max(e-1,1)),disabled:1===g,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:Ye.jsx(B,{className:"w-5 h-5 text-gray-600"})}),Array.from({length:v},(e,t)=>t+1).map(e=>Ye.jsx("button",{onClick:()=>y(e),className:"w-10 h-10 rounded-lg "+(g===e?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)),Ye.jsx("button",{onClick:()=>y(e=>Math.min(e+1,v)),disabled:g===v,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:Ye.jsx(z,{className:"w-5 h-5 text-gray-600"})})]})}),w&&Ye.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full",children:[Ye.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Ye.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upload de Arquivo"}),Ye.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:Ye.jsx($,{className:"w-6 h-6"})})]}),Ye.jsxs("div",{className:"p-6",children:[Ye.jsxs("div",{className:"mb-6",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um arquivo"}),Ye.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[U?Ye.jsxs("div",{className:"flex flex-col items-center",children:[Ye.jsx("img",{src:U,alt:"Preview",className:"max-h-40 mb-4 rounded"}),Ye.jsx("p",{className:"text-sm text-gray-500",children:null==S?void 0:S.name})]}):Ye.jsxs("div",{className:"flex flex-col items-center",children:[Ye.jsx(E,{className:"w-12 h-12 text-gray-400 mb-2"}),Ye.jsx("p",{className:"text-gray-500",children:"Arraste um arquivo ou clique para selecionar"})]}),Ye.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)if(q(r),r.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{var t;F(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(r)}else F(null)}})]})]}),Ye.jsxs("div",{className:"mb-6",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),Ye.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Digite um título para o arquivo"})]}),Ye.jsxs("div",{className:"mb-6",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto alternativo"}),Ye.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Descreva o conteúdo do arquivo (para acessibilidade)"})]})]}),Ye.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[Ye.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),Ye.jsx("button",{onClick:async()=>{O(!1),q(null),F(null)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",disabled:!S,children:"Fazer Upload"})]})]})})]})},Ft=()=>{const[e,t]=o.useState(""),[r,n]=o.useState(""),[a,i]=o.useState(""),[s,l]=o.useState(null),[c,u]=o.useState(""),[d,p]=o.useState(!1),[f,h]=o.useState(!1),[m,y]=o.useState([]),[v,x]=o.useState(!1);o.useEffect(()=>{b()},[]);const b=()=>{const e=localStorage.getItem("r10_instagram_posts");if(e)try{y(JSON.parse(e))}catch(t){}},w=e=>{const t=[e,...m.slice(0,9)];y(t),localStorage.setItem("r10_instagram_posts",JSON.stringify(t))};async function N(){if(e.trim()){h(!0);try{const t=await fetch("http://localhost:8080/api/social/generate-caption",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r})}),n=await t.json();n.ok&&n.caption?u(n.caption):u(`${e}\n\n📰 Confira mais notícias em R10piaui.com\n\n#R10Piauí #Notícias #Piauí`)}catch(t){u(`${e}\n\n📰 Confira mais notícias em R10piaui.com\n\n#R10Piauí #Notícias #Piauí`)}finally{h(!1)}}}return Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[Ye.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:Ye.jsx(O,{className:"w-6 h-6 text-white"})}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gerador de Cards Instagram"}),Ye.jsx("p",{className:"text-gray-600 text-sm",children:"Crie e publique cards automaticamente com IA"})]}),Ye.jsxs("button",{onClick:()=>x(!v),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[Ye.jsx(q,{className:"w-4 h-4"}),"Histórico (",m.length,")"]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapéu"}),Ye.jsx("input",{value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ex.: POLÍCIA"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),Ye.jsx("textarea",{value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Digite o título da notícia",required:!0})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem (opcional)"}),Ye.jsx("input",{value:a,onChange:e=>i(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.jpg"}),Ye.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se não informada, será usada uma imagem aleatória"})]}),Ye.jsxs("div",{className:"flex gap-3",children:[Ye.jsxs("button",{onClick:async function(){if(e.trim()){p(!0);try{const t=await fetch("http://localhost:8080/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r||"NOTÍCIA",imageUrl:a||"https://picsum.photos/1080/1350"})}),n=await t.json();n.ok?(l(n.preview),c||await N()):alert("Erro ao gerar preview: "+JSON.stringify(n.error))}catch(t){alert("Erro: "+t)}finally{p(!1)}}else alert("Por favor, digite um título")},disabled:d||!e.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d?Ye.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):Ye.jsx(A,{className:"w-4 h-4"}),d?"Gerando...":"Gerar Preview"]}),Ye.jsxs("button",{onClick:async function(){if(!s)return void alert("Gere um preview primeiro");if(!c.trim())return void alert("Por favor, adicione uma legenda");p(!0);const a=(new Date).toISOString();try{const o=await fetch("http://localhost:8080/api/social/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r,caption:c})}),s=await o.json();if(s.ok&&s.postId){const r={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:s.postId,publishedAt:a,status:"success"};w(r),alert(`✅ Publicado no Instagram com sucesso!\n\nID: ${s.postId}\nTítulo: ${e}`),t(""),n(""),i(""),l(null),u("")}else{const t={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:"ERRO",publishedAt:a,status:"error"};w(t),alert("❌ Falha na publicação: "+JSON.stringify(s.error||s))}}catch(o){const t={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:"ERRO",publishedAt:a,status:"error"};w(t),alert("❌ Erro: "+o)}finally{p(!1)}},disabled:d||!s,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d?Ye.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):Ye.jsx(O,{className:"w-4 h-4"}),d?"Publicando...":"Publicar"]})]})]}),Ye.jsx("div",{className:"space-y-4",children:s?Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview do Card"}),Ye.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:Ye.jsx("img",{src:s,alt:"Preview do card",className:"w-64 mx-auto rounded-lg shadow-lg"})}),Ye.jsxs("div",{className:"mt-4",children:[Ye.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Legenda"}),Ye.jsxs("button",{onClick:N,disabled:f||!e.trim(),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50 transition-colors",children:[f?Ye.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t border-b border-blue-700"}):Ye.jsx(j,{className:"w-3 h-3"}),f?"Gerando...":"IA"]})]}),Ye.jsx("textarea",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Legenda será gerada automaticamente..."}),Ye.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length," caracteres"]})]})]}):Ye.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[Ye.jsx(S,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Ye.jsx("p",{className:"text-gray-500",children:'Preencha o título e clique em "Gerar Preview" para ver o card'})]})})]})]}),v&&m.length>0&&Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[Ye.jsx(q,{className:"w-5 h-5"}),"Últimas Publicações"]}),Ye.jsx("div",{className:"space-y-3",children:m.map(e=>Ye.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:["success"===e.status?Ye.jsx(U,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):Ye.jsx(F,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),Ye.jsxs("div",{className:"flex-1 min-w-0",children:[Ye.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.title}),Ye.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.publishedAt).toLocaleString("pt-BR")})]}),"success"===e.status&&"ERRO"!==e.instagramPostId&&Ye.jsxs("a",{href:`https://www.instagram.com/p/${e.instagramPostId}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",children:[Ye.jsx(g,{className:"w-3 h-3"}),"Ver Post"]})]},e.id))})]}),Ye.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl border border-purple-200 p-6",children:[Ye.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Ye.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-400 rounded-lg flex items-center justify-center",children:Ye.jsx(O,{className:"w-5 h-5 text-white"})}),Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Stories Instagram"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Em breve: Criação automática de Stories com links clicáveis"})]})]}),Ye.jsx("div",{className:"bg-white/50 rounded-lg p-4 text-center",children:Ye.jsx("p",{className:"text-gray-500 text-sm",children:"🚧 Funcionalidade em desenvolvimento"})})]})]})};function Gt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Gt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Vt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Gt(e))&&(n&&(n+=" "),n+=t);return n}var Wt=Array.isArray,Ht="object"==typeof c&&c&&c.Object===Object&&c,Xt=Ht,Kt="object"==typeof self&&self&&self.Object===Object&&self,Yt=Xt||Kt||Function("return this")(),Jt=Yt.Symbol,Qt=Jt,Zt=Object.prototype,er=Zt.hasOwnProperty,tr=Zt.toString,rr=Qt?Qt.toStringTag:void 0;var nr=function(e){var t=er.call(e,rr),r=e[rr];try{e[rr]=void 0;var n=!0}catch(i){}var a=tr.call(e);return n&&(t?e[rr]=r:delete e[rr]),a},ar=Object.prototype.toString;var ir=nr,or=function(e){return ar.call(e)},sr=Jt?Jt.toStringTag:void 0;var lr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":sr&&sr in Object(e)?ir(e):or(e)};var cr=function(e){return null!=e&&"object"==typeof e},ur=lr,dr=cr;var pr=function(e){return"symbol"==typeof e||dr(e)&&"[object Symbol]"==ur(e)},fr=Wt,hr=pr,mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gr=/^\w*$/;var yr=function(e,t){if(fr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!hr(e))||(gr.test(e)||!mr.test(e)||null!=t&&e in Object(t))};var vr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const xr=u(vr);var br=lr,jr=vr;var wr=function(e){if(!jr(e))return!1;var t=br(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const Nr=u(wr);var Or,Sr=Yt["__core-js_shared__"],Ar=(Or=/[^.]+$/.exec(Sr&&Sr.keys&&Sr.keys.IE_PROTO||""))?"Symbol(src)_1."+Or:"";var Pr=function(e){return!!Ar&&Ar in e},kr=Function.prototype.toString;var Er=function(e){if(null!=e){try{return kr.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Tr=wr,Cr=Pr,Mr=vr,_r=Er,Ir=/^\[object .+?Constructor\]$/,Dr=Function.prototype,Rr=Object.prototype,Lr=Dr.toString,Br=Rr.hasOwnProperty,zr=RegExp("^"+Lr.call(Br).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $r=function(e){return!(!Mr(e)||Cr(e))&&(Tr(e)?zr:Ir).test(_r(e))},qr=function(e,t){return null==e?void 0:e[t]};var Ur=function(e,t){var r=qr(e,t);return $r(r)?r:void 0},Fr=Ur(Object,"create"),Gr=Fr;var Vr=function(){this.__data__=Gr?Gr(null):{},this.size=0};var Wr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hr=Fr,Xr=Object.prototype.hasOwnProperty;var Kr=function(e){var t=this.__data__;if(Hr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Xr.call(t,e)?t[e]:void 0},Yr=Fr,Jr=Object.prototype.hasOwnProperty;var Qr=Fr;var Zr=Vr,en=Wr,tn=Kr,rn=function(e){var t=this.__data__;return Yr?void 0!==t[e]:Jr.call(t,e)},nn=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Qr&&void 0===t?"__lodash_hash_undefined__":t,this};function an(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}an.prototype.clear=Zr,an.prototype.delete=en,an.prototype.get=tn,an.prototype.has=rn,an.prototype.set=nn;var on=an;var sn=function(){this.__data__=[],this.size=0};var ln=function(e,t){return e===t||e!=e&&t!=t},cn=ln;var un=function(e,t){for(var r=e.length;r--;)if(cn(e[r][0],t))return r;return-1},dn=un,pn=Array.prototype.splice;var fn=un;var hn=un;var mn=un;var gn=sn,yn=function(e){var t=this.__data__,r=dn(t,e);return!(r<0)&&(r==t.length-1?t.pop():pn.call(t,r,1),--this.size,!0)},vn=function(e){var t=this.__data__,r=fn(t,e);return r<0?void 0:t[r][1]},xn=function(e){return hn(this.__data__,e)>-1},bn=function(e,t){var r=this.__data__,n=mn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function jn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}jn.prototype.clear=gn,jn.prototype.delete=yn,jn.prototype.get=vn,jn.prototype.has=xn,jn.prototype.set=bn;var wn=jn,Nn=Ur(Yt,"Map"),On=on,Sn=wn,An=Nn;var Pn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var kn=function(e,t){var r=e.__data__;return Pn(t)?r["string"==typeof t?"string":"hash"]:r.map},En=kn;var Tn=kn;var Cn=kn;var Mn=kn;var _n=function(){this.size=0,this.__data__={hash:new On,map:new(An||Sn),string:new On}},In=function(e){var t=En(this,e).delete(e);return this.size-=t?1:0,t},Dn=function(e){return Tn(this,e).get(e)},Rn=function(e){return Cn(this,e).has(e)},Ln=function(e,t){var r=Mn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Bn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bn.prototype.clear=_n,Bn.prototype.delete=In,Bn.prototype.get=Dn,Bn.prototype.has=Rn,Bn.prototype.set=Ln;var zn=Bn,$n=zn;function qn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(qn.Cache||$n),r}qn.Cache=$n;var Un=qn;const Fn=u(Un);var Gn=Un;var Vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wn=/\\(\\)?/g,Hn=function(e){var t=Gn(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Vn,function(e,r,n,a){t.push(n?a.replace(Wn,"$1"):r||e)}),t});var Xn=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Kn=Xn,Yn=Wt,Jn=pr,Qn=Jt?Jt.prototype:void 0,Zn=Qn?Qn.toString:void 0;var ea=function e(t){if("string"==typeof t)return t;if(Yn(t))return Kn(t,e)+"";if(Jn(t))return Zn?Zn.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},ta=ea;var ra=function(e){return null==e?"":ta(e)},na=Wt,aa=yr,ia=Hn,oa=ra;var sa=function(e,t){return na(e)?e:aa(e,t)?[e]:ia(oa(e))},la=pr;var ca=function(e){if("string"==typeof e||la(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ua=sa,da=ca;var pa=function(e,t){for(var r=0,n=(t=ua(t,e)).length;null!=e&&r<n;)e=e[da(t[r++])];return r&&r==n?e:void 0},fa=pa;var ha=function(e,t,r){var n=null==e?void 0:fa(e,t);return void 0===n?r:n};const ma=u(ha);const ga=u(function(e){return null==e});var ya=lr,va=Wt,xa=cr;const ba=u(function(e){return"string"==typeof e||!va(e)&&xa(e)&&"[object String]"==ya(e)});var ja,wa={exports:{}},Na={},Oa=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Aa=Symbol.for("react.fragment"),Pa=Symbol.for("react.strict_mode"),ka=Symbol.for("react.profiler"),Ea=Symbol.for("react.provider"),Ta=Symbol.for("react.context"),Ca=Symbol.for("react.server_context"),Ma=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),Ia=Symbol.for("react.suspense_list"),Da=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),La=Symbol.for("react.offscreen");function Ba(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Oa:switch(e=e.type){case Aa:case ka:case Pa:case _a:case Ia:return e;default:switch(e=e&&e.$$typeof){case Ca:case Ta:case Ma:case Ra:case Da:case Ea:return e;default:return t}}case Sa:return t}}}ja=Symbol.for("react.module.reference"),Na.ContextConsumer=Ta,Na.ContextProvider=Ea,Na.Element=Oa,Na.ForwardRef=Ma,Na.Fragment=Aa,Na.Lazy=Ra,Na.Memo=Da,Na.Portal=Sa,Na.Profiler=ka,Na.StrictMode=Pa,Na.Suspense=_a,Na.SuspenseList=Ia,Na.isAsyncMode=function(){return!1},Na.isConcurrentMode=function(){return!1},Na.isContextConsumer=function(e){return Ba(e)===Ta},Na.isContextProvider=function(e){return Ba(e)===Ea},Na.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Oa},Na.isForwardRef=function(e){return Ba(e)===Ma},Na.isFragment=function(e){return Ba(e)===Aa},Na.isLazy=function(e){return Ba(e)===Ra},Na.isMemo=function(e){return Ba(e)===Da},Na.isPortal=function(e){return Ba(e)===Sa},Na.isProfiler=function(e){return Ba(e)===ka},Na.isStrictMode=function(e){return Ba(e)===Pa},Na.isSuspense=function(e){return Ba(e)===_a},Na.isSuspenseList=function(e){return Ba(e)===Ia},Na.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Aa||e===ka||e===Pa||e===_a||e===Ia||e===La||"object"==typeof e&&null!==e&&(e.$$typeof===Ra||e.$$typeof===Da||e.$$typeof===Ea||e.$$typeof===Ta||e.$$typeof===Ma||e.$$typeof===ja||void 0!==e.getModuleId)},Na.typeOf=Ba,wa.exports=Na;var za=wa.exports,$a=lr,qa=cr;var Ua=function(e){return"number"==typeof e||qa(e)&&"[object Number]"==$a(e)};const Fa=u(Ua);var Ga=Ua;const Va=u(function(e){return Ga(e)&&e!=+e});var Wa=function(e){return 0===e?0:e>0?1:-1},Ha=function(e){return ba(e)&&e.indexOf("%")===e.length-1},Xa=function(e){return Fa(e)&&!Va(e)},Ka=function(e){return Xa(e)||ba(e)},Ya=0,Ja=function(e){var t=++Ya;return"".concat(e||"").concat(t)},Qa=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Xa(e)&&!ba(e))return n;if(Ha(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Va(r)&&(r=n),a&&r>t&&(r=t),r},Za=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ei=function(e,t){return Xa(e)&&Xa(t)?function(r){return e+r*(t-e)}:function(){return t}};function ti(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):ma(e,t))===r}):null}var ri=function(e,t){return Xa(e)&&Xa(t)?e-t:ba(e)&&ba(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function ni(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ii=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oi=["points","pathLength"],si={svg:["viewBox","children"],polygon:oi,polyline:oi},li=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ci=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(o.isValidElement(e)&&(r=e.props),!xr(r))return null;var n={};return Object.keys(r).forEach(function(e){li.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},ui=function(e,t,r){if(!xr(e)||"object"!==ai(e))return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];li.includes(a)&&"function"==typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))}),n},di=["children"],pi=["children"];function fi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hi(e){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mi={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},gi=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},yi=null,vi=null,xi=function e(t){if(t===yi&&Array.isArray(vi))return vi;var r=[];return o.Children.forEach(t,function(t){ga(t)||(za.isFragment(t)?r=r.concat(e(t.props.children)):r.push(t))}),vi=r,yi=t,r};function bi(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return gi(e)}):[gi(t)],xi(e).forEach(function(e){var t=ma(e,"type.displayName")||ma(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function ji(e,t){var r=bi(e,t);return r&&r[0]}var wi=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Xa(r)||r<=0||!Xa(n)||n<=0)},Ni=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Oi=function(e){return e&&"object"===hi(e)&&"clipDot"in e},Si=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(o.isValidElement(e)&&(n=e.props),!xr(n))return null;var a={};return Object.keys(n).forEach(function(e){var i;(function(e,t,r,n){var a,i=null!==(a=null==si?void 0:si[n])&&void 0!==a?a:[];return t.startsWith("data-")||!Nr(e)&&(n&&i.includes(t)||ii.includes(t))||r&&li.includes(t)})(null===(i=n)||void 0===i?void 0:i[e],e,t,r)&&(a[e]=n[e])}),a},Ai=function e(t,r){if(t===r)return!0;var n=o.Children.count(t);if(n!==o.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Pi(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Pi(i,s))return!1}return!0},Pi=function(e,t){if(ga(e)&&ga(t))return!0;if(!ga(e)&&!ga(t)){var r=e.props||{},n=r.children,a=fi(r,di),i=t.props||{},o=i.children,s=fi(i,pi);return n&&o?ni(a,s)&&Ai(n,o):!n&&!o&&ni(a,s)}return!1},ki=function(e,t){var r=[],n={};return xi(e).forEach(function(e,a){if(function(e){return e&&e.type&&ba(e.type)&&Ni.indexOf(e.type)>=0}(e))r.push(e);else if(e){var i=gi(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!n[i])){var c=s(e,i,a);r.push(c),n[i]=!0}}}),r},Ei=["children","width","height","viewBox","className","style","title","desc"];function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ti.apply(this,arguments)}function Ci(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mi(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,c=Ci(e,Ei),u=a||{width:r,height:n,x:0,y:0},p=Vt("recharts-surface",i);return d.createElement("svg",Ti({},Si(c,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),d.createElement("title",null,s),d.createElement("desc",null,l),t)}var _i=["children","className"];function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function Di(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ri=d.forwardRef(function(e,t){var r=e.children,n=e.className,a=Di(e,_i),i=Vt("recharts-layer",n);return d.createElement("g",Ii({className:i},Si(a,!0),{ref:t}),r)}),Li=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};var Bi=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i};var zi=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:Bi(e,t,r)},$i=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var qi=function(e){return $i.test(e)};var Ui=function(e){return e.split("")},Fi="\\ud800-\\udfff",Gi="["+Fi+"]",Vi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Wi="\\ud83c[\\udffb-\\udfff]",Hi="[^"+Fi+"]",Xi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ki="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="(?:"+Vi+"|"+Wi+")"+"?",Ji="[\\ufe0e\\ufe0f]?",Qi=Ji+Yi+("(?:\\u200d(?:"+[Hi,Xi,Ki].join("|")+")"+Ji+Yi+")*"),Zi="(?:"+[Hi+Vi+"?",Vi,Xi,Ki,Gi].join("|")+")",eo=RegExp(Wi+"(?="+Wi+")|"+Zi+Qi,"g");var to=Ui,ro=qi,no=function(e){return e.match(eo)||[]};var ao=zi,io=qi,oo=function(e){return ro(e)?no(e):to(e)},so=ra;const lo=u(function(e){return function(t){t=so(t);var r=io(t)?oo(t):void 0,n=r?r[0]:t.charAt(0),a=r?ao(r,1).join(""):t.slice(1);return n[e]()+a}}("toUpperCase"));function co(e){return function(){return e}}const uo=Math.cos,po=Math.sin,fo=Math.sqrt,ho=Math.PI,mo=2*ho,go=Math.PI,yo=2*go,vo=1e-6,xo=yo-vo;function bo(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class jo{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?bo:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bo;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>vo)if(Math.abs(u*s-l*c)>vo&&a){let p=r-i,f=n-o,h=s*s+l*l,m=p*p+f*f,g=Math.sqrt(h),y=Math.sqrt(d),v=a*Math.tan((go-Math.acos((h+d-m)/(2*g*y)))/2),x=v/y,b=v/g;Math.abs(x-1)>vo&&this._append`L${e+x*c},${t+x*u}`,this._append`A${a},${a},0,0,${+(u*p>c*f)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>vo||Math.abs(this._y1-c)>vo)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%yo+yo),d>xo?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>vo&&this._append`A${r},${r},0,${+(d>=go)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function wo(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new jo(t)}function No(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Oo(e){this._context=e}function So(e){return new Oo(e)}function Ao(e){return e[0]}function Po(e){return e[1]}function ko(e,t){var r=co(!0),n=null,a=So,i=null,o=wo(s);function s(s){var l,c,u,d=(s=No(s)).length,p=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?Ao:co(e),t="function"==typeof t?t:void 0===t?Po:co(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:co(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:co(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:co(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function Eo(e,t,r){var n=null,a=co(!0),i=null,o=So,s=null,l=wo(c);function c(c){var u,d,p,f,h,m=(c=No(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==i&&(s=o(h=l())),u=0;u<=m;++u){if(!(u<m&&a(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=u-1;p>=d;--p)s.point(y[p],v[p]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(h)return s=null,h+""||null}function u(){return ko().defined(a).curve(o).context(i)}return e="function"==typeof e?e:void 0===e?Ao:co(+e),t="function"==typeof t?t:co(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?Po:co(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:co(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:co(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:co(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:co(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:co(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:co(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:co(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class To{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Co={draw(e,t){const r=fo(t/ho);e.moveTo(r,0),e.arc(0,0,r,0,mo)}},Mo={draw(e,t){const r=fo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},_o=fo(1/3),Io=2*_o,Do={draw(e,t){const r=fo(t/Io),n=r*_o;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ro={draw(e,t){const r=fo(t),n=-r/2;e.rect(n,n,r,r)}},Lo=po(ho/10)/po(7*ho/10),Bo=po(mo/10)*Lo,zo=-uo(mo/10)*Lo,$o={draw(e,t){const r=fo(.8908130915292852*t),n=Bo*r,a=zo*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=mo*i/5,o=uo(t),s=po(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},qo=fo(3),Uo={draw(e,t){const r=-fo(t/(3*qo));e.moveTo(0,2*r),e.lineTo(-qo*r,-r),e.lineTo(qo*r,-r),e.closePath()}},Fo=-.5,Go=fo(3)/2,Vo=1/fo(12),Wo=3*(Vo/2+1),Ho={draw(e,t){const r=fo(t/Wo),n=r/2,a=r*Vo,i=n,o=r*Vo+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Fo*n-Go*a,Go*n+Fo*a),e.lineTo(Fo*i-Go*o,Go*i+Fo*o),e.lineTo(Fo*s-Go*l,Go*s+Fo*l),e.lineTo(Fo*n+Go*a,Fo*a-Go*n),e.lineTo(Fo*i+Go*o,Fo*o-Go*i),e.lineTo(Fo*s+Go*l,Fo*l-Go*s),e.closePath()}};function Xo(){}function Ko(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Yo(e){this._context=e}function Jo(e){this._context=e}function Qo(e){this._context=e}function Zo(e){this._context=e}function es(e){return e<0?-1:1}function ts(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(es(i)+es(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function rs(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ns(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function as(e){this._context=e}function is(e){this._context=new os(e)}function os(e){this._context=e}function ss(e){this._context=e}function ls(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cs(e,t){this._context=e,this._t=t}function us(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function ds(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ps(e,t){return e[t]}function fs(e){const t=[];return t.key=e,t}function hs(e){return(hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Yo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ko(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ko(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Jo.prototype={areaStart:Xo,areaEnd:Xo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ko(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ko(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zo.prototype={areaStart:Xo,areaEnd:Xo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},as.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ns(this,this._t0,rs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ns(this,rs(this,r=ts(this,e,t)),r);break;default:ns(this,this._t0,r=ts(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(is.prototype=Object.create(as.prototype)).point=function(e,t){as.prototype.point.call(this,t,e)},os.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=ls(e),a=ls(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var ms=["type","size","sizeType"];function gs(){return gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gs.apply(this,arguments)}function ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(r),!0).forEach(function(t){xs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xs(e,t,r){var n;return n=function(e,t){if("object"!=hs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=hs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hs(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bs(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var js={symbolCircle:Co,symbolCross:Mo,symbolDiamond:Do,symbolSquare:Ro,symbolStar:$o,symbolTriangle:Uo,symbolWye:Ho},ws=Math.PI/180,Ns=function(e){var t,r,n=e.type,a=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,s=e.sizeType,l=void 0===s?"area":s,c=vs(vs({},bs(e,ms)),{},{type:a,size:o,sizeType:l}),u=c.className,p=c.cx,f=c.cy,h=Si(c,!0);return p===+p&&f===+f&&o===+o?d.createElement("path",gs({},h,{className:Vt("recharts-symbols",u),transform:"translate(".concat(p,", ").concat(f,")"),d:(t=function(e){var t="symbol".concat(lo(e));return js[t]||Co}(a),r=function(e,t){let r=null,n=wo(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:co(e||Co),t="function"==typeof t?t:co(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:co(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:co(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(t).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*ws;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,l,a)),r())})):null};function Os(e){return(Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ps(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_s(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ks(e,t,r){return t=Ts(t),function(e,t){if(t&&("object"===Os(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Es()?Reflect.construct(t,r||[],Ts(e).constructor):t.apply(e,r))}function Es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Es=function(){return!!e})()}function Ts(e){return(Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cs(e,t){return(Cs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ms(e,t,r){return(t=_s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _s(e){var t=function(e,t){if("object"!=Os(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Os(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Os(t)?t:t+""}Ns.registerSymbol=function(e,t){js["symbol".concat(lo(e))]=t};var Is=32,Ds=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ks(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cs(e,t)}(e,o.PureComponent),Ps(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Is/6,a=Is/3,i=e.inactive?t:e.color;if("plainline"===e.type)return d.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Is,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return d.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Is,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return d.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Is,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(d.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach(function(t){Ms(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,d.cloneElement(e.legendIcon,o)}return d.createElement(Ns,{fill:i,cx:r,cy:r,size:Is,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,o=t.inactiveColor,s={x:0,y:0,width:Is,height:Is},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var a=t.formatter||i,u=Vt(Ms(Ms({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var p=Nr(t.value)?null:t.value;Li(!Nr(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?o:t.color;return d.createElement("li",Ss({className:u,style:l,key:"legend-item-".concat(r)},ui(e.props,t,r)),d.createElement(Mi,{width:n,height:n,viewBox:s,style:c},e.renderIcon(t)),d.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},a?a(p,t,r):p))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return d.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();Ms(Ds,"displayName","Legend"),Ms(Ds,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Rs=wn;var Ls=wn,Bs=Nn,zs=zn;var $s=wn,qs=function(){this.__data__=new Rs,this.size=0},Us=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Fs=function(e){return this.__data__.get(e)},Gs=function(e){return this.__data__.has(e)},Vs=function(e,t){var r=this.__data__;if(r instanceof Ls){var n=r.__data__;if(!Bs||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zs(n)}return r.set(e,t),this.size=r.size,this};function Ws(e){var t=this.__data__=new $s(e);this.size=t.size}Ws.prototype.clear=qs,Ws.prototype.delete=Us,Ws.prototype.get=Fs,Ws.prototype.has=Gs,Ws.prototype.set=Vs;var Hs=Ws;var Xs=zn,Ks=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ys=function(e){return this.__data__.has(e)};function Js(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Xs;++t<r;)this.add(e[t])}Js.prototype.add=Js.prototype.push=Ks,Js.prototype.has=Ys;var Qs=Js;var Zs=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var el=function(e,t){return e.has(t)},tl=Qs,rl=Zs,nl=el;var al=function(e,t,r,n,a,i){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,f=2&r?new tl:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],m=t[d];if(n)var g=o?n(m,h,d,t,e,i):n(h,m,d,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(f){if(!rl(t,function(e,t){if(!nl(f,t)&&(h===e||a(h,e,r,n,i)))return f.push(t)})){p=!1;break}}else if(h!==m&&!a(h,m,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p};var il=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},ol=Yt.Uint8Array,sl=ln,ll=al,cl=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},ul=il,dl=Jt?Jt.prototype:void 0,pl=dl?dl.valueOf:void 0;var fl=function(e,t,r,n,a,i,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ol(e),new ol(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return sl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=cl;case"[object Set]":var l=1&n;if(s||(s=ul),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var u=ll(s(e),s(t),n,a,i,o);return o.delete(e),u;case"[object Symbol]":if(pl)return pl.call(e)==pl.call(t)}return!1};var hl=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},ml=hl,gl=Wt;var yl=function(e,t,r){var n=t(e);return gl(e)?n:ml(n,r(e))};var vl=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i},xl=function(){return[]},bl=Object.prototype.propertyIsEnumerable,jl=Object.getOwnPropertySymbols,wl=jl?function(e){return null==e?[]:(e=Object(e),vl(jl(e),function(t){return bl.call(e,t)}))}:xl;var Nl=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Ol=lr,Sl=cr;var Al,Pl,kl,El,Tl,Cl,Ml,_l,Il=function(e){return Sl(e)&&"[object Arguments]"==Ol(e)},Dl=cr,Rl=Object.prototype,Ll=Rl.hasOwnProperty,Bl=Rl.propertyIsEnumerable,zl=Il(function(){return arguments}())?Il:function(e){return Dl(e)&&Ll.call(e,"callee")&&!Bl.call(e,"callee")},$l={exports:{}};Al=$l,kl=Yt,El=function(){return!1},Tl=(Pl=$l.exports)&&!Pl.nodeType&&Pl,Cl=Tl&&Al&&!Al.nodeType&&Al,Ml=Cl&&Cl.exports===Tl?kl.Buffer:void 0,_l=(Ml?Ml.isBuffer:void 0)||El,Al.exports=_l;var ql=$l.exports,Ul=/^(?:0|[1-9]\d*)$/;var Fl=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Ul.test(e))&&e>-1&&e%1==0&&e<t};var Gl=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Vl=lr,Wl=Gl,Hl=cr,Xl={};Xl["[object Float32Array]"]=Xl["[object Float64Array]"]=Xl["[object Int8Array]"]=Xl["[object Int16Array]"]=Xl["[object Int32Array]"]=Xl["[object Uint8Array]"]=Xl["[object Uint8ClampedArray]"]=Xl["[object Uint16Array]"]=Xl["[object Uint32Array]"]=!0,Xl["[object Arguments]"]=Xl["[object Array]"]=Xl["[object ArrayBuffer]"]=Xl["[object Boolean]"]=Xl["[object DataView]"]=Xl["[object Date]"]=Xl["[object Error]"]=Xl["[object Function]"]=Xl["[object Map]"]=Xl["[object Number]"]=Xl["[object Object]"]=Xl["[object RegExp]"]=Xl["[object Set]"]=Xl["[object String]"]=Xl["[object WeakMap]"]=!1;var Kl=function(e){return Hl(e)&&Wl(e.length)&&!!Xl[Vl(e)]};var Yl=function(e){return function(t){return e(t)}},Jl={exports:{}};!function(e,t){var r=Ht,n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&r.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o}(Jl,Jl.exports);var Ql=Jl.exports,Zl=Kl,ec=Yl,tc=Ql&&Ql.isTypedArray,rc=tc?ec(tc):Zl,nc=Nl,ac=zl,ic=Wt,oc=ql,sc=Fl,lc=rc,cc=Object.prototype.hasOwnProperty;var uc=function(e,t){var r=ic(e),n=!r&&ac(e),a=!r&&!n&&oc(e),i=!r&&!n&&!a&&lc(e),o=r||n||a||i,s=o?nc(e.length,String):[],l=s.length;for(var c in e)!t&&!cc.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||sc(c,l))||s.push(c);return s},dc=Object.prototype;var pc=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||dc)};var fc=function(e,t){return function(r){return e(t(r))}},hc=fc(Object.keys,Object),mc=pc,gc=hc,yc=Object.prototype.hasOwnProperty;var vc=wr,xc=Gl;var bc=function(e){return null!=e&&xc(e.length)&&!vc(e)},jc=uc,wc=function(e){if(!mc(e))return gc(e);var t=[];for(var r in Object(e))yc.call(e,r)&&"constructor"!=r&&t.push(r);return t},Nc=bc;var Oc=function(e){return Nc(e)?jc(e):wc(e)},Sc=yl,Ac=wl,Pc=Oc;var kc=function(e){return Sc(e,Pc,Ac)},Ec=Object.prototype.hasOwnProperty;var Tc=function(e,t,r,n,a,i){var o=1&r,s=kc(e),l=s.length;if(l!=kc(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:Ec.call(t,u)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=o;++c<l;){var m=e[u=s[c]],g=t[u];if(n)var y=o?n(g,m,u,t,e,i):n(m,g,u,e,t,i);if(!(void 0===y?m===g||a(m,g,r,n,i):y)){f=!1;break}h||(h="constructor"==u)}if(f&&!h){var v=e.constructor,x=t.constructor;v==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof x&&x instanceof x||(f=!1)}return i.delete(e),i.delete(t),f},Cc=Ur(Yt,"DataView"),Mc=Ur(Yt,"Promise"),_c=Ur(Yt,"Set"),Ic=Cc,Dc=Nn,Rc=Mc,Lc=_c,Bc=Ur(Yt,"WeakMap"),zc=lr,$c=Er,qc="[object Map]",Uc="[object Promise]",Fc="[object Set]",Gc="[object WeakMap]",Vc="[object DataView]",Wc=$c(Ic),Hc=$c(Dc),Xc=$c(Rc),Kc=$c(Lc),Yc=$c(Bc),Jc=zc;(Ic&&Jc(new Ic(new ArrayBuffer(1)))!=Vc||Dc&&Jc(new Dc)!=qc||Rc&&Jc(Rc.resolve())!=Uc||Lc&&Jc(new Lc)!=Fc||Bc&&Jc(new Bc)!=Gc)&&(Jc=function(e){var t=zc(e),r="[object Object]"==t?e.constructor:void 0,n=r?$c(r):"";if(n)switch(n){case Wc:return Vc;case Hc:return qc;case Xc:return Uc;case Kc:return Fc;case Yc:return Gc}return t});var Qc=Hs,Zc=al,eu=fl,tu=Tc,ru=Jc,nu=Wt,au=ql,iu=rc,ou="[object Arguments]",su="[object Array]",lu="[object Object]",cu=Object.prototype.hasOwnProperty;var uu=function(e,t,r,n,a,i){var o=nu(e),s=nu(t),l=o?su:ru(e),c=s?su:ru(t),u=(l=l==ou?lu:l)==lu,d=(c=c==ou?lu:c)==lu,p=l==c;if(p&&au(e)){if(!au(t))return!1;o=!0,u=!1}if(p&&!u)return i||(i=new Qc),o||iu(e)?Zc(e,t,r,n,a,i):eu(e,t,l,r,n,a,i);if(!(1&r)){var f=u&&cu.call(e,"__wrapped__"),h=d&&cu.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,g=h?t.value():t;return i||(i=new Qc),a(m,g,r,n,i)}}return!!p&&(i||(i=new Qc),tu(e,t,r,n,a,i))},du=cr;var pu=function e(t,r,n,a,i){return t===r||(null==t||null==r||!du(t)&&!du(r)?t!=t&&r!=r:uu(t,r,n,a,e,i))},fu=Hs,hu=pu;var mu=vr;var gu=function(e){return e==e&&!mu(e)},yu=gu,vu=Oc;var xu=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},bu=function(e,t,r,n){var a=r.length,i=a,o=!n;if(null==e)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var l=(s=r[a])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new fu;if(n)var p=n(c,u,l,e,t,d);if(!(void 0===p?hu(u,c,3,n,d):p))return!1}}return!0},ju=function(e){for(var t=vu(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,yu(a)]}return t},wu=xu;var Nu=sa,Ou=zl,Su=Wt,Au=Fl,Pu=Gl,ku=ca;var Eu=function(e,t){return null!=e&&t in Object(e)},Tu=function(e,t,r){for(var n=-1,a=(t=Nu(t,e)).length,i=!1;++n<a;){var o=ku(t[n]);if(!(i=null!=e&&r(e,o)))break;e=e[o]}return i||++n!=a?i:!!(a=null==e?0:e.length)&&Pu(a)&&Au(o,a)&&(Su(e)||Ou(e))};var Cu=pu,Mu=ha,_u=function(e,t){return null!=e&&Tu(e,t,Eu)},Iu=yr,Du=gu,Ru=xu,Lu=ca;var Bu=function(e){return e};var zu=pa;var $u=function(e){return function(t){return null==t?void 0:t[e]}},qu=function(e){return function(t){return zu(t,e)}},Uu=yr,Fu=ca;var Gu=function(e){var t=ju(e);return 1==t.length&&t[0][2]?wu(t[0][0],t[0][1]):function(r){return r===e||bu(r,e,t)}},Vu=function(e,t){return Iu(e)&&Du(t)?Ru(Lu(e),t):function(r){var n=Mu(r,e);return void 0===n&&n===t?_u(r,e):Cu(t,n,3)}},Wu=Bu,Hu=Wt,Xu=function(e){return Uu(e)?$u(Fu(e)):qu(e)};var Ku=function(e){return"function"==typeof e?e:null==e?Wu:"object"==typeof e?Hu(e)?Vu(e[0],e[1]):Gu(e):Xu(e)};var Yu=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1};var Ju=Yu,Qu=function(e){return e!=e},Zu=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1};var ed=function(e,t,r){return t==t?Zu(e,t,r):Ju(e,Qu,r)};var td=function(e,t){return!!(null==e?0:e.length)&&ed(e,t,0)>-1};var rd=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1};var nd=_c,ad=function(){},id=nd&&1/il(new nd([,-0]))[1]==1/0?function(e){return new nd(e)}:ad,od=Qs,sd=td,ld=rd,cd=el,ud=id,dd=il;var pd=Ku,fd=function(e,t,r){var n=-1,a=sd,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=ld;else if(i>=200){var c=t?null:ud(e);if(c)return dd(c);o=!1,a=cd,l=new od}else l=t?[]:s;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,o&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s};const hd=u(function(e,t){return e&&e.length?fd(e,pd(t)):[]});function md(e,t,r){return!0===t?hd(e,r):Nr(t)?hd(e,t):e}function gd(e){return(gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var yd=["ref"];function vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(r),!0).forEach(function(t){Sd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ad(n.key),n)}}function jd(e,t,r){return t=Nd(t),function(e,t){if(t&&("object"===gd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wd()?Reflect.construct(t,r||[],Nd(e).constructor):t.apply(e,r))}function wd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wd=function(){return!!e})()}function Nd(e){return(Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Od(e,t){return(Od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sd(e,t,r){return(t=Ad(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ad(e){var t=function(e,t){if("object"!=gd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=gd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==gd(t)?t:t+""}function Pd(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kd(e){return e.value}var Ed=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Sd(t=jd(this,e,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Od(e,t)}(e,o.PureComponent),t=e,n=[{key:"getWithHeight",value:function(e,t){var r=xd(xd({},this.defaultProps),e.props).layout;return"vertical"===r&&Xa(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),xd(xd({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,o=t.payloadUniqBy,s=t.payload,l=xd(xd({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return d.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(d.isValidElement(e))return d.cloneElement(e,t);if("function"==typeof e)return d.createElement(e,t);t.ref;var r=Pd(t,yd);return d.createElement(Ds,r)}(r,xd(xd({},this.props),{},{payload:md(s,o,kd)})))}}])&&bd(t.prototype,r),n&&bd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Sd(Ed,"displayName","Legend"),Sd(Ed,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Td=zl,Cd=Wt,Md=Jt?Jt.isConcatSpreadable:void 0;var _d=hl,Id=function(e){return Cd(e)||Td(e)||!!(Md&&e&&e[Md])};var Dd=function e(t,r,n,a,i){var o=-1,s=t.length;for(n||(n=Id),i||(i=[]);++o<s;){var l=t[o];r>0&&n(l)?r>1?e(l,r-1,n,a,i):_d(i,l):a||(i[i.length]=l)}return i};var Rd=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===r(i[l],l,i))break}return t}}(),Ld=Oc;var Bd=function(e,t){return e&&Rd(e,t,Ld)},zd=bc;var $d=function(e,t){return function(r,n){if(null==r)return r;if(!zd(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&!1!==n(o[i],i,o););return r}}(Bd),qd=$d,Ud=bc;var Fd=function(e,t){var r=-1,n=Ud(e)?Array(e.length):[];return qd(e,function(e,a,i){n[++r]=t(e,a,i)}),n};var Gd=pr;var Vd=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,a=e==e,i=Gd(e),o=void 0!==t,s=null===t,l=t==t,c=Gd(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0};var Wd=Xn,Hd=pa,Xd=Ku,Kd=Fd,Yd=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},Jd=Yl,Qd=function(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=Vd(a[n],i[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index},Zd=Bu,ep=Wt;var tp=function(e,t,r){t=t.length?Wd(t,function(e){return ep(e)?function(t){return Hd(t,1===e.length?e[0]:e)}:e}):[Zd];var n=-1;t=Wd(t,Jd(Xd));var a=Kd(e,function(e,r,a){return{criteria:Wd(t,function(t){return t(e)}),index:++n,value:e}});return Yd(a,function(e,t){return Qd(e,t,r)})};var rp=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},np=Math.max;var ap=function(e,t,r){return t=np(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=np(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),rp(e,this,s)}};var ip=function(e){return function(){return e}},op=Ur,sp=function(){try{var e=op(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),lp=ip,cp=sp,up=cp?function(e,t){return cp(e,"toString",{configurable:!0,enumerable:!1,value:lp(t),writable:!0})}:Bu,dp=Date.now;var pp=function(e){var t=0,r=0;return function(){var n=dp(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(up),fp=Bu,hp=ap,mp=pp;var gp=ln,yp=bc,vp=Fl,xp=vr;var bp=function(e,t,r){if(!xp(r))return!1;var n=typeof t;return!!("number"==n?yp(r)&&vp(t,r.length):"string"==n&&t in r)&&gp(r[t],e)},jp=Dd,wp=tp,Np=bp;const Op=u(function(e,t){return mp(hp(e,t,fp),e+"")}(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Np(e,t[0],t[1])?t=[]:r>2&&Np(t[0],t[1],t[2])&&(t=[t[0]]),wp(e,jp(t,1),[])}));function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function Pp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Tp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ep(Object(r),!0).forEach(function(t){Cp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Cp(e,t,r){var n;return n=function(e,t){if("object"!=Sp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Sp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mp(e){return Array.isArray(e)&&Ka(e[0])&&Ka(e[1])?e.join(" ~ "):e}var _p=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,i=e.itemStyle,o=void 0===i?{}:i,s=e.labelStyle,l=void 0===s?{}:s,c=e.payload,u=e.formatter,p=e.itemSorter,f=e.wrapperClassName,h=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,x=Tp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=Tp({margin:0},l),j=!ga(m),w=j?m:"",N=Vt("recharts-default-tooltip",f),O=Vt("recharts-tooltip-label",h);j&&g&&null!=c&&(w=g(m,c));var S=v?{role:"status","aria-live":"assertive"}:{};return d.createElement("div",Ap({className:N,style:x},S),d.createElement("p",{className:O,style:b},d.isValidElement(w)?w:"".concat(w)),function(){if(c&&c.length){var e=(p?Op(c,p):c).map(function(e,t){if("none"===e.type)return null;var n=Tp({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),a=e.formatter||u||Mp,i=e.value,s=e.name,l=i,p=s;if(a&&null!=l&&null!=p){var f=a(i,s,e,t,c);if(Array.isArray(f)){var h=Pp(f,2);l=h[0],p=h[1]}else l=f}return d.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},Ka(p)?d.createElement("span",{className:"recharts-tooltip-item-name"},p):null,Ka(p)?d.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,d.createElement("span",{className:"recharts-tooltip-item-value"},l),d.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return d.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Ip(e){return(Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dp(e,t,r){var n;return n=function(e,t){if("object"!=Ip(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ip(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ip(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rp="recharts-tooltip-wrapper",Lp={visibility:"hidden"};function Bp(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Vt(Rp,Dp(Dp(Dp(Dp({},"".concat(Rp,"-right"),Xa(r)&&t&&Xa(t.x)&&r>=t.x),"".concat(Rp,"-left"),Xa(r)&&t&&Xa(t.x)&&r<t.x),"".concat(Rp,"-bottom"),Xa(n)&&t&&Xa(t.y)&&n>=t.y),"".concat(Rp,"-top"),Xa(n)&&t&&Xa(t.y)&&n<t.y))}function zp(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Xa(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;return t[n]?o[n]?u:d:o[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+s>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function $p(e){return($p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Up(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qp(Object(r),!0).forEach(function(t){Xp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fp(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kp(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gp(e,t,r){return t=Wp(t),function(e,t){if(t&&("object"===$p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vp()?Reflect.construct(t,r||[],Wp(e).constructor):t.apply(e,r))}function Vp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Vp=function(){return!!e})()}function Wp(e){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hp(e,t){return(Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xp(e,t,r){return(t=Kp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kp(e){var t=function(e,t){if("object"!=$p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=$p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$p(t)?t:t+""}var Yp=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Xp(t=Gp(this,e,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xp(t,"handleKeyDown",function(e){var r,n,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=t.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hp(e,t)}(e,o.PureComponent),Fp(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.children,s=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,u=t.offset,p=t.position,f=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=zp({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=zp({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Lp,cssClasses:Bp({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:p,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),v=y.cssClasses,x=y.cssProperties,b=Up(Up({transition:c&&r?"transform ".concat(a,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0},g);return d.createElement("div",{tabIndex:-1,className:v,style:b,ref:function(t){e.wrapperNode=t}},o)}}])}(),Jp=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function Qp(e){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zp(Object(r),!0).forEach(function(t){sf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tf(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lf(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rf(e,t,r){return t=af(t),function(e,t){if(t&&("object"===Qp(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,nf()?Reflect.construct(t,r||[],af(e).constructor):t.apply(e,r))}function nf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(nf=function(){return!!e})()}function af(e){return(af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function of(e,t){return(of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sf(e,t,r){return(t=lf(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lf(e){var t=function(e,t){if("object"!=Qp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Qp(t)?t:t+""}function cf(e){return e.dataKey}var uf=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rf(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&of(e,t)}(e,o.PureComponent),tf(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.content,s=t.coordinate,l=t.filterNull,c=t.isAnimationActive,u=t.offset,p=t.payload,f=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,x=null!=p?p:[];l&&x.length&&(x=md(p.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),f,cf));var b=x.length>0;return d.createElement(Yp,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:r,coordinate:s,hasPayload:b,offset:u,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return d.isValidElement(e)?d.cloneElement(e,t):"function"==typeof e?d.createElement(e,t):d.createElement(_p,t)}(o,ef(ef({},this.props),{},{payload:x})))}}])}();sf(uf,"displayName","Tooltip"),sf(uf,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Jp,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var df=Yt,pf=/\s/;var ff=function(e){for(var t=e.length;t--&&pf.test(e.charAt(t)););return t},hf=/^\s+/;var mf=function(e){return e?e.slice(0,ff(e)+1).replace(hf,""):e},gf=vr,yf=pr,vf=/^[-+]0x[0-9a-f]+$/i,xf=/^0b[01]+$/i,bf=/^0o[0-7]+$/i,jf=parseInt;var wf=function(e){if("number"==typeof e)return e;if(yf(e))return NaN;if(gf(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=gf(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=mf(e);var r=xf.test(e);return r||bf.test(e)?jf(e.slice(2),r?2:8):vf.test(e)?NaN:+e},Nf=vr,Of=function(){return df.Date.now()},Sf=wf,Af=Math.max,Pf=Math.min;var kf=function(e,t,r){var n,a,i,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,i=a;return n=a=void 0,c=t,o=e.apply(i,r)}function h(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-c>=i}function m(){var e=Of();if(h(e))return g(e);s=setTimeout(m,function(e){var r=t-(e-l);return d?Pf(r,i-(e-c)):r}(e))}function g(e){return s=void 0,p&&n?f(e):(n=a=void 0,o)}function y(){var e=Of(),r=h(e);if(n=arguments,a=this,l=e,r){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Sf(t)||0,Nf(r)&&(u=!!r.leading,i=(d="maxWait"in r)?Af(Sf(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=a=s=void 0},y.flush=function(){return void 0===s?o:g(Of())},y},Ef=vr;const Tf=u(function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ef(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),kf(e,t,{leading:n,maxWait:t,trailing:a})});function Cf(e){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mf(Object(r),!0).forEach(function(t){If(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function If(e,t,r){var n;return n=function(e,t){if("object"!=Cf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Cf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Cf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Df(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lf=o.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=void 0===n?{width:-1,height:-1}:n,i=e.width,s=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,p=void 0===u?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,y=void 0===g?0:g,v=e.id,x=e.className,b=e.onResize,j=e.style,w=void 0===j?{}:j,N=o.useRef(null),O=o.useRef();O.current=b,o.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return N.current},configurable:!0})});var S=Df(o.useState({containerWidth:a.width,containerHeight:a.height}),2),A=S[0],P=S[1],k=o.useCallback(function(e,t){P(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);o.useEffect(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;k(n,a),null===(t=O.current)||void 0===t||t.call(O,n,a)};y>0&&(e=Tf(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=N.current.getBoundingClientRect(),n=r.width,a=r.height;return k(n,a),t.observe(N.current),function(){t.disconnect()}},[k,y]);var E=o.useMemo(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;Li(Ha(s)||Ha(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=Ha(s)?e:s,a=Ha(c)?t:c;r&&r>0&&(n?a=n/r:a&&(n=a*r),h&&a>h&&(a=h)),Li(n>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,a,s,c,p,f,r);var i=!Array.isArray(m)&&gi(m.type).endsWith("Chart");return d.Children.map(m,function(e){return d.isValidElement(e)?o.cloneElement(e,_f({width:n,height:a},i?{style:_f({height:"100%",width:"100%",maxHeight:a,maxWidth:n},e.props.style)}:{})):e})},[r,m,c,h,f,p,A,s]);return d.createElement("div",{id:v?"".concat(v):void 0,className:Vt("recharts-responsive-container",x),style:_f(_f({},w),{},{width:s,height:c,minWidth:p,minHeight:f,maxHeight:h}),ref:N},E)}),Bf=function(e){return null};function zf(e){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(r),!0).forEach(function(t){Uf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Uf(e,t,r){var n;return n=function(e,t){if("object"!=zf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Bf.displayName="Cell";var Ff={widthCache:{},cacheCount:0},Gf={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vf="recharts_measurement_span";var Wf=function(e){if(null==e||Jp)return{width:0,height:0};var t,r=(t=qf({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),n=JSON.stringify({text:e,copyStyle:r});if(Ff.widthCache[n])return Ff.widthCache[n];try{var a=document.getElementById(Vf);a||((a=document.createElement("span")).setAttribute("id",Vf),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=qf(qf({},Gf),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return Ff.widthCache[n]=s,++Ff.cacheCount>2e3&&(Ff.cacheCount=0,Ff.widthCache={}),s}catch(l){return{width:0,height:0}}};function Hf(e){return(Hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jf(n.key),n)}}function Jf(e){var t=function(e,t){if("object"!=Hf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Hf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Hf(t)?t:t+""}var Qf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zf=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eh=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,th=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rh={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},nh=Object.keys(rh),ah="NaN";var ih=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||eh.test(r)||(this.num=NaN,this.unit=""),nh.includes(r)&&(this.num=function(e,t){return e*rh[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Xf(null!==(r=th.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!=i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&Yf(t.prototype,r),n&&Yf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function oh(e){if(e.includes(ah))return ah;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Xf(null!==(r=Qf.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],o=n[3],s=ih.parse(null!=a?a:""),l=ih.parse(null!=o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return ah;t=t.replace(Qf,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Xf(null!==(u=Zf.exec(t))&&void 0!==u?u:[],4),p=d[1],f=d[2],h=d[3],m=ih.parse(null!=p?p:""),g=ih.parse(null!=h?h:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return ah;t=t.replace(Zf,y.toString())}return t}var sh=/\(([^()]*)\)/;function lh(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Xf(sh.exec(t),2)[1];t=t.replace(sh,oh(r))}return t}(t),t=oh(t)}function ch(e){var t=function(e){try{return lh(e)}catch(t){return ah}}(e.slice(5,-1));return t===ah?"":t}var uh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dh=["dx","dy","angle","className","breakAll"];function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function fh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gh=/[ \f\n\r\t\v\u2028\u2029]+/,yh=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return ga(t)||(a=r?t.toString().split(""):t.toString().split(gh)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Wf(e,n).width}}),spaceWidth:r?0:Wf(" ",n).width}}catch(i){return null}},vh=function(e){return[{words:ga(e)?[]:e.toString().split(gh)}]},xh=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!Jp){var s=yh({breakAll:i,children:n,style:a});return s?function(e,t,r,n,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Xa(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e},[])},p=d(t);if(!c)return p;for(var f,h=function(e){var t=u.slice(0,e),r=yh({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,a=d(r),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[o,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),x=hh(h(v-1),2),b=x[0],j=x[1],w=hh(h(v),1)[0];if(b||w||(m=v+1),b&&w&&(g=v-1),!b&&w){f=j;break}y++}return f||p}({breakAll:i,children:n,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,r):vh(n)}return vh(n)},bh="#808080",jh=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.lineHeight,s=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,p=void 0!==u&&u,f=e.textAnchor,h=void 0===f?"start":f,m=e.verticalAnchor,g=void 0===m?"end":m,y=e.fill,v=void 0===y?bh:y,x=fh(e,uh),b=o.useMemo(function(){return xh({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:p,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,p,x.style,x.width]),j=x.dx,w=x.dy,N=x.angle,O=x.className,S=x.breakAll,A=fh(x,dh);if(!Ka(r)||!Ka(a))return null;var P,k=r+(Xa(j)?j:0),E=a+(Xa(w)?w:0);switch(g){case"start":P=ch("calc(".concat(c,")"));break;case"middle":P=ch("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:P=ch("calc(".concat(b.length-1," * -").concat(s,")"))}var T=[];if(p){var C=b[0].width,M=x.width;T.push("scale(".concat((Xa(M)?M/C:1)/C,")"))}return N&&T.push("rotate(".concat(N,", ").concat(k,", ").concat(E,")")),T.length&&(A.transform=T.join(" ")),d.createElement("text",ph({},Si(A,!0),{x:k,y:E,className:Vt("recharts-text",O),textAnchor:h,fill:v.includes("url")?bh:v}),b.map(function(e,t){var r=e.words.join(S?"":" ");return d.createElement("tspan",{x:k,dy:0===t?P:s,key:"".concat(r,"-").concat(t)},r)}))};function wh(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nh(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Oh(e){let t,r,n;function a(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=wh,r=(t,r)=>wh(e(t),r),n=(t,r)=>e(t)-r):(t=e===wh||e===Nh?e:Sh,r=e,n=e),{left:a,center:function(e,t,r=0,i=e.length){const o=a(e,t,r,i-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Sh(){return 0}function Ah(e){return null===e?NaN:+e}const Ph=Oh(wh).right;Oh(Ah).center;class kh extends Map{constructor(e,t=Th){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Eh(this,e))}has(e){return super.has(Eh(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function Eh({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Th(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Ch(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Mh=Math.sqrt(50),_h=Math.sqrt(10),Ih=Math.sqrt(2);function Dh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Mh?10:i>=_h?5:i>=Ih?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Dh(e,t,2*r):[s,l,c]}function Rh(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?Dh(t,e,r):Dh(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Lh(e,t,r){return Dh(e=+e,t=+t,r=+r)[2]}function Bh(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Lh(t,e,r):Lh(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function zh(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function $h(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function qh(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Ch:function(e=wh){if(e===wh)return Ch;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);qh(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(Uh(e,r,t),a(e[n],i)>0&&Uh(e,r,n);o<s;){for(Uh(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?Uh(e,r,s):(++s,Uh(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Uh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Fh(e,t,r=Ah){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function Gh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Vh(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Wh=Symbol("implicit");function Hh(){var e=new kh,t=[],r=[],n=Wh;function a(a){let i=e.get(a);if(void 0===i){if(n!==Wh)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new kh;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Hh(t,r).unknown(n)},Gh.apply(a,arguments),a}function Xh(){var e,t,r=Hh().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,p=d?o:i,f=d?i:o;e=(f-p)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),p+=(f-p-e*(r-l))*u,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var h=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return p+e*t});return a(d?h.reverse():h)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Xh(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Gh.apply(d(),arguments)}function Kh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kh(t())},e}function Yh(){return Kh(Xh.apply(null,arguments).paddingInner(1))}function Jh(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qh(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zh(){}var em=.7,tm=1/em,rm="\\s*([+-]?\\d+)\\s*",nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",am="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",im=/^#([0-9a-f]{3,8})$/,om=new RegExp(`^rgb\\(${rm},${rm},${rm}\\)$`),sm=new RegExp(`^rgb\\(${am},${am},${am}\\)$`),lm=new RegExp(`^rgba\\(${rm},${rm},${rm},${nm}\\)$`),cm=new RegExp(`^rgba\\(${am},${am},${am},${nm}\\)$`),um=new RegExp(`^hsl\\(${nm},${am},${am}\\)$`),dm=new RegExp(`^hsla\\(${nm},${am},${am},${nm}\\)$`),pm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fm(){return this.rgb().formatHex()}function hm(){return this.rgb().formatRgb()}function mm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=im.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?gm(t):3===r?new xm(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?ym(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?ym(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=om.exec(e))?new xm(t[1],t[2],t[3],1):(t=sm.exec(e))?new xm(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=lm.exec(e))?ym(t[1],t[2],t[3],t[4]):(t=cm.exec(e))?ym(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=um.exec(e))?Sm(t[1],t[2]/100,t[3]/100,1):(t=dm.exec(e))?Sm(t[1],t[2]/100,t[3]/100,t[4]):pm.hasOwnProperty(e)?gm(pm[e]):"transparent"===e?new xm(NaN,NaN,NaN,0):null}function gm(e){return new xm(e>>16&255,e>>8&255,255&e,1)}function ym(e,t,r,n){return n<=0&&(e=t=r=NaN),new xm(e,t,r,n)}function vm(e,t,r,n){return 1===arguments.length?((a=e)instanceof Zh||(a=mm(a)),a?new xm((a=a.rgb()).r,a.g,a.b,a.opacity):new xm):new xm(e,t,r,null==n?1:n);var a}function xm(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function bm(){return`#${Om(this.r)}${Om(this.g)}${Om(this.b)}`}function jm(){const e=wm(this.opacity);return`${1===e?"rgb(":"rgba("}${Nm(this.r)}, ${Nm(this.g)}, ${Nm(this.b)}${1===e?")":`, ${e})`}`}function wm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nm(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Om(e){return((e=Nm(e))<16?"0":"")+e.toString(16)}function Sm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pm(e,t,r,n)}function Am(e){if(e instanceof Pm)return new Pm(e.h,e.s,e.l,e.opacity);if(e instanceof Zh||(e=mm(e)),!e)return new Pm;if(e instanceof Pm)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Pm(o,s,l,e.opacity)}function Pm(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function km(e){return(e=(e||0)%360)<0?e+360:e}function Em(e){return Math.max(0,Math.min(1,e||0))}function Tm(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Jh(Zh,mm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:fm,formatHex:fm,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Am(this).formatHsl()},formatRgb:hm,toString:hm}),Jh(xm,vm,Qh(Zh,{brighter(e){return e=null==e?tm:Math.pow(tm,e),new xm(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?em:Math.pow(em,e),new xm(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xm(Nm(this.r),Nm(this.g),Nm(this.b),wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bm,formatHex:bm,formatHex8:function(){return`#${Om(this.r)}${Om(this.g)}${Om(this.b)}${Om(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:jm,toString:jm})),Jh(Pm,function(e,t,r,n){return 1===arguments.length?Am(e):new Pm(e,t,r,null==n?1:n)},Qh(Zh,{brighter(e){return e=null==e?tm:Math.pow(tm,e),new Pm(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?em:Math.pow(em,e),new Pm(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xm(Tm(e>=240?e-240:e+120,a,n),Tm(e,a,n),Tm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Pm(km(this.h),Em(this.s),Em(this.l),wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wm(this.opacity);return`${1===e?"hsl(":"hsla("}${km(this.h)}, ${100*Em(this.s)}%, ${100*Em(this.l)}%${1===e?")":`, ${e})`}`}}));const Cm=e=>()=>e;function Mm(e){return 1===(e=+e)?_m:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Cm(isNaN(t)?r:t)}}function _m(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):Cm(isNaN(e)?t:e)}const Im=function e(t){var r=Mm(t);function n(e,t){var n=r((e=vm(e)).r,(t=vm(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=_m(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Dm(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function Rm(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=Fm(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function Lm(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zm(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Fm(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var $m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qm=new RegExp($m.source,"g");function Um(e,t){var r,n,a,i=$m.lastIndex=qm.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=$m.exec(e))&&(n=qm.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:Bm(r,n)})),i=qm.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function Fm(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?Cm(t):("number"===a?Bm:"string"===a?(r=mm(t))?(t=r,Im):Um:t instanceof mm?Im:t instanceof Date?Lm:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Rm:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?zm:Bm:Dm))(e,t)}function Gm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Vm(e){return+e}var Wm=[0,1];function Hm(e){return e}function Xm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Km(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Xm(a,n),i=r(o,i)):(n=Xm(n,a),i=r(i,o)),function(e){return i(n(e))}}function Ym(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Xm(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=Ph(e,t,1,n)-1;return i[r](a[r](t))}}function Jm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Qm(){var e,t,r,n,a,i,o=Wm,s=Wm,l=Fm,c=Hm;function u(){var e,t,r,l=Math.min(o.length,s.length);return c!==Hm&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?Ym:Km,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),Bm)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Vm),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Gm,u()},d.clamp=function(e){return arguments.length?(c=!!e||Hm,u()):c!==Hm},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Zm(){return Qm()(Hm,Hm)}function eg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function tg(e){return(e=eg(Math.abs(e)))?e[1]:NaN}var rg,ng=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ag(e){if(!(t=ng.exec(e)))throw new Error("invalid format: "+e);var t;return new ig({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ig(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function og(e,t){var r=eg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}ag.prototype=ig.prototype,ig.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const sg={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>og(100*e,t),r:og,s:function(e,t){var r=eg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(rg=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+eg(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lg(e){return e}var cg,ug,dg,pg=Array.prototype.map,fg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hg(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?lg:(t=pg.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?lg:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(pg.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=ag(e)).fill,r=e.align,d=e.sign,p=e.symbol,f=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):sg[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var x="$"===p?a:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===p?i:/[%p]/.test(v)?l:"",j=sg[v],w=/[defgprs%]/.test(v);function N(e){var a,i,l,p=x,N=b;if("c"===v)N=j(e)+N,e="";else{var O=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),O&&0===+e&&"+"!==d&&(O=!1),p=(O?"("===d?d:c:"-"===d||"("===d?"":d)+p,N=("s"===v?fg[8+rg/3]:"")+N+(O&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!f&&(e=n(e,1/0));var S=p.length+e.length+N.length,A=S<h?new Array(h-S+1).join(t):"";switch(m&&f&&(e=n(A+e,A.length?h-N.length:1/0),A=""),r){case"<":e=p+e+N+A;break;case"=":e=p+A+e+N;break;case"^":e=A.slice(0,S=A.length>>1)+p+e+N+A.slice(S);break;default:e=A+p+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=ag(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(tg(t)/3))),a=Math.pow(10,-n),i=fg[8+n/3];return function(e){return r(a*e)+i}}}}function mg(e,t,r,n){var a,i=Bh(e,t,r);switch((n=ag(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tg(t)/3)))-tg(Math.abs(e)))}(i,o))||(n.precision=a),dg(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tg(t)-tg(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-tg(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return ug(n)}function gg(e){var t=e.domain;return e.ticks=function(e){var r=t();return Rh(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return mg(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=Lh(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function yg(){var e=Zm();return e.copy=function(){return Jm(e,yg())},Gh.apply(e,arguments),gg(e)}function vg(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function xg(e){return Math.log(e)}function bg(e){return Math.exp(e)}function jg(e){return-Math.log(-e)}function wg(e){return-Math.exp(-e)}function Ng(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Og(e){return(t,r)=>-e(-t,r)}function Sg(e){const t=e(xg,bg),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?Ng:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=Og(n),a=Og(a),e(jg,wg)):e(xg,bg),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),p=n(s);const f=null==e?10:+e;let h=[];if(!(i%1)&&p-d<f){if(d=Math.floor(d),p=Math.ceil(p),o>0){for(;d<=p;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;h.push(u)}}else for(;d<=p;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;h.push(u)}2*h.length<f&&(h=Rh(o,s,f))}else h=Rh(d,p,Math.min(p-d,f)).map(a);return l?h.reverse():h},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!=typeof r&&(i%1||null!=(r=ag(r)).precision||(r.trim=!0),r=ug(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(vg(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Ag(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Pg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kg(e){var t=1,r=e(Ag(t),Pg(t));return r.constant=function(r){return arguments.length?e(Ag(t=+r),Pg(t)):t},gg(r)}function Eg(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Cg(e){return e<0?-e*e:e*e}function Mg(e){var t=e(Hm,Hm),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Hm,Hm):.5===r?e(Tg,Cg):e(Eg(r),Eg(1/r)):r},gg(t)}function _g(){var e=Mg(Qm());return e.copy=function(){return Jm(e,_g()).exponent(e.exponent())},Gh.apply(e,arguments),e}function Ig(e){return Math.sign(e)*e*e}cg=hg({thousands:",",grouping:[3],currency:["$",""]}),ug=cg.format,dg=cg.formatPrefix;const Dg=new Date,Rg=new Date;function Lg(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>Lg(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>(Dg.setTime(+t),Rg.setTime(+n),e(Dg),e(Rg),Math.floor(r(Dg,Rg))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Bg=Lg(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bg.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Lg(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bg:null),Bg.range;const zg=1e3,$g=6e4,qg=36e5,Ug=864e5,Fg=6048e5,Gg=2592e6,Vg=31536e6,Wg=Lg(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zg)},(e,t)=>(t-e)/zg,e=>e.getUTCSeconds());Wg.range;const Hg=Lg(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zg)},(e,t)=>{e.setTime(+e+t*$g)},(e,t)=>(t-e)/$g,e=>e.getMinutes());Hg.range;const Xg=Lg(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*$g)},(e,t)=>(t-e)/$g,e=>e.getUTCMinutes());Xg.range;const Kg=Lg(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zg-e.getMinutes()*$g)},(e,t)=>{e.setTime(+e+t*qg)},(e,t)=>(t-e)/qg,e=>e.getHours());Kg.range;const Yg=Lg(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qg)},(e,t)=>(t-e)/qg,e=>e.getUTCHours());Yg.range;const Jg=Lg(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$g)/Ug,e=>e.getDate()-1);Jg.range;const Qg=Lg(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ug,e=>e.getUTCDate()-1);Qg.range;const Zg=Lg(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ug,e=>Math.floor(e/Ug));function ey(e){return Lg(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*$g)/Fg)}Zg.range;const ty=ey(0),ry=ey(1),ny=ey(2),ay=ey(3),iy=ey(4),oy=ey(5),sy=ey(6);function ly(e){return Lg(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Fg)}ty.range,ry.range,ny.range,ay.range,iy.range,oy.range,sy.range;const cy=ly(0),uy=ly(1),dy=ly(2),py=ly(3),fy=ly(4),hy=ly(5),my=ly(6);cy.range,uy.range,dy.range,py.range,fy.range,hy.range,my.range;const gy=Lg(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());gy.range;const yy=Lg(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());yy.range;const vy=Lg(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vy.every=e=>isFinite(e=Math.floor(e))&&e>0?Lg(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,vy.range;const xy=Lg(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function by(e,t,r,n,a,i){const o=[[Wg,1,zg],[Wg,5,5e3],[Wg,15,15e3],[Wg,30,3e4],[i,1,$g],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,qg],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Ug],[n,2,1728e5],[r,1,Fg],[t,1,Gg],[t,3,7776e6],[e,1,Vg]];function s(t,r,n){const a=Math.abs(r-t)/n,i=Oh(([,,e])=>e).right(o,a);if(i===o.length)return e.every(Bh(t/Vg,r/Vg,n));if(0===i)return Bg.every(Math.max(Bh(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}xy.every=e=>isFinite(e=Math.floor(e))&&e>0?Lg(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,xy.range;const[jy,wy]=by(xy,yy,cy,Zg,Yg,Xg),[Ny,Oy]=by(vy,gy,ty,Jg,Kg,Hg);function Sy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ay(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Py(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var ky,Ey,Ty,Cy={"-":"",_:" ",0:"0"},My=/^\s*\d+/,_y=/^%/,Iy=/[\\^$*+?|[\]().{}]/g;function Dy(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Ry(e){return e.replace(Iy,"\\$&")}function Ly(e){return new RegExp("^(?:"+e.map(Ry).join("|")+")","i")}function By(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function zy(e,t,r){var n=My.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $y(e,t,r){var n=My.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Fy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Gy(e,t,r){var n=My.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Vy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Wy(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hy(e,t,r){var n=My.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Xy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Ky(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Yy(e,t,r){var n=My.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Jy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Qy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zy(e,t,r){var n=My.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ev(e,t,r){var n=My.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function tv(e,t,r){var n=My.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function rv(e,t,r){var n=_y.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function nv(e,t,r){var n=My.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function av(e,t,r){var n=My.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iv(e,t){return Dy(e.getDate(),t,2)}function ov(e,t){return Dy(e.getHours(),t,2)}function sv(e,t){return Dy(e.getHours()%12||12,t,2)}function lv(e,t){return Dy(1+Jg.count(vy(e),e),t,3)}function cv(e,t){return Dy(e.getMilliseconds(),t,3)}function uv(e,t){return cv(e,t)+"000"}function dv(e,t){return Dy(e.getMonth()+1,t,2)}function pv(e,t){return Dy(e.getMinutes(),t,2)}function fv(e,t){return Dy(e.getSeconds(),t,2)}function hv(e){var t=e.getDay();return 0===t?7:t}function mv(e,t){return Dy(ty.count(vy(e)-1,e),t,2)}function gv(e){var t=e.getDay();return t>=4||0===t?iy(e):iy.ceil(e)}function yv(e,t){return e=gv(e),Dy(iy.count(vy(e),e)+(4===vy(e).getDay()),t,2)}function vv(e){return e.getDay()}function xv(e,t){return Dy(ry.count(vy(e)-1,e),t,2)}function bv(e,t){return Dy(e.getFullYear()%100,t,2)}function jv(e,t){return Dy((e=gv(e)).getFullYear()%100,t,2)}function wv(e,t){return Dy(e.getFullYear()%1e4,t,4)}function Nv(e,t){var r=e.getDay();return Dy((e=r>=4||0===r?iy(e):iy.ceil(e)).getFullYear()%1e4,t,4)}function Ov(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dy(t/60|0,"0",2)+Dy(t%60,"0",2)}function Sv(e,t){return Dy(e.getUTCDate(),t,2)}function Av(e,t){return Dy(e.getUTCHours(),t,2)}function Pv(e,t){return Dy(e.getUTCHours()%12||12,t,2)}function kv(e,t){return Dy(1+Qg.count(xy(e),e),t,3)}function Ev(e,t){return Dy(e.getUTCMilliseconds(),t,3)}function Tv(e,t){return Ev(e,t)+"000"}function Cv(e,t){return Dy(e.getUTCMonth()+1,t,2)}function Mv(e,t){return Dy(e.getUTCMinutes(),t,2)}function _v(e,t){return Dy(e.getUTCSeconds(),t,2)}function Iv(e){var t=e.getUTCDay();return 0===t?7:t}function Dv(e,t){return Dy(cy.count(xy(e)-1,e),t,2)}function Rv(e){var t=e.getUTCDay();return t>=4||0===t?fy(e):fy.ceil(e)}function Lv(e,t){return e=Rv(e),Dy(fy.count(xy(e),e)+(4===xy(e).getUTCDay()),t,2)}function Bv(e){return e.getUTCDay()}function zv(e,t){return Dy(uy.count(xy(e)-1,e),t,2)}function $v(e,t){return Dy(e.getUTCFullYear()%100,t,2)}function qv(e,t){return Dy((e=Rv(e)).getUTCFullYear()%100,t,2)}function Uv(e,t){return Dy(e.getUTCFullYear()%1e4,t,4)}function Fv(e,t){var r=e.getUTCDay();return Dy((e=r>=4||0===r?fy(e):fy.ceil(e)).getUTCFullYear()%1e4,t,4)}function Gv(){return"+0000"}function Vv(){return"%"}function Wv(e){return+e}function Hv(e){return Math.floor(+e/1e3)}function Xv(e){return new Date(e)}function Kv(e){return e instanceof Date?+e:+new Date(+e)}function Yv(e,t,r,n,a,i,o,s,l,c){var u=Zm(),d=u.invert,p=u.domain,f=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),x=c("%B"),b=c("%Y");function j(e){return(l(e)<e?f:s(e)<e?h:o(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?y:v:r(e)<e?x:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(Array.from(e,Kv)):p().map(Xv)},u.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var r=p();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(vg(r,e)):u},u.copy=function(){return Jm(u,Yv(e,t,r,n,a,i,o,s,l,c))},u}function Jv(){var e,t,r,n,a,i=0,o=1,s=Hm,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Fm),c.rangeRound=u(Gm),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function Qv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Zv(){var e=Mg(Jv());return e.copy=function(){return Qv(e,Zv()).exponent(e.exponent())},Vh.apply(e,arguments)}function ex(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=Hm,p=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(p?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Fm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(p=!!e,f):p},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=h(Fm),f.rangeRound=h(Gm),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function tx(){var e=Mg(ex());return e.copy=function(){return Qv(e,tx()).exponent(e.exponent())},Vh.apply(e,arguments)}!function(e){ky=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Ly(a),u=By(a),d=Ly(i),p=By(i),f=Ly(o),h=By(o),m=Ly(s),g=By(s),y=Ly(l),v=By(l),x={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:iv,e:iv,f:uv,g:jv,G:Nv,H:ov,I:sv,j:lv,L:cv,m:dv,M:pv,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Wv,s:Hv,S:fv,u:hv,U:mv,V:yv,w:vv,W:xv,x:null,X:null,y:bv,Y:wv,Z:Ov,"%":Vv},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Sv,e:Sv,f:Tv,g:qv,G:Fv,H:Av,I:Pv,j:kv,L:Ev,m:Cv,M:Mv,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Wv,s:Hv,S:_v,u:Iv,U:Dv,V:Lv,w:Bv,W:zv,x:null,X:null,y:$v,Y:Uv,Z:Gv,"%":Vv},j={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return O(e,t,r,n)},d:Ky,e:Ky,f:tv,g:Vy,G:Gy,H:Jy,I:Jy,j:Yy,L:ev,m:Xy,M:Qy,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Hy,Q:nv,s:av,S:Zy,u:$y,U:qy,V:Uy,w:zy,W:Fy,x:function(e,t,n){return O(e,r,t,n)},X:function(e,t,r){return O(e,n,t,r)},y:Vy,Y:Gy,Z:Wy,"%":rv};function w(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=Cy[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(r){var n,a,i=Py(1900,void 0,1);if(O(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=Ay(Py(i.y,0,1))).getUTCDay(),n=a>4||0===a?uy.ceil(n):uy(n),n=Qg.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Sy(Py(i.y,0,1))).getDay(),n=a>4||0===a?ry.ceil(n):ry(n),n=Jg.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Ay(Py(i.y,0,1)).getUTCDay():Sy(Py(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ay(i)):Sy(i)}}function O(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=j[a in Cy?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),{format:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Ey=ky.format,ky.parse,Ty=ky.utcFormat,ky.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const rx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xh,scaleDiverging:function e(){var t=gg(ex()(Hm));return t.copy=function(){return Qv(t,e())},Vh.apply(t,arguments)},scaleDivergingLog:function e(){var t=Sg(ex()).domain([.1,1,10]);return t.copy=function(){return Qv(t,e()).base(t.base())},Vh.apply(t,arguments)},scaleDivergingPow:tx,scaleDivergingSqrt:function(){return tx.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=kg(ex());return t.copy=function(){return Qv(t,e()).constant(t.constant())},Vh.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Vm),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,Vm):[0,1],gg(n)},scaleImplicit:Wh,scaleLinear:yg,scaleLog:function e(){const t=Sg(Qm()).domain([1,10]);return t.copy=()=>Jm(t,e()).base(t.base()),Gh.apply(t,arguments),t},scaleOrdinal:Hh,scalePoint:Yh,scalePow:_g,scaleQuantile:function e(){var t,r=[],n=[],a=[];function i(){var e=0,t=Math.max(1,n.length);for(a=new Array(t-1);++e<t;)a[e-1]=Fh(r,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:n[Ph(a,e)]}return o.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},o.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(wh),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return a.slice()},o.copy=function(){return e().domain(r).range(n).unknown(t)},Gh.apply(o,arguments)},scaleQuantize:function e(){var t,r=0,n=1,a=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[Ph(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*n-(e-a)*r)/(a+1);return s}return s.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},s.range=function(e){return arguments.length?(a=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,i[0]]:t>=a?[i[a-1],n]:[i[t-1],i[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return e().domain([r,n]).range(o).unknown(t)},Gh.apply(gg(s),arguments)},scaleRadial:function e(){var t,r=Zm(),n=[0,1],a=!1;function i(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:a?Math.round(n):n}return i.invert=function(e){return r.invert(Ig(e))},i.domain=function(e){return arguments.length?(r.domain(e),i):r.domain()},i.range=function(e){return arguments.length?(r.range((n=Array.from(e,Vm)).map(Ig)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(r.clamp(e),i):r.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(r.domain(),n).round(a).clamp(r.clamp()).unknown(t)},Gh.apply(i,arguments),gg(i)},scaleSequential:function e(){var t=gg(Jv()(Hm));return t.copy=function(){return Qv(t,e())},Vh.apply(t,arguments)},scaleSequentialLog:function e(){var t=Sg(Jv()).domain([1,10]);return t.copy=function(){return Qv(t,e()).base(t.base())},Vh.apply(t,arguments)},scaleSequentialPow:Zv,scaleSequentialQuantile:function e(){var t=[],r=Hm;function n(e){if(null!=e&&!isNaN(e=+e))return r((Ph(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(wh),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return $h(e);if(t>=1)return zh(e);var r,n=(r-1)*t,a=Math.floor(n),i=zh(qh(e,a).subarray(0,a+1));return i+($h(e.subarray(a+1))-i)*(n-a)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},Vh.apply(n,arguments)},scaleSequentialSqrt:function(){return Zv.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=kg(Jv());return t.copy=function(){return Qv(t,e()).constant(t.constant())},Vh.apply(t,arguments)},scaleSqrt:function(){return _g.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=kg(Qm());return t.copy=function(){return Jm(t,e()).constant(t.constant())},Gh.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],a=1;function i(e){return null!=e&&e<=e?n[Ph(r,e,0,a)]:t}return i.domain=function(e){return arguments.length?(r=Array.from(e),a=Math.min(r.length,n.length-1),i):r.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),a=Math.min(r.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(r).range(n).unknown(t)},Gh.apply(i,arguments)},scaleTime:function(){return Gh.apply(Yv(Ny,Oy,vy,gy,ty,Jg,Kg,Hg,Wg,Ey).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Gh.apply(Yv(jy,wy,xy,yy,cy,Qg,Yg,Xg,Wg,Ty).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:mg},Symbol.toStringTag,{value:"Module"}));var nx=pr;var ax=function(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(null!=o&&(void 0===s?o==o&&!nx(o):r(o,s)))var s=o,l=i}return l};var ix=function(e,t){return e>t},ox=ax,sx=ix,lx=Bu;const cx=u(function(e){return e&&e.length?ox(e,lx,sx):void 0});var ux=function(e,t){return e<t},dx=ax,px=ux,fx=Bu;const hx=u(function(e){return e&&e.length?dx(e,fx,px):void 0});var mx=Xn,gx=Ku,yx=Fd,vx=Wt;var xx=Dd,bx=function(e,t){return(vx(e)?mx:yx)(e,gx(t))};const jx=u(function(e,t){return xx(bx(e,t),1)});var wx=pu;const Nx=u(function(e,t){return wx(e,t)});var Ox,Sx=1e9,Ax=!0,Px="[DecimalError] ",kx=Px+"Invalid argument: ",Ex=Px+"Exponent out of range: ",Tx=Math.floor,Cx=Math.pow,Mx=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_x=1e7,Ix=9007199254740991,Dx=Tx(1286742750677284.5),Rx={};function Lx(e,t){var r,n,a,i,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ax?Hx(t,d):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),i>(s=(o=Math.ceil(d/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=l.length)-(i=c.length)<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/_x|0,l[i]%=_x;for(r&&(l.unshift(r),++a),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=a,Ax?Hx(t,d):t}function Bx(e,t,r){if(e!==~~e||e<t||e>r)throw Error(kx+e)}function zx(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=Gx(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=Gx(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return i+o}Rx.absoluteValue=Rx.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Rx.comparedTo=Rx.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},Rx.decimalPlaces=Rx.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},Rx.dividedBy=Rx.div=function(e){return $x(this,new this.constructor(e))},Rx.dividedToIntegerBy=Rx.idiv=function(e){var t=this.constructor;return Hx($x(this,new t(e),0,1),t.precision)},Rx.equals=Rx.eq=function(e){return!this.cmp(e)},Rx.exponent=function(){return Ux(this)},Rx.greaterThan=Rx.gt=function(e){return this.cmp(e)>0},Rx.greaterThanOrEqualTo=Rx.gte=function(e){return this.cmp(e)>=0},Rx.isInteger=Rx.isint=function(){return this.e>this.d.length-2},Rx.isNegative=Rx.isneg=function(){return this.s<0},Rx.isPositive=Rx.ispos=function(){return this.s>0},Rx.isZero=function(){return 0===this.s},Rx.lessThan=Rx.lt=function(e){return this.cmp(e)<0},Rx.lessThanOrEqualTo=Rx.lte=function(e){return this.cmp(e)<1},Rx.logarithm=Rx.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(Ox))throw Error(Px+"NaN");if(r.s<1)throw Error(Px+(r.s?"NaN":"-Infinity"));return r.eq(Ox)?new n(0):(Ax=!1,t=$x(Vx(r,i),Vx(e,i),i),Ax=!0,Hx(t,a))},Rx.minus=Rx.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Xx(t,e):Lx(t,(e.s=-e.s,e))},Rx.modulo=Rx.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(Px+"NaN");return r.s?(Ax=!1,t=$x(r,e,0,1).times(e),Ax=!0,r.minus(t)):Hx(new n(r),a)},Rx.naturalExponential=Rx.exp=function(){return qx(this)},Rx.naturalLogarithm=Rx.ln=function(){return Vx(this)},Rx.negated=Rx.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Rx.plus=Rx.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Lx(t,e):Xx(t,(e.s=-e.s,e))},Rx.precision=Rx.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(kx+e);if(t=Ux(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Rx.squareRoot=Rx.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Px+"NaN")}for(e=Ux(s),Ax=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=zx(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Tx((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=o=(r=l.precision)+3;;)if(n=(i=n).plus($x(s,i,o+2)).times(.5),zx(i.d).slice(0,o)===(t=zx(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(Hx(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if("9999"!=t)break;o+=4}return Ax=!0,Hx(n,r)},Rx.times=Rx.mul=function(e){var t,r,n,a,i,o,s,l,c,u=this,d=u.constructor,p=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,(l=p.length)<(c=f.length)&&(i=p,p=f,f=i,o=l,l=c,c=o),i=[],n=o=l+c;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+f[n]*p[a-n-1]+t,i[a--]=s%_x|0,t=s/_x|0;i[a]=(i[a]+t)%_x|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ax?Hx(e,d.precision):e},Rx.toDecimalPlaces=Rx.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(Bx(e,0,Sx),void 0===t?t=n.rounding:Bx(t,0,8),Hx(r,e+Ux(r)+1,t))},Rx.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=Kx(n,!0):(Bx(e,0,Sx),void 0===t?t=a.rounding:Bx(t,0,8),r=Kx(n=Hx(new a(n),e+1,t),!0,e+1)),r},Rx.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?Kx(a):(Bx(e,0,Sx),void 0===t?t=i.rounding:Bx(t,0,8),r=Kx((n=Hx(new i(a),e+Ux(a)+1,t)).abs(),!1,e+Ux(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},Rx.toInteger=Rx.toint=function(){var e=this,t=e.constructor;return Hx(new t(e),Ux(e)+1,t.rounding)},Rx.toNumber=function(){return+this},Rx.toPower=Rx.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(Ox);if(!(s=new l(s)).s){if(e.s<1)throw Error(Px+"Infinity");return s}if(s.eq(Ox))return s;if(n=l.precision,e.eq(Ox))return Hx(s,n);if(o=(t=e.e)>=(r=e.d.length-1),i=s.s,o){if((r=c<0?-c:c)<=Ix){for(a=new l(Ox),t=Math.ceil(n/7+4),Ax=!1;r%2&&Yx((a=a.times(s)).d,t),0!==(r=Tx(r/2));)Yx((s=s.times(s)).d,t);return Ax=!0,e.s<0?new l(Ox).div(a):Hx(a,n)}}else if(i<0)throw Error(Px+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,Ax=!1,a=e.times(Vx(s,n+12)),Ax=!0,(a=qx(a)).s=i,a},Rx.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=Kx(a,(r=Ux(a))<=i.toExpNeg||r>=i.toExpPos):(Bx(e,1,Sx),void 0===t?t=i.rounding:Bx(t,0,8),n=Kx(a=Hx(new i(a),e,t),e<=(r=Ux(a))||r<=i.toExpNeg,e)),n},Rx.toSignificantDigits=Rx.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(Bx(e,1,Sx),void 0===t?t=r.rounding:Bx(t,0,8)),Hx(new r(this),e,t)},Rx.toString=Rx.valueOf=Rx.val=Rx.toJSON=Rx[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ux(e),r=e.constructor;return Kx(e,t<=r.toExpNeg||t>=r.toExpPos)};var $x=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%_x|0,n=r/_x|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*_x+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,l,c,u,d,p,f,h,m,g,y,v,x,b,j,w,N,O,S=n.constructor,A=n.s==a.s?1:-1,P=n.d,k=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Px+"Division by zero");for(l=n.e-a.e,N=k.length,j=P.length,h=(f=new S(A)).d=[],c=0;k[c]==(P[c]||0);)++c;if(k[c]>(P[c]||0)&&--l,(v=null==i?i=S.precision:o?i+(Ux(n)-Ux(a))+1:i)<0)return new S(0);if(v=v/7+2|0,c=0,1==N)for(u=0,k=k[0],v++;(c<j||u)&&v--;c++)x=u*_x+(P[c]||0),h[c]=x/k|0,u=x%k|0;else{for((u=_x/(k[0]+1)|0)>1&&(k=e(k,u),P=e(P,u),N=k.length,j=P.length),b=N,g=(m=P.slice(0,N)).length;g<N;)m[g++]=0;(O=k.slice()).unshift(0),w=k[0],k[1]>=_x/2&&++w;do{u=0,(s=t(k,m,N,g))<0?(y=m[0],N!=g&&(y=y*_x+(m[1]||0)),(u=y/w|0)>1?(u>=_x&&(u=_x-1),1==(s=t(d=e(k,u),m,p=d.length,g=m.length))&&(u--,r(d,N<p?O:k,p))):(0==u&&(s=u=1),d=k.slice()),(p=d.length)<g&&d.unshift(0),r(m,d,g),-1==s&&(s=t(k,m,N,g=m.length))<1&&(u++,r(m,N<g?O:k,g)),g=m.length):0===s&&(u++,m=[0]),h[c++]=u,s&&m[0]?m[g++]=P[b]||0:(m=[P[b]],g=1)}while((b++<j||void 0!==m[0])&&v--)}return h[0]||h.shift(),f.e=l,Hx(f,o?i+Ux(f)+1:i)}}();function qx(e,t){var r,n,a,i,o,s=0,l=0,c=e.constructor,u=c.precision;if(Ux(e)>16)throw Error(Ex+Ux(e));if(!e.s)return new c(Ox);for(Ax=!1,o=u,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(o+=Math.log(Cx(2,l))/Math.LN10*2+5|0,r=n=a=new c(Ox),c.precision=o;;){if(n=Hx(n.times(e),o),r=r.times(++s),zx((i=a.plus($x(n,r,o))).d).slice(0,o)===zx(a.d).slice(0,o)){for(;l--;)a=Hx(a.times(a),o);return c.precision=u,null==t?(Ax=!0,Hx(a,u)):a}a=i}}function Ux(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function Fx(e,t,r){if(t>e.LN10.sd())throw Ax=!0,r&&(e.precision=r),Error(Px+"LN10 precision limit exceeded");return Hx(new e(e.LN10),t)}function Gx(e){for(var t="";e--;)t+="0";return t}function Vx(e,t){var r,n,a,i,o,s,l,c,u,d=1,p=e,f=p.d,h=p.constructor,m=h.precision;if(p.s<1)throw Error(Px+(p.s?"NaN":"-Infinity"));if(p.eq(Ox))return new h(0);if(null==t?(Ax=!1,c=m):c=t,p.eq(10))return null==t&&(Ax=!0),Fx(h,c);if(c+=10,h.precision=c,n=(r=zx(f)).charAt(0),i=Ux(p),!(Math.abs(i)<15e14))return l=Fx(h,c+2,m).times(i+""),p=Vx(new h(n+"."+r.slice(1)),c-10).plus(l),h.precision=m,null==t?(Ax=!0,Hx(p,m)):p;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=zx((p=p.times(e)).d)).charAt(0),d++;for(i=Ux(p),n>1?(p=new h("0."+r),i++):p=new h(n+"."+r.slice(1)),s=o=p=$x(p.minus(Ox),p.plus(Ox),c),u=Hx(p.times(p),c),a=3;;){if(o=Hx(o.times(u),c),zx((l=s.plus($x(o,new h(a),c))).d).slice(0,c)===zx(s.d).slice(0,c))return s=s.times(2),0!==i&&(s=s.plus(Fx(h,c+2,m).times(i+""))),s=$x(s,new h(d),c),h.precision=m,null==t?(Ax=!0,Hx(s,m)):s;s=l,a+=2}}function Wx(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=Tx(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ax&&(e.e>Dx||e.e<-Dx))throw Error(Ex+r)}else e.s=0,e.e=0,e.d=[0];return e}function Hx(e,t,r){var n,a,i,o,s,l,c,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,c=d[u=0];else{if((u=Math.ceil((n+1)/7))>=(i=d.length))return e;for(c=i=d[u],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(s=c/(i=Cx(10,o-a-1))%10|0,l=t<0||void 0!==d[u+1]||c%i,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(n>0?a>0?c/Cx(10,o-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Ux(e),d.length=1,t=t-i-1,d[0]=Cx(10,(7-t%7)%7),e.e=Tx(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,i=1,u--):(d.length=u+1,i=Cx(10,7-n),d[u]=a>0?(c/Cx(10,o-a)%Cx(10,a)|0)*i:0),l)for(;;){if(0==u){(d[0]+=i)==_x&&(d[0]=1,++e.e);break}if(d[u]+=i,d[u]!=_x)break;d[u--]=0,i=1}for(n=d.length;0===d[--n];)d.pop();if(Ax&&(e.e>Dx||e.e<-Dx))throw Error(Ex+Ux(e));return e}function Xx(e,t){var r,n,a,i,o,s,l,c,u,d,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ax?Hx(t,f):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((u=o<0)?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),o>(a=Math.max(Math.ceil(f/7),s)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((u=(a=l.length)<(s=d.length))&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&0===l[--i];)l[i]=_x-1;--l[i],l[a]+=_x}l[a]-=d[a]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,Ax?Hx(t,f):t):new p(0)}function Kx(e,t,r){var n,a=Ux(e),i=zx(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Gx(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Gx(-a-1)+i,r&&(n=r-o)>0&&(i+=Gx(n))):a>=o?(i+=Gx(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Gx(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Gx(n))),e.s<0?"-"+i:i}function Yx(e,t){if(e.length>t)return e.length=t,!0}function Jx(e){if(!e||"object"!=typeof e)throw Error(Px+"Object expected");var t,r,n,a=["precision",1,Sx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(Tx(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(kx+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(kx+r+": "+n);this[r]=new this(n)}return this}var Qx=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(kx+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Wx(t,e.toString())}if("string"!=typeof e)throw Error(kx+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Mx.test(e))throw Error(kx+e);Wx(t,e)}if(i.prototype=Rx,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=Jx,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Ox=new Qx(1);const Zx=Qx;function eb(e){return function(e){if(Array.isArray(e))return tb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rb=function(e){return e},nb={},ab=function(e){return e===nb},ib=function(e){return function t(){return 0===arguments.length||1===arguments.length&&ab(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},ob=function e(t,r){return 1===t?r:ib(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==nb}).length;return o>=t?r.apply(void 0,a):e(t-o,ib(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map(function(e){return ab(e)?t.shift():e});return r.apply(void 0,eb(i).concat(t))}))})},sb=function(e){return ob(e.length,e)},lb=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},cb=sb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),ub=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},db=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};const pb={rangeStep:function(e,t,r){for(var n=new Zx(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new Zx(e).abs().log(10).toNumber())+1},interpolateNumber:sb(function(e,t,r){var n=+e;return n+r*(+t-n)}),uninterpolateNumber:sb(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),uninterpolateTruncation:sb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))})};function fb(e){return function(e){if(Array.isArray(e))return gb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||mb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||mb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mb(e,t){if(e){if("string"==typeof e)return gb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gb(e,t):void 0}}function gb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yb(e){var t=hb(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function vb(e,t,r){if(e.lte(0))return new Zx(0);var n=pb.getDigitCount(e.toNumber()),a=new Zx(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new Zx(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?s:new Zx(Math.ceil(s))}function xb(e,t,r){var n=1,a=new Zx(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Zx(10).pow(pb.getDigitCount(e)-1),a=new Zx(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Zx(Math.floor(e)))}else 0===e?a=new Zx(Math.floor((t-1)/2)):r||(a=new Zx(Math.floor(e)));var o=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return rb;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(cb(function(e){return a.add(new Zx(e-o).mul(n)).toNumber()}),lb);return s(0,t)}function bb(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Zx(0),tickMin:new Zx(0),tickMax:new Zx(0)};var i,o=vb(new Zx(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new Zx(0):(i=new Zx(e).add(t).div(2)).sub(new Zx(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new Zx(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?bb(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new Zx(s).mul(o)),tickMax:i.add(new Zx(l).mul(o))})}var jb=db(function(e){var t=hb(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=hb(yb([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(fb(lb(0,a-1).map(function(){return 1/0}))):[].concat(fb(lb(0,a-1).map(function(){return-1/0})),[c]);return r>n?ub(u):u}if(l===c)return xb(l,a,i);var d=bb(l,c,o,i),p=d.step,f=d.tickMin,h=d.tickMax,m=pb.rangeStep(f,h.add(new Zx(.1).mul(p)),p);return r>n?ub(m):m}),wb=db(function(e,t){var r=hb(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=hb(yb([n,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(t,2),u=vb(new Zx(l).sub(s).div(c-1),i,0),d=[].concat(fb(pb.rangeStep(new Zx(s),new Zx(l).sub(new Zx(.99).mul(u)),u)),[l]);return n>a?ub(d):d});function Nb(e,t){throw new Error("Invariant failed")}var Ob=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sb(e){return(Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(this,arguments)}function Pb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kb(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tb(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rb(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cb(e,t,r){return t=_b(t),function(e,t){if(t&&("object"===Sb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mb()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function Mb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Mb=function(){return!!e})()}function _b(e){return(_b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ib(e,t){return(Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Db(e,t,r){return(t=Rb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rb(e){var t=function(e,t){if("object"!=Sb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Sb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Sb(t)?t:t+""}var Lb=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Cb(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ib(e,t)}(e,d.Component),Tb(e,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,o=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,c=Eb(e,Ob),u=Si(c,!1);"x"===this.props.direction&&"number"!==s.type&&Nb();var p=i.map(function(e){var i=o(e,a),c=i.x,p=i.y,f=i.value,h=i.errorVal;if(!h)return null;var m,g,y=[];if(Array.isArray(h)){var v=Pb(h,2);m=v[0],g=v[1]}else m=g=h;if("vertical"===r){var x=s.scale,b=p+t,j=b+n,w=b-n,N=x(f-m),O=x(f+g);y.push({x1:O,y1:j,x2:O,y2:w}),y.push({x1:N,y1:b,x2:O,y2:b}),y.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var S=l.scale,A=c+t,P=A-n,k=A+n,E=S(f-m),T=S(f+g);y.push({x1:P,y1:T,x2:k,y2:T}),y.push({x1:A,y1:E,x2:A,y2:T}),y.push({x1:P,y1:E,x2:k,y2:E})}return d.createElement(Ri,Ab({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),y.map(function(e){return d.createElement("line",Ab({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return d.createElement(Ri,{className:"recharts-errorBars"},p)}}])}();function Bb(e){return(Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zb(Object(r),!0).forEach(function(t){qb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qb(e,t,r){var n;return n=function(e,t){if("object"!=Bb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Bb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Bb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Db(Lb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Db(Lb,"displayName","ErrorBar");var Ub=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=ji(t,Ed);if(!i)return null;var o,s=Ed.defaultProps,l=void 0!==s?$b($b({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?$b($b({},r),t.props):{},a=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:Jb(t),value:i||a,payload:n}}),$b($b($b({},l),Ed.getWithHeight(i,n)),{},{payload:o,item:i})};function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gb(e){return function(e){if(Array.isArray(e))return Vb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Vb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wb(Object(r),!0).forEach(function(t){Xb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xb(e,t,r){var n;return n=function(e,t){if("object"!=Fb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Fb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kb(e,t,r){return ga(e)||ga(t)?r:Ka(t)?ma(e,t,r):Nr(t)?t(e):r}function Yb(e,t,r,n){var a=jx(e,function(e){return Kb(e,t)});if("number"===r){var i=a.filter(function(e){return Xa(e)||parseFloat(e)});return i.length?[hx(i),cx(i)]:[1/0,-1/0]}return(n?a.filter(function(e){return!ga(e)}):a).map(function(e){return Ka(e)||e instanceof Date?e:""})}var Jb=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Hb(Hb({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:o;break;default:r=o}return r},Qb=function(e,t,r,n,a){var i=bi(t.props.children,Lb).filter(function(e){return function(e,t,r){return!!ga(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=Kb(t,r);if(ga(n))return e;var a=Array.isArray(n)?[hx(n),cx(n)]:[n,n],i=o.reduce(function(e,r){var n=Kb(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},Zb=function(e,t,r,n,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===r&&i&&Qb(e,t,i,n)||Yb(e,i,r,a)});if("number"===r)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e},[])},ej=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},tj=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(r),o},rj=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==o?void 0:o.length)>=2?2*Wa(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Va(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},nj=new WeakMap,aj=function(e,t){if("function"!=typeof t)return e;nj.has(e)||nj.set(e,new WeakMap);var r=nj.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},ij=function(e,t,r){var n=e.scale,a=e.type,i=e.layout,o=e.axisType;if("auto"===n)return"radial"===i&&"radiusAxis"===o?{scale:Xh(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:yg(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Yh(),realScaleType:"point"}:"category"===a?{scale:Xh(),realScaleType:"band"}:{scale:yg(),realScaleType:"linear"};if(ba(n)){var s="scale".concat(lo(n));return{scale:(rx[s]||Yh)(),realScaleType:rx[s]?s:"point"}}return Nr(n)?{scale:n}:{scale:Yh(),realScaleType:"point"}},oj=1e-4,sj=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-oj,i=Math.max(n[0],n[1])+oj,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},lj={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=Va(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}us(e,t)}},none:us,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}us(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,p=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var h=e[t[f]];p+=(h[o][1]||0)-(h[o-1][1]||0)}l+=d,c+=p*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,us(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Va(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},cj=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=lj[r],i=function(){var e=co([]),t=ds,r=us,n=ps;function a(a){var i,o,s=Array.from(e.apply(this,arguments),fs),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=No(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:co(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:co(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?ds:"function"==typeof e?e:co(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?us:e,a):r},a}().keys(n).value(function(e,t){return+Kb(e,t,0)}).order(ds).offset(a);return i(e)},uj=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=jb(l,a,o);return e.domain([hx(c),cx(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:wb(u,a,o)}}return null};function dj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ga(a[t.dataKey])){var s=ti(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Kb(a,ga(o)?t.dataKey:o);return ga(l)?null:t.scale(l)}var pj=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=Kb(i,t.dataKey,t.domain[o]);return ga(s)?null:t.scale(s)-a/2+n},fj=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a].stackedData.reduce(function(e,n){var a=n.slice(t,r+1).reduce(function(e,t){return[hx(t.concat([e[0]]).filter(Xa)),cx(t.concat([e[1]]).filter(Xa))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},hj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gj=function(e,t,r){if(Nr(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Xa(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(hj.test(e[0])){var a=+hj.exec(e[0])[1];n[0]=t[0]-a}else Nr(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Xa(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(mj.test(e[1])){var i=+mj.exec(e[1])[1];n[1]=t[1]+i}else Nr(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},yj=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Op(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},vj=function(e,t,r){return e&&e.length?Nx(e,ma(r,"type.defaultProps.domain"))?t:e:t},xj=function(e,t){var r=e.type.defaultProps?Hb(Hb({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return Hb(Hb({},Si(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:Jb(e),value:Kb(t,n),type:s,payload:t,chartType:l,hide:c})};function bj(e){return(bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(t){Nj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nj(e,t,r){var n;return n=function(e,t){if("object"!=bj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=bj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aj=Math.PI/180,Pj=function(e){return 180*e/Math.PI},kj=function(e,t,r,n){return{x:e+Math.cos(-Aj*n)*r,y:t+Math.sin(-Aj*n)*r}},Ej=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Tj=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:Pj(l),angleInRadian:l}},Cj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Mj=function(e,t){var r=e.x,n=e.y,a=Tj({x:r,y:n},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,p=u.endAngle,f=o;if(d<=p){for(;f>p;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=p}else{for(;f>d;)f-=360;for(;f<p;)f+=360;c=f>=p&&f<=d}return c?wj(wj({},t),{},{radius:i,angle:Cj(f,t)}):null},_j=function(e){return o.isValidElement(e)||Nr(e)||"boolean"==typeof e?"":e.className};function Ij(e){return(Ij="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Dj=["offset"];function Rj(e){return function(e){if(Array.isArray(e))return Lj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(t){qj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qj(e,t,r){var n;return n=function(e,t){if("object"!=Ij(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ij(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ij(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(this,arguments)}var Fj=function(e,t,r){var n,a,i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,u=c.cx,p=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,y=c.clockWise,v=(f+h)/2,x=function(e,t){return Wa(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=x>=0?1:-1;"insideStart"===i?(n=m+b*s,a=y):"insideEnd"===i?(n=g-b*s,a=!y):"end"===i&&(n=g+b*s,a=y),a=x<=0?a:!a;var j=kj(u,p,v,n),w=kj(u,p,v,n+359*(a?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(w.x,",").concat(w.y),O=ga(e.id)?Ja("recharts-radial-line-"):e.id;return d.createElement("text",Uj({},r,{dominantBaseline:"central",className:Vt("recharts-radial-bar-label",l)}),d.createElement("defs",null,d.createElement("path",{id:O,d:N})),d.createElement("textPath",{xlinkHref:"#".concat(O)},t))};function Gj(e){var t,r=e.offset,n=$j({offset:void 0===r?5:r},Bj(e,Dj)),a=n.viewBox,i=n.position,s=n.value,l=n.children,c=n.content,u=n.className,p=void 0===u?"":u,f=n.textBreakAll;if(!a||ga(s)&&ga(l)&&!o.isValidElement(c)&&!Nr(c))return null;if(o.isValidElement(c))return o.cloneElement(c,n);if(Nr(c)){if(t=o.createElement(c,n),o.isValidElement(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=ga(e.children)?t:e.children;return Nr(r)?r(n):n}(n);var h=function(e){return"cx"in e&&Xa(e.cx)}(a),m=Si(n,!0);if(h&&("insideStart"===i||"insideEnd"===i||"end"===i))return Fj(n,t,m);var g=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=kj(i,o,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=kj(i,o,(s+l)/2,c);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,p=u>0?"end":"start",f=u>0?"start":"end",h=l>=0?1:-1,m=h*n,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===a)return $j($j({},{x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return $j($j({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var v={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return $j($j({},v),r?{width:Math.max(v.x-r.x,0),height:c}:{})}if("right"===a){var x={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return $j($j({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?$j({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?$j({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?$j({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},b):"insideBottom"===a?$j({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:p},b):"insideTopLeft"===a?$j({x:o+m,y:s+d,textAnchor:y,verticalAnchor:f},b):"insideTopRight"===a?$j({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:f},b):"insideBottomLeft"===a?$j({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:p},b):"insideBottomRight"===a?$j({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:p},b):xr(a)&&(Xa(a.x)||Ha(a.x))&&(Xa(a.y)||Ha(a.y))?$j({x:o+Qa(a.x,l),y:s+Qa(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):$j({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(n);return d.createElement(jh,Uj({className:Vt("recharts-label",p)},m,g,{breakAll:f}),t)}Gj.displayName="Label";var Vj=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,p=e.top,f=e.left,h=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Xa(h)&&Xa(m)){if(Xa(u)&&Xa(d))return{x:u,y:d,width:h,height:m};if(Xa(p)&&Xa(f))return{x:p,y:f,width:h,height:m}}return Xa(u)&&Xa(d)?{x:u,y:d,width:0,height:0}:Xa(t)&&Xa(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};Gj.parseViewBox=Vj,Gj.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Vj(e),i=bi(n,Gj).map(function(e,r){return o.cloneElement(e,{viewBox:t||a,key:"label-".concat(r)})});if(!r)return i;var s=function(e,t){return e?!0===e?d.createElement(Gj,{key:"label-implicit",viewBox:t}):Ka(e)?d.createElement(Gj,{key:"label-implicit",viewBox:t,value:e}):o.isValidElement(e)?e.type===Gj?o.cloneElement(e,{key:"label-implicit",viewBox:t}):d.createElement(Gj,{key:"label-implicit",content:e,viewBox:t}):Nr(e)?d.createElement(Gj,{key:"label-implicit",content:e,viewBox:t}):xr(e)?d.createElement(Gj,Uj({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(Rj(i))};const Wj=u(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function Hj(e){return(Hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xj=["valueAccessor"],Kj=["data","dataKey","clockWise","id","textBreakAll"];function Yj(e){return function(e){if(Array.isArray(e))return Jj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Jj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(this,arguments)}function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ew(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(t){tw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tw(e,t,r){var n;return n=function(e,t){if("object"!=Hj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Hj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Hj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var nw=function(e){return Array.isArray(e.value)?Wj(e.value):e.value};function aw(e){var t=e.valueAccessor,r=void 0===t?nw:t,n=rw(e,Xj),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,c=rw(n,Kj);return a&&a.length?d.createElement(Ri,{className:"recharts-label-list"},a.map(function(e,t){var n=ga(i)?r(e,t):Kb(e&&e.payload,i),a=ga(s)?{}:{id:"".concat(s,"-").concat(t)};return d.createElement(Gj,Qj({},Si(e,!0),c,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:l,viewBox:Gj.parseViewBox(ga(o)?e:ew(ew({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}function iw(e){return(iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(this,arguments)}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(t){cw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cw(e,t,r){var n;return n=function(e,t){if("object"!=iw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=iw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==iw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}aw.displayName="LabelList",aw.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=bi(e.children,aw).map(function(e,r){return o.cloneElement(e,{data:t,key:"labelList-".concat(r)})});return r?[function(e,t){return e?!0===e?d.createElement(aw,{key:"labelList-implicit",data:t}):d.isValidElement(e)||Nr(e)?d.createElement(aw,{key:"labelList-implicit",data:t,content:e}):xr(e)?d.createElement(aw,Qj({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(Yj(n)):n};var uw=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Aj,d=l?a:a+i*u,p=l?a-i*u:a;return{center:kj(t,r,c,d),circleTangency:kj(t,r,n,d),lineTangency:kj(t,r,c*Math.cos(u*Aj),p),theta:u}},dw=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Wa(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=kj(t,r,a,i),c=kj(t,r,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=kj(t,r,n,i),p=kj(t,r,n,s);u+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},pw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fw=function(e){var t=lw(lw({},pw),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,p=t.className;if(i<a||c===u)return null;var f,h=Vt("recharts-sector",p),m=i-a,g=Qa(o,m,0,!0);return f=g>0&&Math.abs(c-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Wa(c-l),d=uw({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),p=d.circleTangency,f=d.lineTangency,h=d.theta,m=uw({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,x=s?Math.abs(l-c):Math.abs(l-c)-h-v;if(x<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):dw({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(f.x,",").concat(f.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(n>0){var j=uw({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=j.circleTangency,N=j.lineTangency,O=j.theta,S=uw({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),A=S.circleTangency,P=S.lineTangency,k=S.theta,E=s?Math.abs(l-c):Math.abs(l-c)-O-k;if(E<0&&0===i)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):dw({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u}),d.createElement("path",ow({},Si(t,!0),{className:h,d:f,role:"img"}))};function hw(e){return(hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(this,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(t){vw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vw(e,t,r){var n;return n=function(e,t){if("object"!=hw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=hw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==hw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xw={curveBasisClosed:function(e){return new Jo(e)},curveBasisOpen:function(e){return new Qo(e)},curveBasis:function(e){return new Yo(e)},curveBumpX:function(e){return new To(e,!0)},curveBumpY:function(e){return new To(e,!1)},curveLinearClosed:function(e){return new Zo(e)},curveLinear:So,curveMonotoneX:function(e){return new as(e)},curveMonotoneY:function(e){return new is(e)},curveNatural:function(e){return new ss(e)},curveStep:function(e){return new cs(e,.5)},curveStepAfter:function(e){return new cs(e,1)},curveStepBefore:function(e){return new cs(e,0)}},bw=function(e){return e.x===+e.x&&e.y===+e.y},jw=function(e){return e.x},ww=function(e){return e.y},Nw=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(Nr(e))return e;var r="curve".concat(lo(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?xw[r]||So:xw["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),d=c?i.filter(function(e){return bw(e)}):i;if(Array.isArray(o)){var p=c?o.filter(function(e){return bw(e)}):o,f=d.map(function(e,t){return yw(yw({},e),{},{base:p[t]})});return(t="vertical"===s?Eo().y(ww).x1(jw).x0(function(e){return e.base.x}):Eo().x(jw).y1(ww).y0(function(e){return e.base.y})).defined(bw).curve(u),t(f)}return(t="vertical"===s&&Xa(o)?Eo().y(ww).x1(jw).x0(o):Xa(o)?Eo().x(jw).y1(ww).y0(o):ko().x(jw).y(ww)).defined(bw).curve(u),t(d)},Ow=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if(!(r&&r.length||n))return null;var i=r&&r.length?Nw(e):n;return o.createElement("path",mw({},Si(e,!1),ci(e),{className:Vt("recharts-curve",t),d:i,ref:a}))},Sw={exports:{}};function Aw(){}function Pw(){}Pw.resetWarningCache=Aw;Sw.exports=function(){function e(e,t,r,n,a,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Pw,resetWarningCache:Aw};return r.PropTypes=r,r}();const kw=u(Sw.exports);var Ew=Object.getOwnPropertyNames,Tw=Object.getOwnPropertySymbols,Cw=Object.prototype.hasOwnProperty;function Mw(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function _w(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function Iw(e){return Ew(e).concat(Tw(e))}var Dw=Object.hasOwn||function(e,t){return Cw.call(e,t)};function Rw(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var Lw=Object.getOwnPropertyDescriptor,Bw=Object.keys;function zw(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $w(e,t){return Rw(e.getTime(),t.getTime())}function qw(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Uw(e,t){return e===t}function Fw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var p=a.value,f=i.value;if(r.equals(p[0],f[0],l,d,e,t,r)&&r.equals(p[1],f[1],p[0],f[0],e,t,r)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Gw=Rw;function Vw(e,t,r){var n=Bw(e),a=n.length;if(Bw(t).length!==a)return!1;for(;a-- >0;)if(!Qw(e,t,r,n[a]))return!1;return!0}function Ww(e,t,r){var n,a,i,o=Iw(e),s=o.length;if(Iw(t).length!==s)return!1;for(;s-- >0;){if(!Qw(e,t,r,n=o[s]))return!1;if(a=Lw(e,n),i=Lw(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Hw(e,t){return Rw(e.valueOf(),t.valueOf())}function Xw(e,t){return e.source===t.source&&e.flags===t.flags}function Kw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function Yw(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Jw(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Qw(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Dw(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Zw=Array.isArray,eN="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,tN=Object.assign,rN=Object.prototype.toString.call.bind(Object.prototype.toString);var nN=aN();function aN(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ww:zw,areDatesEqual:$w,areErrorsEqual:qw,areFunctionsEqual:Uw,areMapsEqual:n?Mw(Fw,Ww):Fw,areNumbersEqual:Gw,areObjectsEqual:n?Ww:Vw,arePrimitiveWrappersEqual:Hw,areRegExpsEqual:Xw,areSetsEqual:n?Mw(Kw,Ww):Kw,areTypedArraysEqual:n?Ww:Yw,areUrlsEqual:Jw};if(r&&(a=tN({},a,r(a))),t){var i=_w(a.areArraysEqual),o=_w(a.areMapsEqual),s=_w(a.areObjectsEqual),l=_w(a.areSetsEqual);a=tN({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,f,h){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,h):"function"===m&&a(e,f,h);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,h);if(Zw(e))return t(e,f,h);if(null!=eN&&eN(e))return d(e,f,h);if(g===Date)return r(e,f,h);if(g===RegExp)return c(e,f,h);if(g===Map)return i(e,f,h);if(g===Set)return u(e,f,h);var y=rN(e);return"[object Date]"===y?r(e,f,h):"[object RegExp]"===y?c(e,f,h):"[object Map]"===y?i(e,f,h):"[object Set]"===y?u(e,f,h):"[object Object]"===y?"function"!=typeof e.then&&"function"!=typeof f.then&&s(e,f,h):"[object URL]"===y?p(e,f,h):"[object Error]"===y?n(e,f,h):"[object Arguments]"===y?s(e,f,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,h)}}(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return r(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:i,equals:a?a(c):(t=c,function(e,r,n,a,i,o,s){return t(e,r,s)}),strict:s})}function iN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function oN(e){return(oN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sN(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cN(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=sN(n),i=a[0],o=a.slice(1);return"number"==typeof i?void iN(r.bind(null,o),i):(r(i),void iN(r.bind(null,o)))}"object"===oN(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function uN(e){return(uN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(t){fN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==uN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==uN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}aN({strict:!0}),aN({circular:!0}),aN({circular:!0,strict:!0}),aN({createInternalComparator:function(){return Rw}}),aN({strict:!0,createInternalComparator:function(){return Rw}}),aN({circular:!0,createInternalComparator:function(){return Rw}}),aN({circular:!0,createInternalComparator:function(){return Rw},strict:!0});var hN=function(e){return e},mN=function(e,t){return Object.keys(t).reduce(function(r,n){return pN(pN({},r),{},fN({},n,e(n,t[n])))},{})},gN=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function yN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||xN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vN(e){return function(e){if(Array.isArray(e))return bN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xN(e,t){if(e){if("string"==typeof e)return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bN(e,t):void 0}}function bN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jN=1e-4,wN=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},NN=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},ON=function(e,t){return function(r){var n=wN(e,t);return NN(n,r)}},SN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=yN(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],i=l[2],o=l[3]}}var c,u,d=ON(n,i),p=ON(a,o),f=(c=n,u=i,function(e){var t=wN(c,u),r=[].concat(vN(t.map(function(e,t){return e*t}).slice(1)),[0]);return NN(r,e)}),h=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,i=f(r);if(Math.abs(a-t)<jN||i<jN)return p(r);r=h(r-a/i)}return p(r)};return m.isStepper=!1,m},AN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SN(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,o=void 0===i?17:i,s=function(e,t,n){var i=n+(-(e-t)*r-n*a)*o/1e3,s=n*o/1e3+e;return Math.abs(s-t)<jN&&Math.abs(i)<jN?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===n.split("(")[0])return SN(n)}return"function"==typeof n?n:null};function PN(e){return(PN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kN(e){return function(e){if(Array.isArray(e))return IN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(t){CN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==PN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==PN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===PN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||_N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _N(e,t){if(e){if("string"==typeof e)return IN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IN(e,t):void 0}}function IN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var DN=function(e,t,r){return e+(t-e)*r},RN=function(e){return e.from!==e.to},LN=function e(t,r,n){var a=mN(function(e,r){if(RN(r)){var n=MN(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return TN(TN({},r),{},{from:a,velocity:i})}return r},r);return n<1?mN(function(e,t){return RN(t)?TN(TN({},t),{},{velocity:DN(t.velocity,a[e].velocity,n),from:DN(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const BN=function(e,t,r,n,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(r,n){return TN(TN({},r),{},CN({},n,[e[n],t[n]]))},{}),d=c.reduce(function(r,n){return TN(TN({},r),{},CN({},n,{from:e[n],velocity:0,to:t[n]}))},{}),p=-1,f=function(){return null};return f=r.isStepper?function(n){s||(s=n);var i=(n-s)/r.dt;d=LN(r,d,i),a(TN(TN(TN({},e),t),mN(function(e,t){return t.from},d))),s=n,Object.values(d).filter(RN).length&&(p=requestAnimationFrame(f))}:function(i){l||(l=i);var o=(i-l)/n,s=mN(function(e,t){return DN.apply(void 0,kN(t).concat([r(o)]))},u);if(a(TN(TN(TN({},e),t),s)),o<1)p=requestAnimationFrame(f);else{var c=mN(function(e,t){return DN.apply(void 0,kN(t).concat([r(1)]))},u);a(TN(TN(TN({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(p)}}};function zN(e){return(zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $N=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UN(e){return function(e){if(Array.isArray(e))return FN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return FN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(t){WN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WN(e,t,r){return(t=XN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XN(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XN(e){var t=function(e,t){if("object"!==zN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==zN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zN(t)?t:String(t)}function KN(e,t){return(KN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YN(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=ZN(e);if(t){var a=ZN(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return JN(this,r)}}function JN(e,t){if(t&&("object"===zN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QN(e)}function QN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(e){return(ZN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eO=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KN(e,t)}(t,o.PureComponent);var e=YN(t);function t(r,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=e.call(this,r,n)).props,o=i.isActive,s=i.attributeName,l=i.from,c=i.to,u=i.steps,d=i.children,p=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(QN(a)),a.changeStyle=a.changeStyle.bind(QN(a)),!o||p<=0)return a.state={style:{}},"function"==typeof d&&(a.state={style:c}),JN(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof d)return a.state={style:l},JN(a);a.state={style:s?WN({},s,l):l}}else a.state={style:{}};return a}return HN(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(nN(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?WN({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(VN(VN({},this.props),{},{from:u,begin:0}))}}else{var p={style:a?WN({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=BN(r,n,AN(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(UN(r.reduce(function(e,n,a){if(0===a)return e;var i=n.duration,o=n.easing,s=void 0===o?"ease":o,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,p=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(UN(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var f=gN(p,i,s),h=VN(VN(VN({},d.style),l),{},{transition:f});return[].concat(UN(e),[h,i,u]).filter(hN)},[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=cN());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?WN({},n,a):a,p=gN(Object.keys(d),r,i);u.start([o,t,VN(VN({},d),{},{transition:p}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var r=e.duration;e.attributeName,e.easing;var n=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var a=qN(e,$N),i=o.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!n||0===i||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,i=t.className;return o.cloneElement(e,VN(VN({},a),{},{style:VN(VN({},n),s),className:i}))};return 1===i?l(o.Children.only(t)):d.createElement("div",null,o.Children.map(t,function(e){return l(e)}))}}]),t}();function tO(e){return(tO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rO.apply(this,arguments)}function nO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(t){sO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sO(e,t,r){var n;return n=function(e,t){if("object"!=tO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=tO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}eO.displayName="Animate",eO.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},eO.propTypes={from:kw.oneOfType([kw.object,kw.string]),to:kw.oneOfType([kw.object,kw.string]),attributeName:kw.string,duration:kw.number,begin:kw.number,easing:kw.oneOfType([kw.string,kw.func]),steps:kw.arrayOf(kw.shape({duration:kw.number.isRequired,style:kw.object.isRequired,easing:kw.oneOfType([kw.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kw.func]),properties:kw.arrayOf("string"),onAnimationEnd:kw.func})),children:kw.oneOfType([kw.node,kw.func]),isActive:kw.bool,canBegin:kw.bool,onAnimationEnd:kw.func,shouldReAnimate:kw.bool,onAnimationStart:kw.func,onAnimationReStart:kw.func};var lO=function(e,t,r,n,a){var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var p=Math.min(o,a);i="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+r-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*p,"\n            L ").concat(e+r,",").concat(t+n-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+r-l*p,",").concat(t+n,"\n            L ").concat(e+l*p,",").concat(t+n,"\n            A ").concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*p," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},cO=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return r>=l&&r<=c&&n>=u&&n<=d}return!1},uO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dO=function(e){var t=oO(oO({},uO),e),r=o.useRef(),n=nO(o.useState(-1),2),a=n[0],i=n[1];o.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.width,u=t.height,p=t.radius,f=t.className,h=t.animationEasing,m=t.animationDuration,g=t.animationBegin,y=t.isAnimationActive,v=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var x=Vt("recharts-rectangle",f);return v?d.createElement(eO,{canBegin:a>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:m,animationEasing:h,isActive:v},function(e){var n=e.width,i=e.height,o=e.x,s=e.y;return d.createElement(eO,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:h},d.createElement("path",rO({},Si(t,!0),{className:x,d:lO(o,s,n,i,p),ref:r})))}):d.createElement("path",rO({},Si(t,!0),{className:x,d:lO(s,l,c,u,p)}))},pO=["points","className","baseLinePoints","connectNulls"];function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(this,arguments)}function hO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mO(e){return function(e){if(Array.isArray(e))return gO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yO=function(e){return e&&e.x===+e.x&&e.y===+e.y},vO=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){yO(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),yO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(mO(e),mO(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},xO=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=hO(e,pO);if(!t||!t.length)return null;var o=Vt("recharts-polygon",r);if(n&&n.length){var s=i.stroke&&"none"!==i.stroke,l=function(e,t,r){var n=vO(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(vO(t.reverse(),r).slice(1))}(t,n,a);return d.createElement("g",{className:o},d.createElement("path",fO({},Si(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),s?d.createElement("path",fO({},Si(i,!0),{fill:"none",d:vO(t,a)})):null,s?d.createElement("path",fO({},Si(i,!0),{fill:"none",d:vO(n,a)})):null)}var c=vO(t,a);return d.createElement("path",fO({},Si(i,!0),{fill:"Z"===c.slice(-1)?i.fill:"none",className:o,d:c}))};function bO(){return bO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bO.apply(this,arguments)}var jO=function(e){var t=e.cx,r=e.cy,n=e.r,a=Vt("recharts-dot",e.className);return t===+t&&r===+r&&n===+n?o.createElement("circle",bO({},Si(e,!1),ci(e),{className:a,cx:t,cy:r,r:n})):null};function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var NO=["x","y","top","left","width","height","className"];function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OO.apply(this,arguments)}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AO(e,t,r){var n;return n=function(e,t){if("object"!=wO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=wO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var kO=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},EO=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.top,o=void 0===i?0:i,s=e.left,l=void 0===s?0:s,c=e.width,u=void 0===c?0:c,p=e.height,f=void 0===p?0:p,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(t){AO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:o,left:l,width:u,height:f},PO(e,NO));return Xa(r)&&Xa(a)&&Xa(u)&&Xa(f)&&Xa(o)&&Xa(l)?d.createElement("path",OO({},Si(m,!0),{className:Vt("recharts-cross",h),d:kO(r,a,u,f,o,l)})):null},TO=ax,CO=ix,MO=Ku;const _O=u(function(e,t){return e&&e.length?TO(e,MO(t),CO):void 0});var IO=ax,DO=Ku,RO=ux;const LO=u(function(e,t){return e&&e.length?IO(e,DO(t),RO):void 0});var BO=["cx","cy","angle","ticks","axisLine"],zO=["ticks","tick","angle","tickFormatter","stroke"];function $O(e){return($O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qO.apply(this,arguments)}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(t){YO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function GO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JO(n.key),n)}}function WO(e,t,r){return t=XO(t),function(e,t){if(t&&("object"===$O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,HO()?Reflect.construct(t,r||[],XO(e).constructor):t.apply(e,r))}function HO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(HO=function(){return!!e})()}function XO(e){return(XO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KO(e,t){return(KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function YO(e,t,r){return(t=JO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JO(e){var t=function(e,t){if("object"!=$O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=$O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==$O(t)?t:t+""}var QO=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),WO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KO(e,t)}(e,o.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return d.isValidElement(e)?d.cloneElement(e,t):Nr(e)?e(t):d.createElement(jh,qO({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return kj(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=_O(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:LO(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,o=GO(e,BO),s=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=kj(t,r,s[0],n),c=kj(t,r,s[1],n),u=FO(FO(FO({},Si(o,!1)),{},{fill:"none"},Si(i,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return d.createElement("line",qO({className:"recharts-polar-radius-axis-line"},u))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.angle,o=r.tickFormatter,s=r.stroke,l=GO(r,zO),c=this.getTickTextAnchor(),u=Si(l,!1),p=Si(a,!1),f=n.map(function(r,n){var l=t.getTickValueCoord(r),f=FO(FO(FO(FO({textAnchor:c,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},u),{},{stroke:"none",fill:s},p),{},{index:n},l),{},{payload:r});return d.createElement(Ri,qO({className:Vt("recharts-polar-radius-axis-tick",_j(a)),key:"tick-".concat(r.coordinate)},ui(t.props,r,n)),e.renderTickItem(a,f,o?o(r.value,n):r.value))});return d.createElement(Ri,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?d.createElement(Ri,{className:Vt("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Gj.renderCallByParent(this.props,this.getViewBox())):null}}])&&VO(t.prototype,r),n&&VO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function ZO(e){return(ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eS(){return eS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eS.apply(this,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(t){lS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cS(n.key),n)}}function aS(e,t,r){return t=oS(t),function(e,t){if(t&&("object"===ZO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iS()?Reflect.construct(t,r||[],oS(e).constructor):t.apply(e,r))}function iS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iS=function(){return!!e})()}function oS(e){return(oS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sS(e,t){return(sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lS(e,t,r){return(t=cS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cS(e){var t=function(e,t){if("object"!=ZO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ZO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ZO(t)?t:t+""}YO(QO,"displayName","PolarRadiusAxis"),YO(QO,"axisType","radiusAxis"),YO(QO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var uS=Math.PI/180,dS=1e-5,pS=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),aS(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sS(e,t)}(e,o.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return d.isValidElement(e)?d.cloneElement(e,t):Nr(e)?e(t):d.createElement(jh,eS({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=kj(r,n,a,e.coordinate),l=kj(r,n,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*uS);return r>dS?"outer"===t?"start":"end":r<-dS?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,o=rS(rS({},Si(this.props,!1)),{},{fill:"none"},Si(a,!1));if("circle"===i)return d.createElement(jO,eS({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var s=this.props.ticks.map(function(e){return kj(t,r,n,e.coordinate)});return d.createElement(xO,eS({className:"recharts-polar-angle-axis-line"},o,{points:s}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.tickLine,o=r.tickFormatter,s=r.stroke,l=Si(this.props,!1),c=Si(a,!1),u=rS(rS({},l),{},{fill:"none"},Si(i,!1)),p=n.map(function(r,n){var p=t.getTickLineCoord(r),f=rS(rS(rS({textAnchor:t.getTickTextAnchor(r)},l),{},{stroke:"none",fill:s},c),{},{index:n,payload:r,x:p.x2,y:p.y2});return d.createElement(Ri,eS({className:Vt("recharts-polar-angle-axis-tick",_j(a)),key:"tick-".concat(r.coordinate)},ui(t.props,r,n)),i&&d.createElement("line",eS({className:"recharts-polar-angle-axis-tick-line"},u,p)),a&&e.renderTickItem(a,f,o?o(r.value,n):r.value))});return d.createElement(Ri,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:d.createElement(Ri,{className:Vt("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&nS(t.prototype,r),n&&nS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();lS(pS,"displayName","PolarAngleAxis"),lS(pS,"axisType","angleAxis"),lS(pS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fS=fc(Object.getPrototypeOf,Object),hS=lr,mS=fS,gS=cr,yS=Function.prototype,vS=Object.prototype,xS=yS.toString,bS=vS.hasOwnProperty,jS=xS.call(Object);const wS=u(function(e){if(!gS(e)||"[object Object]"!=hS(e))return!1;var t=mS(e);if(null===t)return!0;var r=bS.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&xS.call(r)==jS});var NS=lr,OS=cr;const SS=u(function(e){return!0===e||!1===e||OS(e)&&"[object Boolean]"==NS(e)});function AS(e){return(AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PS(){return PS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PS.apply(this,arguments)}function kS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ES(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ES(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ES(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(t){MS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MS(e,t,r){var n;return n=function(e,t){if("object"!=AS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=AS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==AS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _S,IS=function(e,t,r,n,a){var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},DS={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RS=function(e){var t=CS(CS({},DS),e),r=o.useRef(),n=kS(o.useState(-1),2),a=n[0],i=n[1];o.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,p=t.height,f=t.className,h=t.animationEasing,m=t.animationDuration,g=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||p!==+p||0===c&&0===u||0===p)return null;var v=Vt("recharts-trapezoid",f);return y?d.createElement(eO,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:p,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:p,x:s,y:l},duration:m,animationEasing:h,isActive:y},function(e){var n=e.upperWidth,i=e.lowerWidth,o=e.height,s=e.x,l=e.y;return d.createElement(eO,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:h},d.createElement("path",PS({},Si(t,!0),{className:v,d:IS(s,l,n,i,o),ref:r})))}):d.createElement("g",null,d.createElement("path",PS({},Si(t,!0),{className:v,d:IS(s,l,c,u,p)})))},LS=["option","shapeType","propTransformer","activeClassName","isActive"];function BS(e){return(BS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(t){US(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function US(e,t,r){var n;return n=function(e,t){if("object"!=BS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=BS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==BS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FS(e,t){return qS(qS({},t),e)}function GS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return d.createElement(dO,r);case"trapezoid":return d.createElement(RS,r);case"sector":return d.createElement(fw,r);case"symbols":if(function(e){return"symbols"===e}(t))return d.createElement(Ns,r);break;default:return null}}function VS(e){var t,r=e.option,n=e.shapeType,a=e.propTransformer,i=void 0===a?FS:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=zS(e,LS);if(o.isValidElement(r))t=o.cloneElement(r,qS(qS({},u),function(e){return o.isValidElement(e)?e.props:e}(r)));else if(Nr(r))t=r(u);else if(wS(r)&&!SS(r)){var p=i(r,u);t=d.createElement(GS,{shapeType:n,elementProps:p})}else{var f=u;t=d.createElement(GS,{shapeType:n,elementProps:f})}return c?d.createElement(Ri,{className:l},t):t}function WS(e,t){return null!=t&&"trapezoids"in e.props}function HS(e,t){return null!=t&&"sectors"in e.props}function XS(e,t){return null!=t&&"points"in e.props}function KS(e,t){var r,n,a=e.x===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function YS(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function JS(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function QS(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return WS(e,t)?r="trapezoids":HS(e,t)?r="sectors":XS(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return WS(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:HS(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:XS(e,t)?t.payload:{}}(r,t),o=n.filter(function(e,n){var o=Nx(i,e),s=r.props[a].filter(function(e){var n=function(e,t){var r;return WS(e,t)?r=KS:HS(e,t)?r=YS:XS(e,t)&&(r=JS),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(s[s.length-1]);return o&&n===l});return n.indexOf(o[o.length-1])}function ZS(e){return(ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(this,arguments)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(t){lA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cA(n.key),n)}}function aA(e,t,r){return t=oA(t),function(e,t){if(t&&("object"===ZS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,iA()?Reflect.construct(t,r||[],oA(e).constructor):t.apply(e,r))}function iA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(iA=function(){return!!e})()}function oA(e){return(oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sA(e,t){return(sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lA(e,t,r){return(t=cA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cA(e){var t=function(e,t){if("object"!=ZS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ZS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ZS(t)?t:t+""}var uA=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lA(r=aA(this,e,[t]),"pieRef",null),lA(r,"sectorRefs",[]),lA(r,"id",Ja("recharts-pie-")),lA(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Nr(e)&&e()}),lA(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Nr(e)&&e()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sA(e,t)}(e,o.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(d.isValidElement(e))return d.cloneElement(e,t);if(Nr(e))return e(t);var n=Vt("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return d.createElement(Ow,eA({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(d.isValidElement(e))return d.cloneElement(e,t);var n=r;if(Nr(e)&&(n=e(t),d.isValidElement(n)))return n;var a=Vt("recharts-pie-label-text","boolean"==typeof e||Nr(e)?"":e.className);return d.createElement(jh,eA({},t,{alignmentBaseline:"middle",className:a}),n)}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,i=r.dataKey,o=r.valueKey,s=Si(this.props,!1),l=Si(n,!1),c=Si(a,!1),u=n&&n.offsetRadius||20,p=t.map(function(t,r){var p=(t.startAngle+t.endAngle)/2,f=kj(t.cx,t.cy,t.outerRadius+u,p),h=rA(rA(rA(rA({},s),t),{},{stroke:"none"},l),{},{index:r,textAnchor:e.getTextAnchor(f.x,t.cx)},f),m=rA(rA(rA(rA({},s),t),{},{fill:"none",stroke:t.fill},c),{},{index:r,points:[kj(t.cx,t.cy,t.outerRadius,p),f]}),g=i;return ga(i)&&ga(o)?g="value":ga(i)&&(g=o),d.createElement(Ri,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(r)},a&&e.renderLabelLineItem(a,m,"line"),e.renderLabelItem(n,h,Kb(t,g)))});return d.createElement(Ri,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,i=r.inactiveShape;return e.map(function(r,o){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(o),l=i&&t.hasActiveIndex()?i:null,c=s?n:l,u=rA(rA({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return d.createElement(Ri,eA({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ui(t.props,r,o),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),d.createElement(VS,eA({option:c,isActive:s,shapeType:"sector"},u)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,o=t.animationEasing,s=t.animationId,l=this.state,c=l.prevSectors,u=l.prevIsAnimationActive;return d.createElement(eO,{begin:a,duration:i,isActive:n,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,a=[],i=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=c&&c[t],o=t>0?ma(e,"paddingAngle",0):0;if(r){var s=ei(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=rA(rA({},e),{},{startAngle:i+o,endAngle:i+s(n)+o});a.push(l),i=l.endAngle}else{var u=e.endAngle,d=e.startAngle,p=ei(0,u-d)(n),f=rA(rA({},e),{},{startAngle:i+o,endAngle:i+p+o});a.push(f),i=f.endAngle}}),d.createElement(Ri,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&Nx(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,i=t.label,o=t.cx,s=t.cy,l=t.innerRadius,c=t.outerRadius,u=t.isAnimationActive,p=this.state.isAnimationFinished;if(r||!n||!n.length||!Xa(o)||!Xa(s)||!Xa(l)||!Xa(c))return null;var f=Vt("recharts-pie",a);return d.createElement(Ri,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),Gj.renderCallByParent(this.props,null,!1),(!u||p)&&aw.renderCallByParent(this.props,n,!1))}}])&&nA(t.prototype,r),n&&nA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();_S=uA,lA(uA,"displayName","Pie"),lA(uA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Jp,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),lA(uA,"parseDeltaAngle",function(e,t){return Wa(t-e)*Math.min(Math.abs(t-e),360)}),lA(uA,"getRealPieData",function(e){var t=e.data,r=e.children,n=Si(e,!1),a=bi(r,Bf);return t&&t.length?t.map(function(e,t){return rA(rA(rA({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return rA(rA({},n),e.props)}):[]}),lA(uA,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Ej(a,i);return{cx:n+Qa(e.cx,a,a/2),cy:r+Qa(e.cy,i,i/2),innerRadius:Qa(e.innerRadius,o,0),outerRadius:Qa(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),lA(uA,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?rA(rA({},t.type.defaultProps),t.props):t.props,a=_S.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,p=n.tooltipType,f=Math.abs(n.minAngle),h=_S.parseCoordinateOfPie(n,r),m=_S.parseDeltaAngle(o,s),g=Math.abs(m),y=c;ga(c)&&ga(d)?(Li(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):ga(c)&&(Li(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,x,b=a.filter(function(e){return 0!==Kb(e,y,0)}).length,j=g-b*f-(g>=360?b:b-1)*l,w=a.reduce(function(e,t){var r=Kb(t,y,0);return e+(Xa(r)?r:0)},0);w>0&&(v=a.map(function(e,t){var r,n=Kb(e,y,0),a=Kb(e,u,t),s=(Xa(n)?n:0)/w,c=(r=t?x.endAngle+Wa(m)*l*(0!==n?1:0):o)+Wa(m)*((0!==n?f:0)+s*j),d=(r+c)/2,g=(h.innerRadius+h.outerRadius)/2,v=[{name:a,value:n,payload:e,dataKey:y,type:p}],b=kj(h.cx,h.cy,g,d);return x=rA(rA(rA({percent:s,cornerRadius:i,name:a,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:b},e),h),{},{value:Kb(e,y),startAngle:r,endAngle:c,payload:e,paddingAngle:Wa(m)*l})}));return rA(rA({},h),{},{sectors:v,data:a})});var dA=Math.ceil,pA=Math.max;var fA=wf,hA=1/0;var mA=function(e){return e?(e=fA(e))===hA||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},gA=function(e,t,r,n){for(var a=-1,i=pA(dA((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o},yA=bp,vA=mA;const xA=u(function(e){return function(t,r,n){return n&&"number"!=typeof n&&yA(t,r,n)&&(r=n=void 0),t=vA(t),void 0===r?(r=t,t=0):r=vA(r),n=void 0===n?t<r?1:-1:vA(n),gA(t,r,n,e)}}());function bA(e){return(bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(t){NA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NA(e,t,r){var n;return n=function(e,t){if("object"!=bA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=bA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OA=["Webkit","Moz","O","ms"];function SA(e){return(SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AA(){return AA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AA.apply(this,arguments)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(t){IA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DA(n.key),n)}}function TA(e,t,r){return t=MA(t),function(e,t){if(t&&("object"===SA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CA()?Reflect.construct(t,r||[],MA(e).constructor):t.apply(e,r))}function CA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(CA=function(){return!!e})()}function MA(e){return(MA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _A(e,t){return(_A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function IA(e,t,r){return(t=DA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e){var t=function(e,t){if("object"!=SA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=SA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==SA(t)?t:t+""}var RA=function(e){return e.changedTouches&&!!e.changedTouches.length},LA=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),IA(r=TA(this,e,[t]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),IA(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),IA(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null==n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),IA(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),IA(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),IA(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),IA(r,"handleSlideDragStart",function(e){var t=RA(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_A(e,t)}(e,o.PureComponent),t=e,n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,o=Math.floor(r+a/2)-1;return d.createElement(d.Fragment,null,d.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),d.createElement("line",{x1:t+1,y1:o,x2:t+n-1,y2:o,fill:"none",stroke:"#fff"}),d.createElement("line",{x1:t+1,y1:o+2,x2:t+n-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,r){return d.isValidElement(t)?d.cloneElement(t,r):Nr(t)?t(r):e.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return kA({prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=Yh().domain(xA(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],(r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var r=t.startX,n=t.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=e.getIndexInRange(a,l),d=e.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=Kb(r[e],a,e);return Nr(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,p=e.pageX-r;p>0?p=Math.min(p,o+s-l-a,o+s-l-n):p<0&&(p=Math.max(p,o-n,o-a));var f=this.getIndex({startX:n+p,endX:a+p});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:n+p,endX:a+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=RA(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[n],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,p=s.gap,f=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),h[n]=o+m;var g=this.getIndex(h),y=g.startIndex,v=g.endIndex;this.setState(IA(IA({},n,o+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=f.length-1,("startX"===n&&(a>i?y%p===0:v%p===0)||a<i&&v===e||"endX"===n&&(a>i?v%p===0:y%p===0)||a>i&&v===e)&&d(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,o=n.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(IA({},t,u),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,o=e.stroke;return d.createElement("rect",{stroke:o,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.data,s=e.children,l=e.padding,c=o.Children.only(s);return c?d.cloneElement(c,{x:t,y:r,width:n,height:a,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(t,r){var n,a,i=this,o=this.props,s=o.y,l=o.travellerWidth,c=o.height,u=o.traveller,p=o.ariaLabel,f=o.data,h=o.startIndex,m=o.endIndex,g=Math.max(t,this.props.x),y=kA(kA({},Si(this.props,!1)),{},{x:g,y:s,width:l,height:c}),v=p||"Min value: ".concat(null===(n=f[h])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=f[m])||void 0===a?void 0:a.name);return d.createElement(Ri,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(u,y))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,o=r.travellerWidth,s=Math.min(e,t)+o,l=Math.max(Math.abs(t-e)-o,0);return d.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:s,y:n,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,o=e.stroke,s=this.state,l=s.startX,c=s.endX,u={pointerEvents:"none",fill:o};return d.createElement(Ri,{className:"recharts-brush-texts"},d.createElement(jh,AA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:n+a/2},u),this.getTextOfTick(t)),d.createElement(jh,AA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+i+5,y:n+a/2},u),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,o=e.width,s=e.height,l=e.alwaysShowText,c=this.state,u=c.startX,p=c.endX,f=c.isTextActive,h=c.isSlideMoving,m=c.isTravellerMoving,g=c.isTravellerFocused;if(!t||!t.length||!Xa(a)||!Xa(i)||!Xa(o)||!Xa(s)||o<=0||s<=0)return null;var y,v,x,b,j=Vt("recharts-brush",r),w=1===d.Children.count(n),N=(v="none",x=(y="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(b=OA.reduce(function(e,t){return wA(wA({},e),{},NA({},t+x,v))},{}))[y]=v,b);return d.createElement(Ri,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(u,p),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(p,"endX"),(f||h||m||g||l)&&this.renderText())}}])&&EA(t.prototype,r),n&&EA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();IA(LA,"displayName","Brush"),IA(LA,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var BA=$d;var zA=Zs,$A=Ku,qA=function(e,t){var r;return BA(e,function(e,n,a){return!(r=t(e,n,a))}),!!r},UA=Wt,FA=bp;const GA=u(function(e,t,r){var n=UA(e)?zA:qA;return r&&FA(e,t,r)&&(t=void 0),n(e,$A(t))});var VA=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},WA=sp;var HA=function(e,t,r){"__proto__"==t&&WA?WA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},XA=Bd,KA=Ku;const YA=u(function(e,t){var r={};return t=KA(t),XA(e,function(e,n,a){HA(r,n,t(e,n,a))}),r});var JA=$d;var QA=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0},ZA=function(e,t){var r=!0;return JA(e,function(e,n,a){return r=!!t(e,n,a)}),r},eP=Ku,tP=Wt,rP=bp;const nP=u(function(e,t,r){var n=tP(e)?QA:ZA;return r&&rP(e,t,r)&&(t=void 0),n(e,eP(t))});var aP=["x","y"];function iP(e){return(iP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oP(){return oP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oP.apply(this,arguments)}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(t){cP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cP(e,t,r){var n;return n=function(e,t){if("object"!=iP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=iP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==iP(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dP(e,t){var r=e.x,n=e.y,a=uP(e,aP),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),p=parseInt(d,10);return lP(lP(lP(lP(lP({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:p,name:t.name,radius:t.radius})}function pP(e){return d.createElement(VS,oP({shapeType:"rectangle",propTransformer:dP,activeClassName:"recharts-active-bar"},e))}var fP,hP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"==typeof e)return e;var a=Xa(r)||function(e){return ga(e)}(r);return a?e(r,n):(a||Nb(),t)}},mP=["value","background"];function gP(e){return(gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vP.apply(this,arguments)}function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(t){AP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PP(n.key),n)}}function wP(e,t,r){return t=OP(t),function(e,t){if(t&&("object"===gP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NP()?Reflect.construct(t,r||[],OP(e).constructor):t.apply(e,r))}function NP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(NP=function(){return!!e})()}function OP(e){return(OP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SP(e,t){return(SP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function AP(e,t,r){return(t=PP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PP(e){var t=function(e,t){if("object"!=gP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=gP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==gP(t)?t:t+""}var kP=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return AP(t=wP(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),AP(t,"id",Ja("recharts-bar-")),AP(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),AP(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SP(e,t)}(e,o.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,i=r.activeIndex,o=r.activeBar,s=Si(this.props,!1);return e&&e.map(function(e,r){var l=r===i,c=l?o:n,u=bP(bP(bP({},s),e),{},{isActive:l,option:c,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return d.createElement(Ri,vP({className:"recharts-bar-rectangle"},ui(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),d.createElement(pP,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevData;return d.createElement(eO,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=r.map(function(e,t){var r=c&&c[t];if(r){var i=ei(r.x,e.x),o=ei(r.y,e.y),s=ei(r.width,e.width),l=ei(r.height,e.height);return bP(bP({},e),{},{x:i(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===n){var u=ei(0,e.height)(a);return bP(bP({},e),{},{y:e.y+e.height-u,height:u})}var d=ei(0,e.width)(a);return bP(bP({},e),{},{width:d})});return d.createElement(Ri,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&Nx(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,i=Si(this.props.background,!1);return r.map(function(t,r){t.value;var o=t.background,s=yP(t,mP);if(!o)return null;var l=bP(bP(bP(bP(bP({},s),{},{fill:"#eee"},o),i),ui(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return d.createElement(pP,vP({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,o=r.layout,s=bi(r.children,Lb);if(!s)return null;var l="vertical"===o?n[0].height/2:n[0].width/2,c=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Kb(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return d.createElement(Ri,u,s.map(function(e){return d.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:o,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,o=e.left,s=e.top,l=e.width,c=e.height,u=e.isAnimationActive,p=e.background,f=e.id;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,m=Vt("recharts-bar",n),g=a&&a.allowDataOverflow,y=i&&i.allowDataOverflow,v=g||y,x=ga(f)?this.id:f;return d.createElement(Ri,{className:m},g||y?d.createElement("defs",null,d.createElement("clipPath",{id:"clipPath-".concat(x)},d.createElement("rect",{x:g?o:o-l/2,y:y?s:s-c/2,width:g?l:2*l,height:y?c:2*c}))):null,d.createElement(Ri,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(x,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,x),(!u||h)&&aw.renderCallByParent(this.props,r))}}])&&jP(t.prototype,r),n&&jP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function EP(e){return(EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function MP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(t){_P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _P(e,t,r){return(t=IP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=function(e,t){if("object"!=EP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=EP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EP(t)?t:t+""}fP=kP,AP(kP,"displayName","Bar"),AP(kP,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Jp,animationBegin:0,animationDuration:400,animationEasing:"ease"}),AP(kP,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,p=e.offset,f=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!f)return null;var h=t.layout,m=r.type.defaultProps,g=void 0!==m?bP(bP({},m),r.props):r.props,y=g.dataKey,v=g.children,x=g.minPointSize,b="horizontal"===h?o:i,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=bi(v,Bf),O=d.map(function(e,t){var n,d,p,m,g,v;c?n=function(e,t){if(!t||2!==t.length||!Xa(t[0])||!Xa(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Xa(e[0])||e[0]<r)&&(a[0]=r),(!Xa(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],j):(n=Kb(e,y),Array.isArray(n)||(n=[w,n]));var b=hP(x,fP.defaultProps.minPointSize)(n[1],t);if("horizontal"===h){var O,S=[o.scale(n[0]),o.scale(n[1])],A=S[0],P=S[1];d=pj({axis:i,ticks:s,bandSize:a,offset:f.offset,entry:e,index:t}),p=null!==(O=null!=P?P:A)&&void 0!==O?O:void 0,m=f.size;var k=A-P;if(g=Number.isNaN(k)?0:k,v={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=Wa(g||b)*(Math.abs(b)-Math.abs(g));p-=E,g+=E}}else{var T=[i.scale(n[0]),i.scale(n[1])],C=T[0],M=T[1];if(d=C,p=pj({axis:o,ticks:l,bandSize:a,offset:f.offset,entry:e,index:t}),m=M-C,g=f.size,v={x:i.x,y:p,width:i.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=Wa(m||b)*(Math.abs(b)-Math.abs(m))}return bP(bP(bP({},e),{},{x:d,y:p,width:m,height:g,value:c?n:n[1],payload:e,background:v},N&&N[t]&&N[t].props),{},{tooltipPayload:[xj(r,e)],tooltipPosition:{x:d+m/2,y:p+g/2}})});return bP({data:O,layout:h},p)});var DP=function(e,t,r,n,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!ji(l,kP);return c.reduce(function(i,o){var l,c,p,f,h,m=t[o],g=m.orientation,y=m.domain,v=m.padding,x=void 0===v?{}:v,b=m.mirror,j=m.reversed,w="".concat(g).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=y[1]-y[0],O=1/0,S=m.categoricalDomain.sort(ri);if(S.forEach(function(e,t){t>0&&(O=Math.min((e||0)-(S[t-1]||0),O))}),Number.isFinite(O)){var A=O/N,P="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=A*P/2),"no-gap"===m.padding){var k=Qa(e.barCategoryGap,A*P),E=A*P/2;l=E-k-(E-k)/P*k}}}c="xAxis"===n?[r.left+(x.left||0)+(l||0),r.left+r.width-(x.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(l||0),r.top+r.height-(x.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var T=ij(m,a,d),C=T.scale,M=T.realScaleType;C.domain(y).range(c),sj(C);var _=uj(C,MP(MP({},m),{},{realScaleType:M}));"xAxis"===n?(h="top"===g&&!b||"bottom"===g&&b,p=r.left,f=u[w]-h*m.height):"yAxis"===n&&(h="left"===g&&!b||"right"===g&&b,p=u[w]-h*m.width,f=r.top);var I=MP(MP(MP({},m),_),{},{realScaleType:M,x:p,y:f,scale:C,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return I.bandSize=yj(I,_),m.hide||"xAxis"!==n?m.hide||(u[w]+=(h?-1:1)*I.width):u[w]+=(h?-1:1)*I.height,MP(MP({},i),{},_P({},o,I))},{})},RP=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},LP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&TP(t.prototype,r),n&&TP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();_P(LP,"EPS",1e-4);var BP=function(e){var t=Object.keys(e).reduce(function(t,r){return MP(MP({},t),{},_P({},r,LP.create(e[r])))},{});return MP(MP({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return YA(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return nP(e,function(e,r){return t[r].isInRange(e)})}})};var zP=Ku,$P=bc,qP=Oc;var UP=function(e){return function(t,r,n){var a=Object(t);if(!$P(t)){var i=zP(r);t=qP(t),r=function(e){return i(a[e],e,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}},FP=mA;var GP=Yu,VP=Ku,WP=function(e){var t=FP(e),r=t%1;return t==t?r?t-r:t:0},HP=Math.max;const XP=u(UP(function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:WP(r);return a<0&&(a=HP(n+a,0)),GP(e,VP(t),a)}));var KP=Fn(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),YP=o.createContext(void 0),JP=o.createContext(void 0),QP=o.createContext(void 0),ZP=o.createContext({}),ek=o.createContext(void 0),tk=o.createContext(0),rk=o.createContext(0),nk=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,o=e.children,s=e.width,l=e.height,c=KP(a);return d.createElement(YP.Provider,{value:r},d.createElement(JP.Provider,{value:n},d.createElement(ZP.Provider,{value:a},d.createElement(QP.Provider,{value:c},d.createElement(ek.Provider,{value:i},d.createElement(tk.Provider,{value:l},d.createElement(rk.Provider,{value:s},o)))))))},ak=function(e){var t=o.useContext(YP);null==t&&Nb();var r=t[e];return null==r&&Nb(),r},ik=function(e){var t=o.useContext(JP);null==t&&Nb();var r=t[e];return null==r&&Nb(),r},ok=function(){return o.useContext(rk)},sk=function(){return o.useContext(tk)};function lk(e){return(lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ck(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uk(e,t,r){return t=pk(t),function(e,t){if(t&&("object"===lk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dk()?Reflect.construct(t,r||[],pk(e).constructor):t.apply(e,r))}function dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dk=function(){return!!e})()}function pk(e){return(pk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fk(e,t){return(fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(t){gk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gk(e,t,r){return(t=yk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yk(e){var t=function(e,t){if("object"!=lk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=lk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==lk(t)?t:t+""}function vk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}function jk(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=o.useContext(ek),p=ak(a),f=ik(i),h=o.useContext(QP);if(!u||!h)return null;Li(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,r,n,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,p=a.height;if(r){var f=l.y,h=e.y.apply(f,{position:i});if(VA(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:c+d,y:h},{x:c,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(VA(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+p},{x:y,y:u}];return"top"===o?v.reverse():v}if(n){var x=l.segment.map(function(t){return e.apply(t,{position:i})});return VA(l,"discard")&&GA(x,function(t){return!e.isInRange(t)})?null:x}return null}(BP({x:p.scale,y:f.scale}),Ka(t),Ka(r),n&&2===n.length,h,e.position,p.orientation,f.orientation,e);if(!m)return null;var g=vk(m,2),y=g[0],v=y.x,x=y.y,b=g[1],j=b.x,w=b.y,N=mk(mk({clipPath:VA(e,"hidden")?"url(#".concat(u,")"):void 0},Si(e,!0)),{},{x1:v,y1:x,x2:j,y2:w});return d.createElement(Ri,{className:Vt("recharts-reference-line",l)},function(e,t){return d.isValidElement(e)?d.cloneElement(e,t):Nr(e)?e(t):d.createElement("line",bk({},t,{className:"recharts-reference-line-line"}))}(s,N),Gj.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return RP({x:t,y:r},{x:n,y:a})}({x1:v,y1:x,x2:j,y2:w})))}var wk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}(e,d.Component),ck(e,[{key:"render",value:function(){return d.createElement(jk,this.props)}}])}();function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function Ok(e){return(Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ak(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sk(Object(r),!0).forEach(function(t){Mk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Pk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_k(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kk(e,t,r){return t=Tk(t),function(e,t){if(t&&("object"===Ok(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ek()?Reflect.construct(t,r||[],Tk(e).constructor):t.apply(e,r))}function Ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ek=function(){return!!e})()}function Tk(e){return(Tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ck(e,t){return(Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mk(e,t,r){return(t=_k(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _k(e){var t=function(e,t){if("object"!=Ok(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ok(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ok(t)?t:t+""}gk(wk,"displayName","ReferenceLine"),gk(wk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Ik=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),kk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}(e,d.Component),Pk(e,[{key:"render",value:function(){var t=this.props,r=t.x,n=t.y,a=t.r,i=t.alwaysShow,o=t.clipPathId,s=Ka(r),l=Ka(n);if(Li(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=BP({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return VA(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!c)return null;var u=c.x,p=c.y,f=this.props,h=f.shape,m=f.className,g=Ak(Ak({clipPath:VA(this.props,"hidden")?"url(#".concat(o,")"):void 0},Si(this.props,!0)),{},{cx:u,cy:p});return d.createElement(Ri,{className:Vt("recharts-reference-dot",m)},e.renderDot(h,g),Gj.renderCallByParent(this.props,{x:u-a,y:p-a,width:2*a,height:2*a}))}}])}();function Dk(){return Dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dk.apply(this,arguments)}function Rk(e){return(Rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(t){Gk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $k(e,t,r){return t=Uk(t),function(e,t){if(t&&("object"===Rk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qk()?Reflect.construct(t,r||[],Uk(e).constructor):t.apply(e,r))}function qk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qk=function(){return!!e})()}function Uk(e){return(Uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fk(e,t){return(Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gk(e,t,r){return(t=Vk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vk(e){var t=function(e,t){if("object"!=Rk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Rk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Rk(t)?t:t+""}Mk(Ik,"displayName","ReferenceDot"),Mk(Ik,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Mk(Ik,"renderDot",function(e,t){return d.isValidElement(e)?d.cloneElement(e,t):Nr(e)?e(t):d.createElement(jO,Nk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var Wk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$k(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}(e,d.Component),zk(e,[{key:"render",value:function(){var t=this.props,r=t.x1,n=t.x2,a=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,l=t.clipPathId;Li(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Ka(r),u=Ka(n),p=Ka(a),f=Ka(i),h=this.props.shape;if(!(c||u||p||f||h))return null;var m=function(e,t,r,n,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=BP({x:c.scale,y:u.scale}),p={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!VA(a,"discard")||d.isInRange(p)&&d.isInRange(f)?RP(p,f):null}(c,u,p,f,this.props);if(!m&&!h)return null;var g=VA(this.props,"hidden")?"url(#".concat(l,")"):void 0;return d.createElement(Ri,{className:Vt("recharts-reference-area",o)},e.renderRect(h,Bk(Bk({clipPath:g},Si(this.props,!0)),m)),Gj.renderCallByParent(this.props,m))}}])}();function Hk(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Xk(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function Kk(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Yk(e){return(Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(t){Zk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zk(e,t,r){var n;return n=function(e,t){if("object"!=Yk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Yk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Yk(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Xa(l)||Jp)return function(e,t){return Hk(e,t+1)}(a,"number"==typeof l&&Xa(l)?l:0);var p=[],f="top"===s||"bottom"===s?"width":"height",h=u&&"width"===f?Wf(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=Nr(c)?c(e.value,n):e.value;return"width"===f?Xk(Wf(a,{fontSize:t,letterSpacing:r}),h,d):Wf(a,{fontSize:t,letterSpacing:r})[f]},g=a.length>=2?Wa(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(i,g,f);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,p=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:Hk(n,u)};var i,o=c,p=function(){return void 0===i&&(i=r(t,o)),i},f=t.coordinate,h=0===c||Kk(e,f,p,d,l);h||(c=0,d=s,u+=1),h&&(d=f+e*(p()/2+a),c+=u)};u<=o.length;)if(i=p())return i.v;return[]}(g,y,m,a,o):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),p=e*(u.coordinate+e*d/2-c);o[s-1]=u=Qk(Qk({},u),{},{tickCoord:p>0?u.coordinate-p*e:u.coordinate}),Kk(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=Qk(Qk({},u),{},{isShow:!0}))}for(var f=i?s-1:s,h=function(t){var n,i=o[t],s=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=Qk(Qk({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=Qk(Qk({},i),{},{tickCoord:i.coordinate});Kk(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=Qk(Qk({},i),{},{isShow:!0}))},m=0;m<f;m++)h(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=Qk(Qk({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=Qk(Qk({},c),{},{tickCoord:c.coordinate});Kk(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=Qk(Qk({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,y,m,a,o),p.filter(function(e){return e.isShow}))}Gk(Wk,"displayName","ReferenceArea"),Gk(Wk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Gk(Wk,"renderRect",function(e,t){return d.isValidElement(e)?d.cloneElement(e,t):Nr(e)?e(t):d.createElement(dO,Dk({},t,{className:"recharts-reference-area-rect"}))});var tE=["viewBox"],rE=["viewBox"],nE=["ticks"];function aE(e){return(aE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iE.apply(this,arguments)}function oE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oE(Object(r),!0).forEach(function(t){hE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mE(n.key),n)}}function uE(e,t,r){return t=pE(t),function(e,t){if(t&&("object"===aE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dE()?Reflect.construct(t,r||[],pE(e).constructor):t.apply(e,r))}function dE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dE=function(){return!!e})()}function pE(e){return(pE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fE(e,t){return(fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hE(e,t,r){return(t=mE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mE(e){var t=function(e,t){if("object"!=aE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==aE(t)?t:t+""}var gE=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=uE(this,e,[t])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}(e,o.Component),t=e,n=[{key:"renderTickItem",value:function(e,t,r){var n=Vt(t.className,"recharts-cartesian-axis-tick-value");return d.isValidElement(e)?d.cloneElement(e,sE(sE({},t),{},{className:n})):Nr(e)?e(sE(sE({},t),{},{className:n})):d.createElement(jh,iE({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=lE(e,tE),a=this.props,i=a.viewBox,o=lE(a,rE);return!ni(r,i)||!ni(n,o)||!ni(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,p=s.orientation,f=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,y=e.tickSize||f,v=Xa(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=r=e.coordinate,o=(n=(a=c+ +!h*d)-g*y)-g*m,i=v;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!h*u)-g*y)-g*m,o=v;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +h*u)+g*y)+g*m,o=v;break;default:t=r=e.coordinate,o=(n=(a=c+ +h*d)+g*y)+g*m,i=v}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,o=e.mirror,s=e.axisLine,l=sE(sE(sE({},Si(this.props,!1)),Si(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var c=+("top"===i&&!o||"bottom"===i&&o);l=sE(sE({},l),{},{x1:t,y1:r+c*a,x2:t+n,y2:r+c*a})}else{var u=+("left"===i&&!o||"right"===i&&o);l=sE(sE({},l),{},{x1:t+u*n,y1:r,x2:t+u*n,y2:r+a})}return d.createElement("line",iE({},l,{className:Vt("recharts-cartesian-axis-line",ma(s,"className"))}))}},{key:"renderTicks",value:function(t,r,n){var a=this,i=this.props,o=i.tickLine,s=i.stroke,l=i.tick,c=i.tickFormatter,u=i.unit,p=eE(sE(sE({},this.props),{},{ticks:t}),r,n),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Si(this.props,!1),g=Si(l,!1),y=sE(sE({},m),{},{fill:"none"},Si(o,!1)),v=p.map(function(t,r){var n=a.getTickLineCoord(t),i=n.line,v=n.tick,x=sE(sE(sE(sE({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),v),{},{index:r,payload:t,visibleTicksCount:p.length,tickFormatter:c});return d.createElement(Ri,iE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},ui(a.props,t,r)),o&&d.createElement("line",iE({},y,i,{className:Vt("recharts-cartesian-axis-tick-line",ma(o,"className"))})),l&&e.renderTickItem(l,x,"".concat(Nr(c)?c(t.value,r):t.value).concat(u||"")))});return d.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,o=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,c=lE(s,nE),u=l;return Nr(i)&&(u=l&&l.length>0?i(this.props):i(c)),n<=0||a<=0||!u||!u.length?null:d.createElement(Ri,{className:Vt("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),Gj.renderCallByParent(this.props))}}])&&cE(t.prototype,r),n&&cE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();hE(gE,"displayName","CartesianAxis"),hE(gE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yE=["x1","y1","x2","y2","key"],vE=["offset"];function xE(e){return(xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(t){wE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wE(e,t,r){var n;return n=function(e,t){if("object"!=xE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=xE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==xE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NE(){return NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NE.apply(this,arguments)}function OE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var SE=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.ry;return d.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function AE(e,t){var r;if(d.isValidElement(e))r=d.cloneElement(e,t);else if(Nr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=OE(t,yE),c=Si(l,!1);c.offset;var u=OE(c,vE);r=d.createElement("line",NE({},u,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function PE(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(n,i){var o=jE(jE({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i});return AE(a,o)});return d.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kE(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(n,i){var o=jE(jE({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i});return AE(a,o)});return d.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function EE(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=s.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==c[0]&&c.unshift(0);var u=c.map(function(e,s){var l=!c[s+1]?a+o-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return d.createElement("rect",{key:"react-".concat(s),y:e,x:n,height:l,width:i,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return d.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function TE(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var p=u.map(function(e,t){var r=!u[t+1]?i+s-e:u[t+1]-e;if(r<=0)return null;var c=t%n.length;return d.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:r,height:l,stroke:"none",fill:n[c],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return d.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var CE=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return tj(eE(jE(jE(jE({},gE.defaultProps),r),{},{ticks:rj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},ME=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return tj(eE(jE(jE(jE({},gE.defaultProps),r),{},{ticks:rj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},_E={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function IE(e){var t,r,n,a,i,s,l,c,u=ok(),p=sk(),f=o.useContext(ZP),h=jE(jE({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:_E.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:_E.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:_E.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:_E.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:_E.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:_E.verticalFill,x:Xa(e.x)?e.x:f.left,y:Xa(e.y)?e.y:f.top,width:Xa(e.width)?e.width:f.width,height:Xa(e.height)?e.height:f.height}),m=h.x,g=h.y,y=h.width,v=h.height,x=h.syncWithTicks,b=h.horizontalValues,j=h.verticalValues,w=(l=o.useContext(YP),Za(l)),N=(c=o.useContext(JP),XP(c,function(e){return nP(e.domain,Number.isFinite)})||Za(c));if(!Xa(y)||y<=0||!Xa(v)||v<=0||!Xa(m)||m!==+m||!Xa(g)||g!==+g)return null;var O=h.verticalCoordinatesGenerator||CE,S=h.horizontalCoordinatesGenerator||ME,A=h.horizontalPoints,P=h.verticalPoints;if((!A||!A.length)&&Nr(S)){var k=b&&b.length,E=S({yAxis:N?jE(jE({},N),{},{ticks:k?b:N.ticks}):void 0,width:u,height:p,offset:f},!!k||x);Li(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xE(E),"]")),Array.isArray(E)&&(A=E)}if((!P||!P.length)&&Nr(O)){var T=j&&j.length,C=O({xAxis:w?jE(jE({},w),{},{ticks:T?j:w.ticks}):void 0,width:u,height:p,offset:f},!!T||x);Li(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xE(C),"]")),Array.isArray(C)&&(P=C)}return d.createElement("g",{className:"recharts-cartesian-grid"},d.createElement(SE,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),d.createElement(PE,NE({},h,{offset:f,horizontalPoints:A,xAxis:w,yAxis:N})),d.createElement(kE,NE({},h,{offset:f,verticalPoints:P,xAxis:w,yAxis:N})),d.createElement(EE,NE({},h,{horizontalPoints:A})),d.createElement(TE,NE({},h,{verticalPoints:P})))}IE.displayName="CartesianGrid";var DE=["type","layout","connectNulls","ref"],RE=["key"];function LE(e){return(LE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(this,arguments)}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(t){KE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function UE(e){return function(e){if(Array.isArray(e))return FE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return FE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YE(n.key),n)}}function VE(e,t,r){return t=HE(t),function(e,t){if(t&&("object"===LE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WE()?Reflect.construct(t,r||[],HE(e).constructor):t.apply(e,r))}function WE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(WE=function(){return!!e})()}function HE(e){return(HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XE(e,t){return(XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function KE(e,t,r){return(t=YE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YE(e){var t=function(e,t){if("object"!=LE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=LE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==LE(t)?t:t+""}var JE=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return KE(t=VE(this,e,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),KE(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),KE(t,"getStrokeDasharray",function(r,n,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(n,r);for(var o=Math.floor(r/i),s=r%i,l=n-r,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(UE(a.slice(0,u)),[s-d]);break}var p=c.length%2==0?[0,l]:[l];return[].concat(UE(e.repeat(a,o)),UE(c),p).map(function(e){return"".concat(e,"px")}).join(", ")}),KE(t,"id",Ja("recharts-line-")),KE(t,"pathRef",function(e){t.mainCurve=e}),KE(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),KE(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}(e,o.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(UE(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(UE(n),UE(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(d.isValidElement(e))r=d.cloneElement(e,t);else if(Nr(e))r=e(t);else{var n=t.key,a=BE(t,RE),i=Vt("recharts-line-dot","boolean"!=typeof e?e.className:"");r=d.createElement(jO,zE({key:n},a,{className:i}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,i=r.yAxis,o=r.layout,s=bi(r.children,Lb);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Kb(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return d.createElement(Ri,c,s.map(function(e){return d.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:o,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,o=a.points,s=a.dataKey,l=Si(this.props,!1),c=Si(i,!0),u=o.map(function(t,r){var n=qE(qE(qE({key:"dot-".concat(r),r:3},l),c),{},{index:r,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:o});return e.renderDotItem(i,n)}),p={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return d.createElement(Ri,zE({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,i=a.type,o=a.layout,s=a.connectNulls;a.ref;var l=BE(a,DE),c=qE(qE(qE({},Si(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:o,connectNulls:s});return d.createElement(Ow,zE({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.strokeDasharray,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,p=n.animateNewValues,f=n.width,h=n.height,m=this.state,g=m.prevPoints,y=m.totalLength;return d.createElement(eO,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t;if(g){var s=g.length/a.length,l=a.map(function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],a=ei(n.x,e.x),i=ei(n.y,e.y);return qE(qE({},e),{},{x:a(o),y:i(o)})}if(p){var l=ei(2*f,e.x),c=ei(h/2,e.y);return qE(qE({},e),{},{x:l(o),y:c(o)})}return qE(qE({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,u=ei(0,y)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&n&&n.length&&(!o&&s>0||!Nx(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,o=t.xAxis,s=t.yAxis,l=t.top,c=t.left,u=t.width,p=t.height,f=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Vt("recharts-line",i),v=o&&o.allowDataOverflow,x=s&&s.allowDataOverflow,b=v||x,j=ga(h)?this.id:h,w=null!==(e=Si(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,O=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,P=(Oi(n)?n:{}).clipDot,k=void 0===P||P,E=2*O+A;return d.createElement(Ri,{className:y},v||x?d.createElement("defs",null,d.createElement("clipPath",{id:"clipPath-".concat(j)},d.createElement("rect",{x:v?c:c-u/2,y:x?l:l-p/2,width:v?u:2*u,height:x?p:2*p})),!k&&d.createElement("clipPath",{id:"clipPath-dots-".concat(j)},d.createElement("rect",{x:c-E/2,y:l-E/2,width:u+E,height:p+E}))):null,!g&&this.renderCurve(b,j),this.renderErrorBar(b,j),(g||n)&&this.renderDots(b,k,j),(!f||m)&&aw.renderCallByParent(this.props,a))}}])&&GE(t.prototype,r),n&&GE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();KE(JE,"displayName","Line"),KE(JE,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Jp,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),KE(JE,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return qE({points:l.map(function(e,t){var l=Kb(e,o);return"horizontal"===u?{x:dj({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:ga(l)?null:n.scale(l),value:l,payload:e}:{x:ga(l)?null:r.scale(l),y:dj({axis:n,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var QE,ZE=["layout","type","stroke","connectNulls","isRange","ref"],eT=["key"];function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rT(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nT(){return nT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nT.apply(this,arguments)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(t){dT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pT(n.key),n)}}function sT(e,t,r){return t=cT(t),function(e,t){if(t&&("object"===tT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lT()?Reflect.construct(t,r||[],cT(e).constructor):t.apply(e,r))}function lT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lT=function(){return!!e})()}function cT(e){return(cT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uT(e,t){return(uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dT(e,t,r){return(t=pT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pT(e){var t=function(e,t){if("object"!=tT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=tT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==tT(t)?t:t+""}var fT=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return dT(t=sT(this,e,[].concat(n)),"state",{isAnimationFinished:!0}),dT(t,"id",Ja("recharts-area-")),dT(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),Nr(e)&&e()}),dT(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),Nr(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uT(e,t)}(e,o.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(r=[{key:"renderDots",value:function(t,r,n){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var o=this.props,s=o.dot,l=o.points,c=o.dataKey,u=Si(this.props,!1),p=Si(s,!0),f=l.map(function(t,r){var n=iT(iT(iT({key:"dot-".concat(r),r:3},u),p),{},{index:r,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(s,n)}),h={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return d.createElement(Ri,nT({className:"recharts-area-dots"},h),f)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].x,o=n[n.length-1].x,s=e*Math.abs(i-o),l=cx(n.map(function(e){return e.y||0}));return Xa(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(cx(r.map(function(e){return e.y||0})),l)),Xa(l)?d.createElement("rect",{x:i<o?i:i-s,y:0,width:s,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].y,o=n[n.length-1].y,s=e*Math.abs(i-o),l=cx(n.map(function(e){return e.x||0}));return Xa(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(cx(r.map(function(e){return e.x||0})),l)),Xa(l)?d.createElement("rect",{x:0,y:i<o?i:i-s,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(s)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var a=this.props,i=a.layout,o=a.type,s=a.stroke,l=a.connectNulls,c=a.isRange;a.ref;var u=rT(a,ZE);return d.createElement(Ri,{clipPath:r?"url(#clipPath-".concat(n,")"):null},d.createElement(Ow,nT({},Si(u,!0),{points:e,connectNulls:l,type:o,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==s&&d.createElement(Ow,nT({},Si(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:e})),"none"!==s&&c&&d.createElement(Ow,nT({},Si(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.baseLine,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,p=this.state,f=p.prevPoints,h=p.prevBaseLine;return d.createElement(eO,{begin:s,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t;if(f){var s,l=f.length/a.length,c=a.map(function(e,t){var r=Math.floor(t*l);if(f[r]){var n=f[r],a=ei(n.x,e.x),i=ei(n.y,e.y);return iT(iT({},e),{},{x:a(o),y:i(o)})}return e});return s=Xa(i)&&"number"==typeof i?ei(h,i)(o):ga(i)||Va(i)?ei(h,0)(o):i.map(function(e,t){var r=Math.floor(t*l);if(h[r]){var n=h[r],a=ei(n.x,e.x),i=ei(n.y,e.y);return iT(iT({},e),{},{x:a(o),y:i(o)})}return e}),r.renderAreaStatically(c,s,e,t)}return d.createElement(Ri,null,d.createElement("defs",null,d.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(o))),d.createElement(Ri,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,a=r.baseLine,i=r.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&n&&n.length&&(!s&&c>0||!Nx(s,n)||!Nx(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,o=t.top,s=t.left,l=t.xAxis,c=t.yAxis,u=t.width,p=t.height,f=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Vt("recharts-area",i),v=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,b=v||x,j=ga(h)?this.id:h,w=null!==(e=Si(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,O=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,P=(Oi(n)?n:{}).clipDot,k=void 0===P||P,E=2*O+A;return d.createElement(Ri,{className:y},v||x?d.createElement("defs",null,d.createElement("clipPath",{id:"clipPath-".concat(j)},d.createElement("rect",{x:v?s:s-u/2,y:x?o:o-p/2,width:v?u:2*u,height:x?p:2*p})),!k&&d.createElement("clipPath",{id:"clipPath-dots-".concat(j)},d.createElement("rect",{x:s-E/2,y:o-E/2,width:u+E,height:p+E}))):null,g?null:this.renderArea(b,j),(n||g)&&this.renderDots(b,k,j),(!f||m)&&aw.renderCallByParent(this.props,a))}}])&&oT(t.prototype,r),n&&oT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function hT(e){return(hT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gT(e,t,r){return t=vT(t),function(e,t){if(t&&("object"===hT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yT()?Reflect.construct(t,r||[],vT(e).constructor):t.apply(e,r))}function yT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yT=function(){return!!e})()}function vT(e){return(vT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xT(e,t){return(xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bT(e,t,r){return(t=jT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jT(e){var t=function(e,t){if("object"!=hT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=hT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==hT(t)?t:t+""}function wT(){return wT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wT.apply(this,arguments)}function NT(e){var t=e.xAxisId,r=ok(),n=sk(),a=ak(t);return null==a?null:o.createElement(gE,wT({},a,{className:Vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return rj(e,!0)}}))}QE=fT,dT(fT,"displayName","Area"),dT(fT,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Jp,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),dT(fT,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!=o?o:i;if(Xa(s)&&"number"==typeof s)return s;var l="horizontal"===a?n:r,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),dT(fT,"getComposedData",function(e){var t,r=e.props,n=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,p=e.displayedData,f=e.offset,h=r.layout,m=u&&u.length,g=QE.getBaseValue(r,n,a,i),y="horizontal"===h,v=!1,x=p.map(function(e,t){var r;m?r=u[d+t]:(r=Kb(e,c),Array.isArray(r)?v=!0:r=[g,r]);var n=null==r[1]||m&&null==Kb(e,c);return y?{x:dj({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:n?null:i.scale(r[1]),value:r,payload:e}:{x:n?null:a.scale(r[1]),y:dj({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=m||v?x.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?i.scale(g):a.scale(g),iT({points:x,baseLine:t,layout:h,isRange:v},f)}),dT(fT,"renderDotItem",function(e,t){var r;if(d.isValidElement(e))r=d.cloneElement(e,t);else if(Nr(e))r=e(t);else{var n=Vt("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=rT(t,eT);r=d.createElement(jO,nT({},i,{key:a,className:n}))}return r});var OT=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xT(e,t)}(e,o.Component),mT(e,[{key:"render",value:function(){return o.createElement(NT,this.props)}}])}();function ST(e){return(ST="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PT(e,t,r){return t=ET(t),function(e,t){if(t&&("object"===ST(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kT()?Reflect.construct(t,r||[],ET(e).constructor):t.apply(e,r))}function kT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(kT=function(){return!!e})()}function ET(e){return(ET=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TT(e,t){return(TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function CT(e,t,r){return(t=MT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MT(e){var t=function(e,t){if("object"!=ST(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ST(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ST(t)?t:t+""}function _T(){return _T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_T.apply(this,arguments)}bT(OT,"displayName","XAxis"),bT(OT,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var IT=function(e){var t=e.yAxisId,r=ok(),n=sk(),a=ik(t);return null==a?null:o.createElement(gE,_T({},a,{className:Vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return rj(e,!0)}}))},DT=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),PT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TT(e,t)}(e,o.Component),AT(e,[{key:"render",value:function(){return o.createElement(IT,this.props)}}])}();function RT(e){return function(e){if(Array.isArray(e))return LT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return LT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}CT(DT,"displayName","YAxis"),CT(DT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var BT=function(e,t,r,n,a){var i=bi(e,wk),o=bi(e,Ik),s=[].concat(RT(i),RT(o)),l=bi(e,Wk),c="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===r&&VA(t.props,"extendDomain")&&Xa(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},d)),l.length){var p="".concat(u,"1"),f="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===r&&VA(t.props,"extendDomain")&&Xa(t.props[p])&&Xa(t.props[f])){var n=t.props[p],a=t.props[f];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Xa(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},zT={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(zT);var $T=new(u(zT.exports)),qT="recharts.syncMouseEvents";function UT(e){return(UT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GT(e,t,r){return(t=VT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e){var t=function(e,t){if("object"!=UT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=UT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==UT(t)?t:t+""}var WT=function(){return FT(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),GT(this,"activeIndex",0),GT(this,"coordinateList",[]),GT(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function HT(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[kj(t,r,n,a),kj(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function XT(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return HT(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,p=kj(s,l,c,d),f=kj(s,l,u,d);n=p.x,a=p.y,i=f.x,o=f.y}return[{x:n,y:a},{x:i,y:o}]}function KT(e){return(KT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(t){QT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function QT(e,t,r){var n;return n=function(e,t){if("object"!=KT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=KT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==KT(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZT(e){var t,r,n,a=e.element,i=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,p=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(r=a.type.defaultProps)||void 0===r?void 0:r.cursor;if(!a||!m||!s||!l||"ScatterChart"!==h&&"axis"!==i)return null;var g=Ow;if("ScatterChart"===h)n=l,g=EO;else if("BarChart"===h)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(f,l,u,p),g=dO;else if("radial"===f){var y=HT(l),v=y.cx,x=y.cy,b=y.radius;n={cx:v,cy:x,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=fw}else n={points:XT(f,l,u)},g=Ow;var j=JT(JT(JT(JT({stroke:"#ccc",pointerEvents:"none"},u),n),Si(m,!1)),{},{payload:c,payloadIndex:d,className:Vt("recharts-tooltip-cursor",m.className)});return o.isValidElement(m)?o.cloneElement(m,j):o.createElement(g,j)}var eC=["item"],tC=["children","className","width","height","style","compact","title","desc"];function rC(e){return(rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(this,arguments)}function aC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||pC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iC(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oC(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yC(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sC(e,t,r){return t=cC(t),function(e,t){if(t&&("object"===rC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lC()?Reflect.construct(t,r||[],cC(e).constructor):t.apply(e,r))}function lC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(lC=function(){return!!e})()}function cC(e){return(cC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uC(e,t){return(uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dC(e){return function(e){if(Array.isArray(e))return fC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pC(e,t){if(e){if("string"==typeof e)return fC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fC(e,t):void 0}}function fC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function mC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(t){gC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gC(e,t,r){return(t=yC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yC(e){var t=function(e,t){if("object"!=rC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=rC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rC(t)?t:t+""}var vC={xAxis:["bottom","top"],yAxis:["left","right"]},xC={width:"100%",height:"100%"},bC={x:0,y:0};function jC(e){return e}var wC=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!=r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(dC(e),dC(r)):e},[]);return i.length>0?i:e&&e.length&&Xa(n)&&Xa(a)?e.slice(n,a+1):[]};function NC(e){return"number"===e?[0,"auto"]:void 0}var OC=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=wC(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=ti(void 0===u?o:u,i.dataKey,n):c=u&&u[r]||o[r];return c?[].concat(dC(a),[xj(s,c)]):a},[])},SC=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,p=void 0;if(Wa(u-c)!==Wa(d-u)){var f=[];if(Wa(d-u)===Wa(s[1]-s[0])){p=d;var h=u+s[1]-s[0];f[0]=Math.min(h,(h+c)/2),f[1]=Math.max(h,(h+c)/2)}else{p=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(p+u)/2),Math.max(u,(p+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){i=n[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){i=n[l].index;break}}}else for(var x=0;x<o;x++)if(0===x&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x>0&&x<o-1&&e>(r[x].coordinate+r[x-1].coordinate)/2&&e<=(r[x].coordinate+r[x+1].coordinate)/2||x===o-1&&e>(r[x].coordinate+r[x-1].coordinate)/2){i=r[x].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=OC(e,t,c,u),p=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=n.radius;return mC(mC(mC({},n),kj(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=n.angle;return mC(mC(mC({},n),kj(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return bC}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:p}}return null},AC=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,p=ej(c,a);return r.reduce(function(t,r){var f,h=void 0!==r.type.defaultProps?mC(mC({},r.type.defaultProps),r.props):r.props,m=h.type,g=h.dataKey,y=h.allowDataOverflow,v=h.allowDuplicatedCategory,x=h.scale,b=h.ticks,j=h.includeHidden,w=h[i];if(t[w])return t;var N,O,S,A=wC(e.data,{graphicalItems:n.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w}),dataStartIndex:s,dataEndIndex:l}),P=A.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&Xa(n)&&Xa(a))return!0}return!1})(h.domain,y,m)&&(N=gj(h.domain,null,y),!p||"number"!==m&&"auto"===x||(S=Yb(A,g,"category")));var k=NC(m);if(!N||0===N.length){var E,T=null!==(E=h.domain)&&void 0!==E?E:k;if(g){if(N=Yb(A,g,m),"category"===m&&p){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);v&&C?(O=N,N=xA(0,P)):v||(N=vj(T,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(dC(e),[t])},[]))}else if("category"===m)N=v?N.filter(function(e){return""!==e&&!ga(e)}):vj(T,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ga(t)?e:[].concat(dC(e),[t])},[]);else if("number"===m){var M=function(e,t,r,n,a){var i=t.map(function(t){return Qb(e,t,r,a,n)}).filter(function(e){return!ga(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,n.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),g,a,c);M&&(N=M)}!p||"number"!==m&&"auto"===x||(S=Yb(A,g,"category"))}else N=p?xA(0,P):o&&o[w]&&o[w].hasStack&&"number"===m?"expand"===d?[0,1]:fj(o[w].stackGroups,s,l):Zb(A,n.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),m,c,!0);if("number"===m)N=BT(u,N,w,a,b),T&&(N=gj(T,N,y));else if("category"===m&&T){var _=T;N.every(function(e){return _.indexOf(e)>=0})&&(N=_)}}return mC(mC({},t),{},gC({},w,mC(mC({},h),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:O,originalDomain:null!==(f=h.domain)&&void 0!==f?f:k,isCategorical:p,layout:c})))},{})},PC=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=bi(c,a),p={};return d&&d.length?p=AC(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(p=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=wC(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),p=d.length,f=ej(c,a),h=-1;return r.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?mC(mC({},t.type.defaultProps),t.props):t.props)[i],y=NC("number");return e[g]?e:(h++,f?m=xA(0,p):o&&o[g]&&o[g].hasStack?(m=fj(o[g].stackGroups,s,l),m=BT(u,m,g,a)):(m=gj(y,Zb(d,r.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),m=BT(u,m,g,a)),mC(mC({},e),{},gC({},g,mC(mC({axisType:a},n.defaultProps),{},{hide:!0,orientation:ma(vC,"".concat(a,".").concat(h%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),p},kC=function(e){var t=e.children,r=e.defaultShowTooltip,n=ji(t,LA),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},EC=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},TC=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,o=void 0===i?{}:i,s=r.width,l=r.height,c=r.children,u=r.margin||{},d=ji(c,LA),p=ji(c,Ed),f=Object.keys(o).reduce(function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:mC(mC({},e),{},gC({},n,e[n]+r.width))},{left:u.left||0,right:u.right||0}),h=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:mC(mC({},e),{},gC({},n,ma(e,"".concat(n))+r.height))},{top:u.top||0,bottom:u.bottom||0}),m=mC(mC({},h),f),g=m.bottom;d&&(m.bottom+=d.props.height||LA.defaultProps.height),p&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,s=i-(o.left||0)-(o.right||0),l=Ub({children:a,legendWidth:s});if(l){var c=n||{},u=c.width,d=c.height,p=l.align,f=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===f)&&"center"!==p&&Xa(e[p]))return Hb(Hb({},e),{},Xb({},p,e[p]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===p)&&"middle"!==f&&Xa(e[f]))return Hb(Hb({},e),{},Xb({},f,e[f]+(d||0)))}return e}(m,0,r,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return mC(mC({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},CC=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},MC=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=void 0===n?"axis":n,i=e.validateTooltipEventTypes,s=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,p=e.defaultProps,f=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,p=e.barCategoryGap,f=e.maxBarSize,h=EC(u),m=h.numericAxisName,g=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=gi(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),v=[];return r.forEach(function(r,h){var x=wC(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:s}),b=void 0!==r.type.defaultProps?mC(mC({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(m,"Id")],O=b["".concat(g,"Id")],S=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||Nb();var i=n[a];return mC(mC({},e),{},gC(gC({},r.axisType,i),"".concat(r.axisType,"Ticks"),rj(i)))},{}),A=S[g],P=S["".concat(g,"Ticks")],k=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?Hb(Hb({},e.type.defaultProps),e.props):e.props).stackId;if(Ka(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[N].stackGroups),E=gi(r.type).indexOf("Bar")>=0,T=yj(A,P),C=[],M=y&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,p=u.length;d<p;d++){var f=c[u[d]],h=f.items,m=f.cateAxisId,g=h.filter(function(e){return gi(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?Hb(Hb({},y),g[0].props):g[0].props,x=v.barSize,b=v[m];i[b]||(i[b]=[]);var j=ga(x)?t:x;i[b].push({item:g[0],stackList:g.slice(1),barSize:ga(j)?void 0:Qa(j,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:CC(S,g)});if(E){var _,I,D=ga(w)?f:w,R=null!==(_=null!==(I=yj(A,P,!0))&&void 0!==I?I:D)&&void 0!==_?_:0;C=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=Qa(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,p=n/s,f=i.reduce(function(e,t){return e+t.barSize||0},0);(f+=(s-1)*c)>=n&&(f-=(s-1)*c,c=0),f>=n&&p>0&&(d=!0,f=s*(p*=.9));var h={offset:((n-f)/2|0)-c,size:0};l=i.reduce(function(e,t){var r={item:t.item,position:{offset:h.offset+h.size+c,size:d?p:t.barSize}},n=[].concat(Gb(e),[r]);return h=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:h})}),n},u)}else{var m=Qa(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var g=(n-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,r){var n=[].concat(Gb(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},u)}return l}({barGap:d,barCategoryGap:p,bandSize:R!==T?R:T,sizeList:M[O],maxBarSize:D}),R!==T&&(C=C.map(function(e){return mC(mC({},e),{},{position:mC(mC({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,B,z=r&&r.type&&r.type.getComposedData;z&&v.push({props:mC(mC({},z(mC(mC({},S),{},{displayedData:x,props:e,dataKey:j,item:r,bandSize:T,barPosition:C,offset:a,stackedData:k,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},gC(gC(gC({key:r.key||"item-".concat(h)},m,S[m]),g,S[g]),"animationId",i)),childIndex:(L=r,B=e.children,xi(B).indexOf(L)),item:r})}),v},h=function(e,n){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!wi({props:a}))return null;var c=a.children,d=a.layout,p=a.stackOffset,h=a.data,m=a.reverseStackOrder,g=EC(d),y=g.numericAxisName,v=g.cateAxisName,x=bi(c,r),b=function(e,t,r,n,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Hb(Hb({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(Ka(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Ja("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return Hb(Hb({},e),{},Xb({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return Hb(Hb({},t),{},Xb({},i,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:cj(e,o.items,a)}))},{})),Hb(Hb({},t),{},Xb({},i,s))},{})}(h,x,"".concat(y,"Id"),"".concat(v,"Id"),p,m),j=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return mC(mC({},e),{},gC({},r,PC(a,mC(mC({},t),{},{graphicalItems:x,stackGroups:t.axisType===y&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),w=TC(mC(mC({},j),{},{props:a,graphicalItems:x}),null==n?void 0:n.legendBBox);Object.keys(j).forEach(function(e){j[e]=u(a,j[e],w,e.replace("Map",""),t)});var N,O,S=j["".concat(v,"Map")],A=(N=Za(S),{tooltipTicks:O=rj(N,!1,!0),orderedTooltipTicks:Op(O,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:yj(N,O)}),P=f(a,mC(mC({},j),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:x,stackGroups:b,offset:w}));return mC(mC({formattedGraphicalItems:P,graphicalItems:x,offset:w,stackGroups:b},A),j)},m=function(){function e(r){var n,a,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gC(i=sC(this,e,[r]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gC(i,"accessibilityManager",new WT),gC(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;i.setState(mC({legendBBox:e},h({props:i.props,dataStartIndex:r,dataEndIndex:n,updateId:a},mC(mC({},i.state),{},{legendBBox:e}))))}}),gC(i,"handleReceiveSyncEvent",function(e,t,r){if(i.props.syncId===e){if(r===i.eventEmitterSymbol&&"function"!=typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),gC(i,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==i.state.dataStartIndex||r!==i.state.dataEndIndex){var n=i.state.updateId;i.setState(function(){return mC({dataStartIndex:t,dataEndIndex:r},h({props:i.props,dataStartIndex:t,dataEndIndex:r,updateId:n},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),gC(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var r=mC(mC({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseEnter;Nr(n)&&n(r,e)}}),gC(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),r=t?mC(mC({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(r),i.triggerSyncEvent(r);var n=i.props.onMouseMove;Nr(n)&&n(r,e)}),gC(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),gC(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),gC(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),gC(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var r=i.props.onMouseLeave;Nr(r)&&r(t,e)}),gC(i,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&mi[t]?mi[t]:null}(e),n=ma(i.props,"".concat(r));r&&Nr(n)&&n(null!==(t=/.*touch.*/i.test(r)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),gC(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var r=mC(mC({},t),{},{isTooltipActive:!0});i.setState(r),i.triggerSyncEvent(r);var n=i.props.onClick;Nr(n)&&n(r,e)}}),gC(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;Nr(t)&&t(i.getMouseInfo(e),e)}),gC(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;Nr(t)&&t(i.getMouseInfo(e),e)}),gC(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),gC(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),gC(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),gC(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;Nr(t)&&t(i.getMouseInfo(e),e)}),gC(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;Nr(t)&&t(i.getMouseInfo(e),e)}),gC(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&$T.emit(qT,i.props.syncId,e,i.eventEmitterSymbol)}),gC(i,"applySyncEvent",function(e){var t=i.props,r=t.layout,n=t.syncMethod,a=i.state.updateId,o=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(mC({dataStartIndex:o,dataEndIndex:s},h({props:i.props,dataStartIndex:o,dataEndIndex:s,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=i.state,p=d.offset,f=d.tooltipTicks;if(!p)return;if("function"==typeof n)u=n(f,e);else if("value"===n){u=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){u=m;break}}var g=mC(mC({},p),{},{x:p.left,y:p.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),x=f[u]&&f[u].value,b=OC(i.state,i.props.data,u),j=f[u]?{x:"horizontal"===r?f[u].coordinate:y,y:"horizontal"===r?v:f[u].coordinate}:bC;i.setState(mC(mC({},e),{},{activeLabel:x,activeCoordinate:j,activePayload:b,activeTooltipIndex:u}))}else i.setState(e)}),gC(i,"renderCursor",function(e){var r,n=i.state,a=n.isTooltipActive,o=n.activeCoordinate,s=n.activePayload,l=n.offset,c=n.activeTooltipIndex,u=n.tooltipAxisBandSize,p=i.getTooltipEventType(),f=null!==(r=e.props.active)&&void 0!==r?r:a,h=i.props.layout,m=e.key||"_recharts-cursor";return d.createElement(ZT,{key:m,activeCoordinate:o,activePayload:s,activeTooltipIndex:c,chartName:t,element:e,isActive:f,layout:h,offset:l,tooltipAxisBandSize:u,tooltipEventType:p})}),gC(i,"renderPolarAxis",function(e,t,r){var n=ma(e,"type.axisType"),a=ma(i.state,"".concat(n,"Map")),s=e.type.defaultProps,l=void 0!==s?mC(mC({},s),e.props):e.props,c=a&&a[l["".concat(n,"Id")]];return o.cloneElement(e,mC(mC({},c),{},{className:Vt(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:rj(c,!0)}))}),gC(i,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,a=t.polarRadius,s=i.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Za(l),d=Za(c),p=d.cx,f=d.cy,h=d.innerRadius,m=d.outerRadius;return o.cloneElement(e,{polarAngles:Array.isArray(n)?n:rj(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(a)?a:rj(u,!0).map(function(e){return e.coordinate}),cx:p,cy:f,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),gC(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,r=t.children,n=t.width,a=t.height,s=i.props.margin||{},l=n-(s.left||0)-(s.right||0),u=Ub({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,p=iC(u,eC);return o.cloneElement(d,mC(mC({},p),{},{chartWidth:n,chartHeight:a,margin:s,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),gC(i,"renderTooltip",function(){var e,t=i.props,r=t.children,n=t.accessibilityLayer,a=ji(r,uf);if(!a)return null;var s=i.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,p=s.offset,f=null!==(e=a.props.active)&&void 0!==e?e:l;return o.cloneElement(a,{viewBox:mC(mC({},p),{},{x:p.left,y:p.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:n})}),gC(i,"renderBrush",function(e){var t=i.props,r=t.margin,n=t.data,a=i.state,s=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,u=a.updateId;return o.cloneElement(e,{key:e.key||"_recharts-brush",onChange:aj(i.handleBrushChange,e.props.onChange),data:n,x:Xa(e.props.x)?e.props.x:s.left,y:Xa(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Xa(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),gC(i,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=i.clipPathId,a=i.state,s=a.xAxisMap,l=a.yAxisMap,c=a.offset,u=e.type.defaultProps||{},d=e.props,p=d.xAxisId,f=void 0===p?u.xAxisId:p,h=d.yAxisId,m=void 0===h?u.yAxisId:h;return o.cloneElement(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})}),gC(i,"renderActivePoints",function(t){var r=t.item,n=t.activePoint,a=t.basePoint,i=t.childIndex,o=t.isRange,s=[],l=r.props.key,c=void 0!==r.item.type.defaultProps?mC(mC({},r.item.type.defaultProps),r.item.props):r.item.props,u=c.activeDot,d=mC(mC({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:Jb(r.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Si(u,!1)),ci(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(e.renderActiveDot(u,mC(mC({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),gC(i,"renderGraphicChild",function(e,t,r){var n=i.filterFormatItem(e,t,r);if(!n)return null;var a=i.getTooltipEventType(),s=i.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,p=ji(i.props.children,uf),f=n.props,h=f.points,m=f.isRange,g=f.baseLine,y=void 0!==n.item.type.defaultProps?mC(mC({},n.item.type.defaultProps),n.item.props):n.item.props,v=y.activeDot,x=y.hide,b=y.activeBar,j=y.activeShape,w=Boolean(!x&&l&&p&&(v||b||j)),N={};"axis"!==a&&p&&"click"===p.props.trigger?N={onClick:aj(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(N={onMouseLeave:aj(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:aj(i.handleItemMouseEnter,e.props.onMouseEnter)});var O=o.cloneElement(e,mC(mC({},n.props),N));if(w){if(!(u>=0)){var S,A=(null!==(S=i.getItemByXY(i.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:O}).graphicalItem,P=A.item,k=void 0===P?e:P,E=A.childIndex,T=mC(mC(mC({},n.props),N),{},{activeIndex:E});return[o.cloneElement(k,T),null,null]}var C,M;if(c.dataKey&&!c.allowDuplicatedCategory){var _="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=ti(h,_,d),M=m&&g&&ti(g,_,d)}else C=null==h?void 0:h[u],M=m&&g&&g[u];if(j||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[o.cloneElement(e,mC(mC(mC({},n.props),N),{},{activeIndex:I})),null,null]}if(!ga(C))return[O].concat(dC(i.renderActivePoints({item:n,activePoint:C,basePoint:M,childIndex:u,isRange:m})))}return m?[O,null,null]:[O,null]}),gC(i,"renderCustomized",function(e,t,r){return o.cloneElement(e,mC(mC({key:"recharts-customized-".concat(r)},i.props),i.state))}),gC(i,"renderMap",{CartesianGrid:{handler:jC,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:jC},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:jC},YAxis:{handler:jC},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(n=r.id)&&void 0!==n?n:Ja("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=Tf(i.triggeredAfterMouseMove,null!==(a=r.throttleDelay)&&void 0!==a?a:1e3/60),i.state={},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uC(e,t)}(e,o.Component),oC(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=ji(t,uf);if(i){var o=i.props.defaultIndex;if(!("number"!=typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=OC(this.state,r,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},p=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});p&&(d=mC(mC({},d),p.props.points[o].tooltipPosition),l=p.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var r,n;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}});return null}},{key:"componentDidUpdate",value:function(e){Ai([ji(e.children,uf)],[ji(this.props.children,uf)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ji(this.props.children,uf);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),p=SC(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var f=Za(c).scale,h=Za(u).scale,m=f&&f.invert?f.invert(i.chartX):null,g=h&&h.invert?h.invert(i.chartY):null;return mC(mC({},i),{},{xValue:m,yValue:g},p)}return p?mC(mC({},i),p):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Za(l);return Mj({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=ji(e,uf),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),mC(mC({},ci(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){$T.on(qT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$T.removeListener(qT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===gi(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return d.createElement("defs",null,d.createElement("clipPath",{id:e},d.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=aC(t,2),n=r[0],a=r[1];return mC(mC({},e),{},gC({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=aC(t,2),n=r[0],a=r[1];return mC(mC({},e),{},gC({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?mC(mC({},l.type.defaultProps),l.props):l.props,u=gi(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return cO(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var p=(s.data||[]).find(function(t){return Mj(e,t)});if(p)return{graphicalItem:o,payload:p}}else if(WS(o,n)||HS(o,n)||XS(o,n)){var f=QS({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),h=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:mC(mC({},o),{},{childIndex:h}),payload:XS(o,n)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!wi(this))return null;var t,r,n=this.props,a=n.children,i=n.className,o=n.width,s=n.height,l=n.style,c=n.compact,u=n.title,p=n.desc,f=iC(n,tC),h=Si(f,!1);if(c)return d.createElement(nk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},d.createElement(Mi,nC({},h,{width:o,height:s,title:u,desc:p}),this.renderClipPath(),ki(a,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return d.createElement(nk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},d.createElement("div",nC({className:Vt("recharts-wrapper",i),style:mC({position:"relative",cursor:"default",width:o,height:s},l)},m,{ref:function(t){e.container=t}}),d.createElement(Mi,nC({},h,{width:o,height:s,title:u,desc:p,style:xC}),this.renderClipPath(),ki(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();gC(m,"displayName",t),gC(m,"defaultProps",mC({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),gC(m,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var p=kC(e);return mC(mC(mC({},p),{},{updateId:0},h(mC(mC({props:e},p),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!ni(c,t.prevMargin)){var f=kC(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=mC(mC({},SC(t,n,s)),{},{updateId:t.updateId+1}),y=mC(mC(mC({},f),m),g);return mC(mC(mC({},y),h(mC({props:e},y),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ai(a,t.prevChildren)){var v,x,b,j,w=ji(a,LA),N=w&&null!==(v=null===(x=w.props)||void 0===x?void 0:x.startIndex)&&void 0!==v?v:u,O=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:d,S=N!==u||O!==d,A=!ga(n)&&!S?t.updateId:t.updateId+1;return mC(mC({updateId:A},h(mC(mC({props:e},t),{},{updateId:A,dataStartIndex:N,dataEndIndex:O}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:O})}return null}),gC(m,"renderActiveDot",function(e,t,r){var n;return n=o.isValidElement(e)?o.cloneElement(e,t):Nr(e)?e(t):d.createElement(jO,t),d.createElement(Ri,{className:"recharts-active-dot",key:r},n)});var g=o.forwardRef(function(e,t){return d.createElement(m,nC({},e,{ref:t}))});return g.displayName=m.displayName,g},_C=MC({chartName:"LineChart",GraphicalChild:JE,axisComponents:[{axisType:"xAxis",AxisComp:OT},{axisType:"yAxis",AxisComp:DT}],formatAxisMap:DP}),IC=MC({chartName:"BarChart",GraphicalChild:kP,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:OT},{axisType:"yAxis",AxisComp:DT}],formatAxisMap:DP}),DC=MC({chartName:"PieChart",GraphicalChild:uA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pS},{axisType:"radiusAxis",AxisComp:QO}],formatAxisMap:function(e,t,r,n,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=Qa(e.cx,i,i/2),u=Qa(e.cy,o,o/2),d=Ej(i,o,r),p=Qa(e.innerRadius,d,0),f=Qa(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,r){var i,o=t[r],d=o.domain,h=o.reversed;if(ga(o.range))"angleAxis"===n?i=[s,l]:"radiusAxis"===n&&(i=[p,f]),h&&(i=[i[1],i[0]]);else{var m=Oj(i=o.range,2);s=m[0],l=m[1]}var g=ij(o,a),y=g.realScaleType,v=g.scale;v.domain(d).range(i),sj(v);var x=uj(v,wj(wj({},o),{},{realScaleType:y})),b=wj(wj(wj({},o),x),{},{range:i,radius:f,realScaleType:y,scale:v,cx:c,cy:u,innerRadius:p,outerRadius:f,startAngle:s,endAngle:l});return wj(wj({},e),{},Nj({},r,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),RC=MC({chartName:"AreaChart",GraphicalChild:fT,axisComponents:[{axisType:"xAxis",AxisComp:OT},{axisType:"yAxis",AxisComp:DT}],formatAxisMap:DP});const LC=()=>{const[e,t]=o.useState(null),[r,n]=o.useState(!0),[a,i]=o.useState(null),[s,l]=o.useState(30),[c,u]=o.useState(!1);o.useEffect(()=>{d()},[s]);const d=async()=>{var e,r;n(!0),i(null);try{const n=await fetch(`/api/social/analytics?days=${s}`,{credentials:"include"});if(!n.ok)throw new Error("Falha ao carregar analytics do Instagram");const a=await n.json();null==(r=null==(e=null==a?void 0:a.instagram)?void 0:e.metrics)||r.forEach(e=>{e.status}),t(a)}catch(a){i(a.message||"Erro ao carregar dados")}finally{n(!1)}},p=async()=>{u(!0),await d(),setTimeout(()=>u(!1),1e3)},f=t=>null==e?void 0:e.instagram.metrics.find(e=>e.name===t),h=(()=>{var t;if(!e)return[];const r=f("reach"),n=f("accounts_engaged"),a=f("profile_views"),i=f("total_interactions"),o=f("likes"),s=f("comments");return(null==(t=null==r?void 0:r.series)?void 0:t.length)?r.series.map((e,t)=>{var r,l,c,u,d,p,f,h,m,g;return{date:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),dateOriginal:e.date,reach:e.value||0,engaged:(null==(l=null==(r=null==n?void 0:n.series)?void 0:r[t])?void 0:l.value)||0,profileViews:(null==(u=null==(c=null==a?void 0:a.series)?void 0:c[t])?void 0:u.value)||0,interactions:(null==(p=null==(d=null==i?void 0:i.series)?void 0:d[t])?void 0:p.value)||0,likes:(null==(h=null==(f=null==o?void 0:o.series)?void 0:f[t])?void 0:h.value)||0,comments:(null==(g=null==(m=null==s?void 0:s.series)?void 0:m[t])?void 0:g.value)||0}}):[]})(),m=e?(()=>{const t=null==e?void 0:e.facebook.metrics.find(e=>"page_fan_adds_unique"===e.name),r=null==e?void 0:e.facebook.metrics.find(e=>"page_fan_removes_unique"===e.name),n=(null==t?void 0:t.sumDaily)||0,a=(null==r?void 0:r.sumDaily)||0;return{adds:n,removes:a,net:n-a}})():{net:0},g=()=>{const t=f("accounts_engaged"),r=f("total_interactions");if(!t||!r)return[];const n=t.avgDaily;r.avgDaily;const a=(null==e?void 0:e.instagram.account.followers)||1;return[{name:"Engajados",value:Math.round(n),color:"#E1306C"},{name:"Visualizaram",value:Math.round(.3*a-n),color:"#C13584"},{name:"Não Alcançados",value:Math.round(.7*a),color:"#e5e7eb"}]};if(r)return Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Ye.jsx("div",{className:"max-w-7xl mx-auto",children:Ye.jsx("div",{className:"flex items-center justify-center h-96",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(j,{size:48,className:"animate-spin text-pink-600 mx-auto mb-4"}),Ye.jsx("p",{className:"text-gray-600 font-medium",children:"Carregando analytics completo da Meta Graph API..."}),Ye.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Buscando todas as métricas disponíveis"})]})})})});if(a||!e)return Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Ye.jsx("div",{className:"max-w-7xl mx-auto",children:Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[Ye.jsx("div",{className:"flex items-center justify-center text-red-600 mb-4",children:Ye.jsx(F,{size:48})}),Ye.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Erro ao carregar dados"}),Ye.jsx("p",{className:"text-center text-gray-600 mb-6",children:a||"Sem dados disponíveis"}),Ye.jsx("div",{className:"flex justify-center",children:Ye.jsx("button",{onClick:p,className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all",children:"Tentar novamente"})})]})})});const y=f("reach"),v=f("accounts_engaged"),x=f("profile_views"),b=f("total_interactions");return f("likes"),f("comments"),f("website_clicks"),Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Ye.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[Ye.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-8 text-white shadow-2xl",children:Ye.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-4",children:[Ye.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:Ye.jsx(O,{size:40})}),Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Instagram Analytics Completo"}),Ye.jsxs("p",{className:"text-pink-100 flex items-center",children:[Ye.jsx(U,{size:16,className:"mr-2"}),"@",e.instagram.account.username," • Todas as Métricas da Meta Graph API"]})]})]}),Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsxs("select",{value:s,onChange:e=>l(Number(e.target.value)),className:"px-4 py-2 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl text-white border border-white border-opacity-30 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",children:[Ye.jsx("option",{value:7,className:"text-gray-900",children:"Últimos 7 dias"}),Ye.jsx("option",{value:30,className:"text-gray-900",children:"Últimos 30 dias"}),Ye.jsx("option",{value:90,className:"text-gray-900",children:"Últimos 90 dias"})]}),Ye.jsx("button",{onClick:p,disabled:c,className:"p-3 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl hover:bg-opacity-30 transition-all disabled:opacity-50",children:Ye.jsx(j,{size:20,className:c?"animate-spin":""})})]})]})}),(0===(null==b?void 0:b.sumDaily)||0===(null==v?void 0:v.sumDaily)||0===(null==x?void 0:x.sumDaily))&&Ye.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-r-2xl shadow-md",children:Ye.jsxs("div",{className:"flex items-start",children:[Ye.jsx(F,{size:24,className:"text-red-600 mr-4 flex-shrink-0 mt-1"}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h4",{className:"font-bold text-red-900 text-lg mb-2",children:"🔒 Permissões Insuficientes do Token Instagram"}),Ye.jsxs("p",{className:"text-sm text-red-800 mb-3",children:["A Meta Graph API retornou ",Ye.jsx("strong",{children:"sem dados"})," para a maioria das métricas. Com 77.536 seguidores e 6 anos de conta, isso indica ",Ye.jsx("strong",{children:"problema de permissões"}),"."]}),Ye.jsxs("div",{className:"bg-red-100 p-4 rounded-xl mb-3",children:[Ye.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"✅ Funciona:"}),Ye.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["• reach (alcance único): ",(null==y?void 0:y.sumDaily.toLocaleString())||0]}),Ye.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["• followers_count (seguidores): ",e.instagram.account.followers.toLocaleString()]}),Ye.jsx("p",{className:"text-sm font-bold text-red-900 mt-3 mb-2",children:"❌ Não funciona (0 dados):"}),Ye.jsx("p",{className:"text-xs text-red-800 font-mono",children:e.instagram.metrics.filter(e=>"ok"===e.status&&0===(e.sumDaily||0)).map(e=>e.name).join(", ")})]}),Ye.jsxs("div",{className:"bg-white p-4 rounded-xl border border-red-200",children:[Ye.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"🔧 Como Resolver:"}),Ye.jsxs("ol",{className:"text-xs text-red-800 space-y-1 ml-4 list-decimal",children:[Ye.jsxs("li",{children:["Acesse: ",Ye.jsx("a",{href:"https://developers.facebook.com/tools/explorer/",target:"_blank",className:"underline font-bold",children:"Facebook Graph API Explorer"})]}),Ye.jsxs("li",{children:['Selecione "User Token" e adicione as permissões:',Ye.jsxs("ul",{className:"ml-4 mt-1",children:[Ye.jsx("li",{children:"✓ instagram_basic"}),Ye.jsxs("li",{children:["✓ ",Ye.jsx("strong",{children:"instagram_manage_insights"})," (CRÍTICA)"]}),Ye.jsx("li",{children:"✓ pages_read_engagement"}),Ye.jsx("li",{children:"✓ pages_show_list"})]})]}),Ye.jsxs("li",{children:["Gere o token e atualize no arquivo ",Ye.jsx("code",{className:"bg-red-200 px-1",children:".env"})]}),Ye.jsx("li",{children:"Reinicie o servidor"})]})]})]})]})}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-r-xl",children:Ye.jsxs("div",{className:"flex items-start",children:[Ye.jsx(U,{size:20,className:"text-green-600 mr-3 flex-shrink-0 mt-0.5"}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-bold text-green-900 mb-1",children:"✅ Dados 100% Reais"}),Ye.jsxs("p",{className:"text-sm text-green-800",children:["Todas as métricas são obtidas diretamente da ",Ye.jsx("strong",{children:"Meta Graph API v22.0"})]})]})]})}),Ye.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-xl",children:Ye.jsxs("div",{className:"flex items-start",children:[Ye.jsx(G,{size:20,className:"text-blue-600 mr-3 flex-shrink-0 mt-0.5"}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-bold text-blue-900 mb-1",children:"📊 Período Analisado"}),Ye.jsxs("p",{className:"text-sm text-blue-800",children:["De ",Ye.jsx("strong",{children:new Date(e.period.since).toLocaleDateString("pt-BR")})," até"," ",Ye.jsx("strong",{children:new Date(e.period.until).toLocaleDateString("pt-BR")})," (",e.period.days," dias)"]})]})]})})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-pink-500",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl",children:Ye.jsx(V,{size:24,className:"text-white"})}),0!==m.net&&Ye.jsxs("div",{className:"flex items-center text-sm font-medium "+(m.net>=0?"text-green-600":"text-red-600"),children:[m.net>=0?Ye.jsx(W,{size:16}):Ye.jsx(H,{size:16}),Ye.jsxs("span",{className:"ml-1",children:[m.net>=0?"+":"",m.net]})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Seguidores"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.instagram.account.followers.toLocaleString()}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: followers_count"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-blue-500",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:Ye.jsx(A,{size:24,className:"text-white"})}),Ye.jsx("div",{className:"flex items-center text-sm font-medium text-blue-600",children:Ye.jsx(G,{size:16})})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Alcance"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==y?void 0:y.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: reach (pessoas únicas)"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-purple-500",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-4",children:Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:Ye.jsx(X,{size:24,className:"text-white"})})}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Interações Totais"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==b?void 0:b.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: total_interactions"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-green-500",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:Ye.jsx(K,{size:24,className:"text-white"})}),Ye.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600",children:[Ye.jsx(Y,{size:16}),Ye.jsxs("span",{className:"ml-1",children:[(((null==v?void 0:v.sumDaily)||0)/(e.instagram.account.followers||1)*100).toFixed(1),"%"]})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Contas Engajadas"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==v?void 0:v.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: accounts_engaged"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-orange-500",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-4",children:Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl",children:Ye.jsx(J,{size:24,className:"text-white"})})}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Visitas ao Perfil"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==x?void 0:x.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: profile_views (REAL!)"})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-6",children:Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(Y,{size:24,className:"mr-3 text-pink-600"}),"Performance Completa (Todos os Dados Reais)"]})}),h.length>0?Ye.jsx("div",{className:"h-96",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(_C,{data:h,children:[Ye.jsx(IE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(OT,{dataKey:"date",stroke:"#6b7280",fontSize:12}),Ye.jsx(DT,{stroke:"#6b7280",fontSize:12}),Ye.jsx(uf,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"}}),Ye.jsx(Ed,{}),Ye.jsx(JE,{type:"monotone",dataKey:"reach",name:"Alcance",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6"}}),Ye.jsx(JE,{type:"monotone",dataKey:"impressions",name:"Impressões",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6"}}),Ye.jsx(JE,{type:"monotone",dataKey:"engaged",name:"Engajados",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}}),Ye.jsx(JE,{type:"monotone",dataKey:"profileViews",name:"Visitas Perfil",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"}})]})})}):Ye.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(X,{size:48,className:"mx-auto mb-3 text-gray-300"}),Ye.jsx("p",{children:"Sem dados disponíveis"})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-6",children:Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(V,{size:24,className:"mr-3 text-purple-600"}),"Distribuição de Engajamento"]})}),Ye.jsx("div",{className:"h-80",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(DC,{children:[Ye.jsx(uA,{data:g(),cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:g().map((e,t)=>Ye.jsx(Bf,{fill:e.color},`cell-${t}`))}),Ye.jsx(uf,{})]})})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-6",children:Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(X,{size:24,className:"mr-3 text-blue-600"}),"Médias Diárias"]})}),Ye.jsx("div",{className:"h-80",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(IC,{data:[{name:"Alcance",value:(null==y?void 0:y.avgDaily)||0,color:"#3b82f6"},{name:"Interações",value:(null==b?void 0:b.avgDaily)||0,color:"#8b5cf6"},{name:"Engajados",value:(null==v?void 0:v.avgDaily)||0,color:"#10b981"},{name:"Visitas",value:(null==x?void 0:x.avgDaily)||0,color:"#f59e0b"}],children:[Ye.jsx(IE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(OT,{dataKey:"name",stroke:"#6b7280",fontSize:12}),Ye.jsx(DT,{stroke:"#6b7280",fontSize:12}),Ye.jsx(uf,{}),Ye.jsx(kP,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Alcance",value:(null==y?void 0:y.avgDaily)||0,color:"#3b82f6"},{name:"Interações",value:(null==b?void 0:b.avgDaily)||0,color:"#8b5cf6"},{name:"Engajados",value:(null==v?void 0:v.avgDaily)||0,color:"#10b981"},{name:"Visitas",value:(null==x?void 0:x.avgDaily)||0,color:"#f59e0b"}].map((e,t)=>Ye.jsx(Bf,{fill:e.color},`cell-${t}`))})]})})})]})]}),((null==y?void 0:y.aggregate28)||(null==b?void 0:b.aggregate28))&&Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Ye.jsx(G,{size:24,className:"mr-3 text-indigo-600"}),"Agregados de 28 Dias (Interface Meta)"]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(null==y?void 0:y.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"Alcance 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-blue-900",children:y.aggregate28.toLocaleString()})]}),(null==b?void 0:b.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"Interações 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-purple-900",children:b.aggregate28.toLocaleString()})]}),(null==v?void 0:v.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"Engajados 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-green-900",children:v.aggregate28.toLocaleString()})]}),(null==x?void 0:x.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-orange-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-orange-600 font-medium mb-2",children:"Visitas Perfil 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-orange-900",children:x.aggregate28.toLocaleString()})]})]})]}),b&&Ye.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl p-8 text-white shadow-lg",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center mb-3",children:[Ye.jsx(Q,{size:32,className:"mr-3"}),Ye.jsx("h3",{className:"text-2xl font-bold",children:"Total de Interações"})]}),Ye.jsx("p",{className:"text-4xl font-bold mb-2",children:b.sumDaily.toLocaleString()}),Ye.jsxs("p",{className:"text-pink-100",children:["Média diária: ",Ye.jsx("strong",{children:Math.round(b.avgDaily).toLocaleString()})," interações"]}),Ye.jsx("p",{className:"text-sm text-pink-100 mt-2",children:"📊 API: total_interactions (curtidas + comentários + salvamentos + compartilhamentos)"})]}),Ye.jsx("div",{className:"hidden md:block",children:Ye.jsxs("div",{className:"text-right",children:[Ye.jsx("div",{className:"text-6xl mb-2",children:"💬"}),Ye.jsx("div",{className:"text-6xl",children:"❤️"})]})})]})}),Ye.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:Ye.jsxs("div",{className:"flex items-start space-x-4",children:[Ye.jsx(U,{size:24,className:"text-blue-600 flex-shrink-0 mt-1"}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"✅ Status das Métricas"}),Ye.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:e.instagram.metrics.map((e,t)=>Ye.jsxs("div",{className:"p-3 rounded-lg "+("ok"===e.status?"bg-green-100 text-green-900":"bg-red-100 text-red-900"),children:[Ye.jsxs("strong",{children:[e.name,":"]})," ","ok"===e.status?"✅ OK":"❌ Erro"]},t))})]})]})})]})})},BC=()=>{const[e,t]=o.useState(()=>_t()),[r,n]=o.useState(!1);o.useEffect(()=>{const e=_t();t(e)},[]);const a=async t=>{if(t!==e&&!r){n(!0);try{const e=Mt[t].name;window.confirm(`Deseja alterar para o ${e}?\n\nA página será recarregada para aplicar as mudanças.`)&&(e=>{try{localStorage.setItem(Ct,e),window.location.reload()}catch(t){}})(t)}catch(a){alert("Erro ao alterar o layout. Tente novamente.")}finally{n(!1)}}};return Ye.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[Ye.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[Ye.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:Ye.jsx("span",{className:"text-white text-xl",children:"🎨"})}),Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Layouts do HeroGrid"}),Ye.jsx("p",{className:"text-gray-600 text-sm",children:"Escolha o layout da seção principal de notícias"})]})]}),Ye.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("span",{className:"text-2xl",children:Mt[e].icon}),Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"font-semibold text-green-800",children:"Layout Ativo"}),Ye.jsx("p",{className:"text-green-700",children:Mt[e].name}),Ye.jsx("p",{className:"text-green-600 text-sm",children:Mt[e].description})]})]})}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Mt).map(([t,n])=>{const i=t===e,o=t;return Ye.jsxs("div",{className:`\n                relative p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer\n                ${i?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300 hover:shadow-sm"}\n                ${r?"opacity-50 cursor-not-allowed":""}\n              `,onClick:()=>a(o),children:[i&&Ye.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:Ye.jsx("span",{className:"text-white text-xs",children:"✓"})}),Ye.jsxs("div",{className:"flex items-start gap-3",children:[Ye.jsx("span",{className:"text-3xl",children:n.icon}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h3",{className:"font-semibold mb-1 "+(i?"text-green-800":"text-gray-900"),children:n.name}),Ye.jsx("p",{className:"text-sm "+(i?"text-green-700":"text-gray-600"),children:n.description}),!i&&Ye.jsx("button",{className:"mt-3 px-3 py-1 bg-purple-100 text-purple-700 rounded text-sm font-medium hover:bg-purple-200 transition-colors",onClick:e=>{e.stopPropagation(),a(o)},disabled:r,children:r?"Alterando...":"Ativar Layout"}),i&&Ye.jsx("div",{className:"mt-3 px-3 py-1 bg-green-100 text-green-700 rounded text-sm font-medium",children:"✓ Layout Ativo"})]})]})]},t)})}),Ye.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:Ye.jsxs("div",{className:"flex items-start gap-3",children:[Ye.jsx("span",{className:"text-blue-500 text-xl",children:"ℹ️"}),Ye.jsxs("div",{className:"text-sm text-blue-800",children:[Ye.jsx("h4",{className:"font-semibold mb-2",children:"Informações Importantes:"}),Ye.jsxs("ul",{className:"space-y-1 text-blue-700",children:[Ye.jsx("li",{children:"• Todos os layouts mantêm as cores e tipologia das categorias"}),Ye.jsx("li",{children:"• A mudança de layout recarrega a página automaticamente"}),Ye.jsx("li",{children:"• O layout escolhido será aplicado apenas na página inicial"}),Ye.jsx("li",{children:"• Páginas de teste (/test-*) não são afetadas"})]})]})]})})]})},zC=()=>{const[e,t]=o.useState([]),[r,n]=o.useState(null),[a,i]=o.useState(!1);o.useEffect(()=>{const e=Tt();t(e)},[]);const s=(r,n)=>{if(n<0||n>=e.length)return;const a=[...e],[i]=a.splice(r,1);a.splice(n,0,i),t(a)},l=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"};return Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsx(BC,{}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seções da Página Inicial"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Reorganize e configure a ordem das seções"})]}),Ye.jsxs("div",{className:"flex space-x-3",children:[Ye.jsxs("button",{onClick:()=>window.open("/","_blank"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:[Ye.jsx(g,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Pré-visualizar"})]}),Ye.jsxs("button",{onClick:()=>{(e=>{try{localStorage.setItem(kt,JSON.stringify(e))}catch(t){}})(e),i(!0);[window.parent,window.opener].forEach(e=>{e&&e.location&&"/"===e.location.pathname&&e.location.reload()}),setTimeout(()=>i(!1),3e3)},className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center space-x-2 "+(a?"bg-green-500 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:[a?Ye.jsx(U,{className:"w-4 h-4"}):Ye.jsx(Z,{className:"w-4 h-4"}),Ye.jsx("span",{children:a?"Salvo!":"Salvar Layout"})]})]})]}),Ye.jsx("div",{className:"space-y-3",children:e.map((a,i)=>Ye.jsxs("div",{draggable:!0,onDragStart:e=>((e,t)=>{n(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.toString())})(e,i),onDragOver:l,onDrop:e=>((e,t)=>{e.preventDefault(),null!==r&&r!==t&&s(r,t),n(null)})(e,i),className:`\n              group flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200\n              hover:border-red-300 hover:bg-gray-100 transition-all cursor-move\n              ${r===i?"opacity-50 border-red-400":""}\n              ${a.enabled?"":"opacity-60"}\n            `,children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx(ee,{className:"w-5 h-5 text-gray-400 cursor-grab active:cursor-grabbing"}),Ye.jsxs("div",{className:"flex flex-col space-y-1",children:[Ye.jsx("button",{onClick:()=>s(i,i-1),disabled:0===i,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Mover para cima",children:Ye.jsx(te,{className:"w-3 h-3"})}),Ye.jsx("button",{onClick:()=>s(i,i+1),disabled:i===e.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Mover para baixo",children:Ye.jsx(re,{className:"w-3 h-3"})})]})]}),Ye.jsxs("div",{className:"flex-1 ml-4",children:[Ye.jsxs("div",{className:"font-medium text-gray-900",children:[i+1,". ",a.name]}),Ye.jsx("div",{className:"text-xs text-gray-500",children:a.enabled?"Ativa":"Desativada"})]}),Ye.jsx("button",{onClick:()=>(r=>{const n=[...e];n[r].enabled=!n[r].enabled,t(n)})(i),className:`\n                p-2 rounded-lg transition-colors\n                ${a.enabled?"text-green-600 hover:bg-green-50 bg-green-100":"text-gray-400 hover:bg-gray-200 bg-gray-100"}\n              `,title:a.enabled?"Desativar seção":"Ativar seção",children:a.enabled?Ye.jsx(A,{className:"w-5 h-5"}):Ye.jsx(ne,{className:"w-5 h-5"})})]},a.id))}),Ye.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:Ye.jsxs("div",{className:"text-blue-800 text-sm",children:[Ye.jsx("h4",{className:"font-semibold mb-2",children:"Como usar:"}),Ye.jsxs("ul",{className:"space-y-1",children:[Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Arrastar:"})," Clique e arraste pela área cinza para reordenar"]}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Setas:"})," Use as setas ↑↓ para mover uma posição"]}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Olho:"})," Clique para ativar/desativar a seção"]}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Salvar:"}),' Clique em "Salvar Layout" para aplicar as mudanças']}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Ver mudanças:"}),' Use "Pré-visualizar" ou navegue para a página inicial']})]})]})}),a&&Ye.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx(U,{className:"w-5 h-5 text-green-600"}),Ye.jsxs("div",{className:"text-green-800",children:[Ye.jsx("p",{className:"font-semibold",children:"Layout salvo com sucesso!"}),Ye.jsx("p",{className:"text-sm",children:"As mudanças foram aplicadas. Navegue para a página inicial para vê-las."})]})]})})]})]})},$C=({banner:e,onSave:t,onCancel:r})=>{var n,a;const[i,s]=o.useState({titulo:(null==e?void 0:e.titulo)||"",cliente:(null==e?void 0:e.cliente)||"",imagem:(null==e?void 0:e.imagem)||"",link:(null==e?void 0:e.link)||"",posicao:(null==e?void 0:e.posicao)||"top-strip",tipo:(null==e?void 0:e.tipo)||"imagem",tamanho:(null==e?void 0:e.tamanho)||"300x250",status:(null==e?void 0:e.status)||"ativo",dataInicio:(null==(n=null==e?void 0:e.dataInicio)?void 0:n.split("T")[0])||(new Date).toISOString().split("T")[0],dataFim:(null==(a=null==e?void 0:e.dataFim)?void 0:a.split("T")[0])||new Date(Date.now()+2592e6).toISOString().split("T")[0],impressoesMax:(null==e?void 0:e.impressoesMax)||"",cliquesMax:(null==e?void 0:e.cliquesMax)||"",cpm:(null==e?void 0:e.cpm)||"",cpc:(null==e?void 0:e.cpc)||"",valorTotal:(null==e?void 0:e.valorTotal)||"",prioridade:(null==e?void 0:e.prioridade)||1,conteudoHtml:(null==e?void 0:e.conteudoHtml)||"",observacoes:(null==e?void 0:e.observacoes)||""}),[l,c]=o.useState((null==e?void 0:e.imagem)||""),[u,d]=o.useState(!1),p=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},f=[{value:"top-strip",label:"Topo da Página",description:"Banner horizontal no topo (728x90)"},{value:"super-banner",label:"Super Banner",description:"Na NewsGeneralSection (970x250)"},{value:"news-sidebar",label:"Sidebar Notícias",description:"Coluna direita da NewsGeneralSection (w-full h-80)"},{value:"sidebar-article",label:"Sidebar Artigo",description:"AdBox na página de artigo (300x250)"},{value:"in-content",label:"Dentro do Texto",description:"No meio do conteúdo (300x250)"}],h=[{value:"728x90",label:"Leaderboard",dimensions:"728x90px"},{value:"300x250",label:"Medium Rectangle",dimensions:"300x250px"},{value:"160x600",label:"Wide Skyscraper",dimensions:"160x600px"},{value:"320x50",label:"Mobile Banner",dimensions:"320x50px"},{value:"970x250",label:"Billboard",dimensions:"970x250px"},{value:"300x600",label:"Half Page",dimensions:"300x600px"},{value:"personalizado",label:"Personalizado",dimensions:"Definir manualmente"}];return Ye.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Ye.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[Ye.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Editar Banner":"Novo Banner"}),Ye.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:Ye.jsx($,{className:"w-6 h-6"})})]}),Ye.jsxs("form",{onSubmit:r=>{r.preventDefault();const n={...i,dataInicio:new Date(i.dataInicio).toISOString(),dataFim:new Date(i.dataFim).toISOString(),impressoesMax:i.impressoesMax?Number(i.impressoesMax):void 0,cliquesMax:i.cliquesMax?Number(i.cliquesMax):void 0,cpm:i.cpm?Number(i.cpm):void 0,cpc:i.cpc?Number(i.cpc):void 0,valorTotal:i.valorTotal?Number(i.valorTotal):void 0};(async()=>{if(e){const r=await async function(e,t){return nt(`/banners/${e}`,t)}(e.id,n);t(r)}else{const e=await async function(e){return rt("/banners",e)}(n);t(e)}})()},className:"p-6 space-y-6",children:[Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Básicas"}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Banner *"}),Ye.jsx("input",{type:"text",name:"titulo",value:i.titulo,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),Ye.jsx("input",{type:"text",name:"cliente",value:i.cliente,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Posição *"}),Ye.jsx("select",{name:"posicao",value:i.posicao,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:f.map(e=>Ye.jsxs("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Banner *"}),Ye.jsxs("select",{name:"tipo",value:i.tipo,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Ye.jsx("option",{value:"imagem",children:"Imagem"}),Ye.jsx("option",{value:"html",children:"HTML/AdSense"}),Ye.jsx("option",{value:"video",children:"Vídeo"}),Ye.jsx("option",{value:"gif",children:"GIF"})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tamanho *"}),Ye.jsx("select",{name:"tamanho",value:i.tamanho,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:h.map(e=>Ye.jsxs("option",{value:e.value,children:[e.label," - ",e.dimensions]},e.value))})]})]}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Conteúdo"}),"imagem"===i.tipo?Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload de Imagem"}),Ye.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:l?Ye.jsxs("div",{className:"text-center",children:[Ye.jsx("img",{src:l,alt:"Preview",className:"max-h-40 mx-auto mb-2 rounded"}),Ye.jsx("button",{type:"button",onClick:()=>{c(""),s(e=>({...e,imagem:""}))},className:"text-red-600 text-sm hover:text-red-800",children:"Remover imagem"})]}):Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(E,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),Ye.jsxs("label",{className:"cursor-pointer",children:[Ye.jsx("span",{className:"text-sm text-gray-600",children:u?"Carregando...":"Clique para fazer upload"}),Ye.jsx("input",{type:"file",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){d(!0);try{const e=await async function(e){return new Promise((t,r)=>{if(!e.type.startsWith("image/"))return void r(new Error("Arquivo deve ser uma imagem"));const n=new FileReader;n.onload=e=>{var r;return t(String((null==(r=e.target)?void 0:r.result)||""))},n.onerror=()=>r(new Error("Erro ao ler arquivo")),n.readAsDataURL(e)})}(r);s(t=>({...t,imagem:e})),c(e)}catch(n){alert("Erro ao fazer upload da imagem: "+n.message)}finally{d(!1)}}},disabled:u,className:"hidden"})]})]})}),Ye.jsxs("div",{className:"mt-2",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link de Destino"}),Ye.jsx("input",{type:"url",name:"link",value:i.link,onChange:p,placeholder:"https://",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}):Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código HTML/AdSense"}),Ye.jsx("textarea",{name:"conteudoHtml",value:i.conteudoHtml,onChange:p,rows:8,placeholder:"Cole aqui o código do Google AdSense ou HTML personalizado...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 font-mono text-sm"}),Ye.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para Google AdSense, cole o código completo incluindo as tags <ins> e <script>"})]})]})]}),Ye.jsxs("div",{className:"border-t pt-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configurações"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),Ye.jsxs("select",{name:"status",value:i.status,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Ye.jsx("option",{value:"ativo",children:"Ativo"}),Ye.jsx("option",{value:"pausado",children:"Pausado"}),Ye.jsx("option",{value:"agendado",children:"Agendado"})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início"}),Ye.jsx("input",{type:"date",name:"dataInicio",value:i.dataInicio,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),Ye.jsx("input",{type:"date",name:"dataFim",value:i.dataFim,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),Ye.jsxs("select",{name:"prioridade",value:i.prioridade,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Ye.jsx("option",{value:1,children:"1 - Mais Alta"}),Ye.jsx("option",{value:2,children:"2 - Alta"}),Ye.jsx("option",{value:3,children:"3 - Média"}),Ye.jsx("option",{value:4,children:"4 - Baixa"}),Ye.jsx("option",{value:5,children:"5 - Mais Baixa"})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Máx. Impressões"}),Ye.jsx("input",{type:"number",name:"impressoesMax",value:i.impressoesMax,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPM (R$)"}),Ye.jsx("input",{type:"number",step:"0.01",name:"cpm",value:i.cpm,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),Ye.jsxs("div",{className:"mt-4",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),Ye.jsx("textarea",{name:"observacoes",value:i.observacoes,onChange:p,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),Ye.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[Ye.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),Ye.jsxs("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[e?"Atualizar":"Criar"," Banner"]})]})]})]})})},qC=()=>{const[e,t]=o.useState("editorials"),[r,n]=o.useState(null),[a,i]=o.useState({name:"",color:"#3B82F6"}),[s,l]=o.useState({name:"",color:"#6B7280"}),[c,u]=o.useState({name:"",color:"#8B5CF6"}),[d,p]=o.useState([]),[f,h]=o.useState([]),[m,g]=o.useState([]);o.useEffect(()=>{let e=!0;return(async()=>{try{const[t,r,n]=await Promise.all([tt("/categories?type=editorial"),tt("/categories?type=municipality"),tt("/categories?type=special")]);if(!e)return;p((t.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,subcategories:[]}))),h((r.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,categoryId:"0"}))),g((n.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,subcategories:[]})))}catch(t){}})(),()=>{e=!1}},[]);const y=["#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#EC4899","#F43F5E","#6B7280","#374151"],v=async()=>{if(!a.name.trim())return;const e=await rt("/categories",{name:a.name.toUpperCase(),color:a.color,type:"editorial"});p([...d,{id:String(e.id),name:e.name,color:e.color,subcategories:[]}]),i({name:"",color:"#3B82F6"})},x=async()=>{if(!s.name.trim())return;const e=await rt("/categories",{name:s.name.toUpperCase(),color:s.color,type:"municipality"});h([...f,{id:String(e.id),name:e.name,color:e.color,categoryId:"0"}]),l({name:"",color:"#6B7280"})},b=async()=>{if(!c.name.trim())return;const e=await rt("/categories",{name:c.name.toUpperCase(),color:c.color,type:"special"});g([...m,{id:String(e.id),name:e.name,color:e.color,subcategories:[]}]),u({name:"",color:"#8B5CF6"})};return Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[Ye.jsx("div",{className:"border-b border-gray-200",children:Ye.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"editorials",label:"Editoriais",count:d.length},{id:"municipalities",label:"Municípios",count:f.length},{id:"specials",label:"Especiais",count:m.length}].map(r=>Ye.jsxs("button",{onClick:()=>t(r.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(e===r.id?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.label,Ye.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:r.count})]},r.id))})}),Ye.jsxs("div",{className:"p-6",children:["editorials"===e&&Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Editoriais"}),Ye.jsxs("button",{onClick:v,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Ye.jsx(w,{className:"w-4 h-4"}),"Adicionar Editorial"]})]}),Ye.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Editorial"}),Ye.jsx("input",{type:"text",value:a.name,onChange:e=>i({...a,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: POLÍTICA"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("input",{type:"color",value:a.color,onChange:e=>i({...a,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Ye.jsx("button",{onClick:()=>i({...a,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]}),Ye.jsx("div",{className:"flex items-end",children:Ye.jsx("button",{onClick:v,className:"w-full bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]})}),Ye.jsx("div",{className:"space-y-3",children:d.map(e=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Ye.jsx(P,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>(async e=>{await at(`/categories/${e}`),p(d.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Ye.jsx(k,{className:"w-4 h-4"})})]})]},e.id))})]}),"municipalities"===e&&Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Municípios"}),Ye.jsxs("button",{onClick:x,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Ye.jsx(w,{className:"w-4 h-4"}),"Adicionar Município"]})]}),Ye.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Município"}),Ye.jsx("input",{type:"text",value:s.name,onChange:e=>l({...s,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: PEDRO II"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("input",{type:"color",value:s.color,onChange:e=>l({...s,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Ye.jsx("button",{onClick:()=>l({...s,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]})]}),Ye.jsx("div",{className:"mt-4",children:Ye.jsx("button",{onClick:x,className:"bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]}),Ye.jsx("div",{className:"space-y-3",children:f.map(e=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Ye.jsx(P,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>(async e=>{await at(`/categories/${e}`),h(f.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Ye.jsx(k,{className:"w-4 h-4"})})]})]},e.id))})]}),"specials"===e&&Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Especiais"}),Ye.jsxs("button",{onClick:b,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Ye.jsx(w,{className:"w-4 h-4"}),"Adicionar Especial"]})]}),Ye.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Especial"}),Ye.jsx("input",{type:"text",value:c.name,onChange:e=>u({...c,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: EXCLUSIVO"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("input",{type:"color",value:c.color,onChange:e=>u({...c,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Ye.jsx("button",{onClick:()=>u({...c,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]}),Ye.jsx("div",{className:"flex items-end",children:Ye.jsx("button",{onClick:b,className:"w-full bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]})}),Ye.jsx("div",{className:"space-y-3",children:m.map(e=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Ye.jsx(P,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>(async e=>{await at(`/categories/${e}`),g(m.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Ye.jsx(k,{className:"w-4 h-4"})})]})]},e.id))})]})]})]})};const UC=new class{constructor(){i(this,"queue",[]),i(this,"intervalId",null),i(this,"DELAY_MINUTES",5),i(this,"MAX_ATTEMPTS",3),i(this,"STORAGE_KEY","r10_instagram_queue"),this.loadQueue(),this.startMonitoring()}loadQueue(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){this.queue=JSON.parse(e);const t=Date.now();this.queue=this.queue.filter(e=>t-e.scheduledTime<864e5),this.saveQueue()}}catch(e){this.queue=[]}}saveQueue(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.queue))}catch(e){}}addToQueue(e,t,r){if(this.queue.find(t=>t.id===e))return;const n=Date.now()+60*this.DELAY_MINUTES*1e3,a={id:e,title:t.substring(0,100),hat:r,scheduledTime:n,status:"pending",attempts:0};this.queue.push(a),this.saveQueue(),this.showNotification("Instagram Agendado",`Post será publicado automaticamente em ${this.DELAY_MINUTES} minutos`)}removeFromQueue(e){this.queue=this.queue.filter(t=>t.id!==e),this.saveQueue()}startMonitoring(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.processQueue()},6e4)}async processQueue(){const e=Date.now(),t=this.queue.filter(t=>"pending"===t.status&&t.scheduledTime<=e&&t.attempts<this.MAX_ATTEMPTS);for(const r of t)await this.publishPost(r);this.queue=this.queue.filter(e=>"pending"===e.status&&e.attempts<this.MAX_ATTEMPTS),t.length>0&&this.saveQueue()}async publishPost(e){e.attempts++;try{const t=await fetch("http://localhost:8080/api/social/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,hat:e.hat||"NOTÍCIA"})}),r=await t.json();if(!r.ok||!r.postId)throw new Error(r.error||"Falha na publicação");e.status="published",this.saveToInstagramHistory({id:Date.now().toString(),title:e.title,instagramPostId:r.postId,publishedAt:(new Date).toISOString(),status:"success"}),this.showNotification("Instagram Publicado!",`Post "${e.title.substring(0,30)}..." foi publicado automaticamente`)}catch(t){e.attempts>=this.MAX_ATTEMPTS?(e.status="error",this.showNotification("Erro no Instagram",`Falha ao publicar "${e.title.substring(0,30)}..." após ${this.MAX_ATTEMPTS} tentativas`)):e.scheduledTime=Date.now()+3e5}}saveToInstagramHistory(e){try{const t=localStorage.getItem("r10_instagram_posts"),r=t?JSON.parse(t):[];r.unshift(e),r.length>10&&r.splice(10),localStorage.setItem("r10_instagram_posts",JSON.stringify(r))}catch(t){}}showNotification(e,t){"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/favicon.ico"})}getQueueStatus(){const e=Date.now();return{total:this.queue.length,pending:this.queue.filter(e=>"pending"===e.status).length,ready:this.queue.filter(t=>"pending"===t.status&&t.scheduledTime<=e).length,items:this.queue.map(t=>({...t,remainingTime:Math.max(0,t.scheduledTime-e)}))}}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}async requestNotificationPermission(){"Notification"in window&&"default"===Notification.permission&&await Notification.requestPermission()}},FC=()=>{const{user:e}=At(),t="admin"===(null==e?void 0:e.role),[r,n]=o.useState([]),[a,i]=o.useState(!1),[s,l]=o.useState(null),[c,u]=o.useState(!1),[d,p]=o.useState({name:"",email:"",password:"",role:"editor"});async function f(){try{i(!0),l(null);const e=await tt("/users");n(e.items||[])}catch(e){l((null==e?void 0:e.message)||"Falha ao listar usuários")}finally{i(!1)}}return o.useEffect(()=>{t&&f()},[t]),t?Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[Ye.jsx(V,{className:"w-6 h-6"}),"Usuários"]}),Ye.jsx("p",{className:"text-gray-600",children:"Gerencie administradores e redatores."})]}),Ye.jsxs("button",{onClick:()=>u(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[Ye.jsx(w,{className:"w-4 h-4"}),"Novo Usuário"]})]}),c&&Ye.jsxs("form",{onSubmit:async function(e){e.preventDefault();try{await rt("/auth/register",d),u(!1),p({name:"",email:"",password:"",role:"editor"}),f()}catch(t){alert((null==t?void 0:t.message)||"Falha ao cadastrar")}},className:"bg-white border rounded-xl p-4 grid grid-cols-1 md:grid-cols-4 gap-3",children:[Ye.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:d.name,onChange:e=>p(t=>({...t,name:e.target.value})),required:!0}),Ye.jsx("input",{type:"email",className:"border rounded px-3 py-2",placeholder:"Email",value:d.email,onChange:e=>p(t=>({...t,email:e.target.value})),required:!0}),Ye.jsx("input",{type:"password",className:"border rounded px-3 py-2",placeholder:"Senha",value:d.password,onChange:e=>p(t=>({...t,password:e.target.value})),required:!0}),Ye.jsxs("select",{className:"border rounded px-3 py-2",value:d.role,onChange:e=>p(t=>({...t,role:e.target.value})),children:[Ye.jsx("option",{value:"editor",children:"Redator"}),Ye.jsx("option",{value:"admin",children:"Admin"})]}),Ye.jsxs("div",{className:"md:col-span-4 flex justify-end gap-2",children:[Ye.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 rounded border",children:"Cancelar"}),Ye.jsx("button",{className:"px-4 py-2 rounded bg-red-600 text-white",children:"Salvar"})]})]}),Ye.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:Ye.jsxs("table",{className:"w-full",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Usuário"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Email"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Papel"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Ações"})]})}),Ye.jsxs("tbody",{className:"divide-y",children:[r.map(e=>Ye.jsxs("tr",{className:"hover:bg-gray-50",children:[Ye.jsx("td",{className:"px-6 py-3 text-base text-gray-900",children:e.name}),Ye.jsx("td",{className:"px-6 py-3 text-base text-gray-700",children:e.email}),Ye.jsx("td",{className:"px-6 py-3",children:Ye.jsxs("select",{value:e.role,onChange:t=>async function(e,r){try{await nt(`/users/${e}`,{role:r}),f()}catch(t){alert((null==t?void 0:t.message)||"Falha ao atualizar papel")}}(e.id,t.target.value),className:"border rounded px-2 py-1",children:[Ye.jsx("option",{value:"editor",children:"Redator"}),Ye.jsx("option",{value:"admin",children:"Admin"})]})}),Ye.jsx("td",{className:"px-6 py-3 flex items-center gap-2",children:Ye.jsx("button",{onClick:()=>async function(e){if(confirm("Excluir este usuário?"))try{await at(`/users/${e}`),f()}catch(t){alert((null==t?void 0:t.message)||"Falha ao excluir")}}(e.id),className:"inline-flex items-center p-1 text-xs font-medium text-red-600 bg-red-100 rounded hover:bg-red-200 transition-colors",title:"Excluir",children:Ye.jsx(k,{className:"w-4 h-4"})})})]},e.id)),0===r.length&&Ye.jsx("tr",{children:Ye.jsx("td",{className:"px-6 py-6 text-center text-gray-500",colSpan:4,children:"Nenhum usuário cadastrado."})})]})]})})]}):Ye.jsx("div",{className:"p-6 bg-white rounded-xl border",children:Ye.jsx("div",{className:"text-red-600 font-semibold",children:"Acesso restrito a administradores."})})},GC=({initialDays:e=30})=>{const{isAuthenticated:t}=At(),[r,n]=o.useState(e),[a,i]=o.useState(null),[s,l]=o.useState(!1),[c,u]=o.useState(null);async function d(){if(t){l(!0),u(null);try{const e=await tt(`/social/analytics?days=${r}`);i(e)}catch(e){u((null==e?void 0:e.message)||"Falha ao carregar analytics")}finally{l(!1)}}}return o.useEffect(()=>{d()},[r,t]),Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Analytics (Instagram + Facebook)"}),Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("label",{className:"text-sm text-gray-600",children:"Período:"}),Ye.jsxs("select",{value:r,onChange:e=>n(parseInt(e.target.value)),className:"border rounded px-2 py-1",children:[Ye.jsx("option",{value:7,children:"7 dias"}),Ye.jsx("option",{value:14,children:"14 dias"}),Ye.jsx("option",{value:30,children:"30 dias"}),Ye.jsx("option",{value:60,children:"60 dias"}),Ye.jsx("option",{value:90,children:"90 dias"})]}),Ye.jsx("button",{onClick:d,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Atualizar"})]})]}),s&&Ye.jsx("div",{className:"p-4 bg-white rounded shadow",children:"Carregando…"}),c&&Ye.jsx("div",{className:"p-4 bg-white rounded shadow text-red-600",children:c}),a&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-5 shadow border border-gray-100",children:[Ye.jsx("h4",{className:"text-base font-semibold mb-1",children:"Instagram"}),Ye.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["@",a.instagram.account.username||"—"," · Seguidores: ",a.instagram.account.followers??"—"]}),Ye.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.instagram.metrics.map(e=>{var t;return Ye.jsxs("div",{className:"border rounded p-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ye.jsx("strong",{className:"text-sm",children:e.name}),Ye.jsx("span",{className:"text-xs px-2 py-0.5 rounded "+("ok"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),"ok"===e.status?Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[(null==(t=e.series)?void 0:t.length)||0," pontos · período: ",e.period]}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left pr-4",children:"Data"}),Ye.jsx("th",{className:"text-left",children:"Valor"})]})}),Ye.jsx("tbody",{children:(e.series||[]).map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"pr-4 py-1",children:e.date}),Ye.jsx("td",{className:"py-1",children:e.value})]},e.date))})]})})]}):Ye.jsxs("div",{className:"text-xs text-gray-600",children:["Falha: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]})]},`ig-${e.name}`)})})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-5 shadow border border-gray-100",children:[Ye.jsx("h4",{className:"text-base font-semibold mb-1",children:"Facebook"}),Ye.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:[a.facebook.account.name||"—"," · Seguidores: ",a.facebook.account.followers??"—"]}),Ye.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.facebook.metrics.map(e=>{var t;return Ye.jsxs("div",{className:"border rounded p-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ye.jsx("strong",{className:"text-sm",children:e.name}),Ye.jsx("span",{className:"text-xs px-2 py-0.5 rounded "+("ok"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),"ok"===e.status?Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[(null==(t=e.series)?void 0:t.length)||0," pontos · período: ",e.period]}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left pr-4",children:"Data"}),Ye.jsx("th",{className:"text-left",children:"Valor"})]})}),Ye.jsx("tbody",{children:(e.series||[]).map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"pr-4 py-1",children:e.date}),Ye.jsx("td",{className:"py-1",children:e.value})]},e.date))})]})})]}):Ye.jsxs("div",{className:"text-xs text-gray-600",children:["Falha: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]})]},`fb-${e.name}`)})})]}),Ye.jsxs("div",{className:"text-[11px] text-gray-500",children:["Gerado em ",new Date(a.generatedAt).toLocaleString()," · Período: ",a.period.since," a ",a.period.until]})]})]})},VC=({days:e})=>{const[t,r]=o.useState(null),[n,a]=o.useState(!1),[i,s]=o.useState(null);return o.useEffect(()=>{!async function(){a(!0),s(null);try{const t=await tt(`/site/analytics?days=${e}`);r(t)}catch(t){s((null==t?void 0:t.message)||"Falha ao carregar Site Analytics")}finally{a(!1)}}()},[e]),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Site (Pageviews, Sessões, Usuários)"}),n&&Ye.jsx("div",{className:"p-3 bg-white rounded border",children:"Carregando…"}),i&&Ye.jsx("div",{className:"p-3 bg-white rounded border text-red-600",children:i}),t&&Ye.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{className:"bg-white rounded border p-4",children:[Ye.jsx("h4",{className:"font-medium mb-2",children:"Séries Diárias"}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left pr-3",children:"Data"}),Ye.jsx("th",{className:"text-right pr-3",children:"Pageviews"}),Ye.jsx("th",{className:"text-right pr-3",children:"Sessões"}),Ye.jsx("th",{className:"text-right",children:"Usuários"})]})}),Ye.jsx("tbody",{children:t.metrics.pageviews.map((e,r)=>{var n,a;return Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"py-1 pr-3",children:e.date}),Ye.jsx("td",{className:"py-1 pr-3 text-right",children:e.value}),Ye.jsx("td",{className:"py-1 pr-3 text-right",children:(null==(n=t.metrics.sessions[r])?void 0:n.value)??0}),Ye.jsx("td",{className:"py-1 text-right",children:(null==(a=t.metrics.users[r])?void 0:a.value)??0})]},e.date)})})]})})]}),Ye.jsxs("div",{className:"bg-white rounded border p-4",children:[Ye.jsx("h4",{className:"font-medium mb-2",children:"Páginas Mais Vistas"}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left",children:"Path"}),Ye.jsx("th",{className:"text-right",children:"Pageviews"})]})}),Ye.jsx("tbody",{children:t.topPages.map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"py-1 pr-3",children:e.path}),Ye.jsx("td",{className:"py-1 text-right",children:e.pageviews})]},e.path))})]})})]}),Ye.jsxs("div",{className:"text-[11px] text-gray-500 col-span-full",children:["Fonte: ",t.source," · Período ",t.period.since," a ",t.period.until]})]})]})},WC=({title:e,value:t,change:r,changeType:n="neutral",icon:a,color:i,description:o,loading:s=!1})=>Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i} shadow-md group-hover:scale-110 transition-transform duration-200`,children:a}),r&&Ye.jsxs("div",{className:"flex items-center text-sm font-medium "+(r?"positive"===n?"text-green-600":"negative"===n?"text-red-600":"text-gray-600":"text-gray-600"),children:[r?"positive"===n?Ye.jsx(W,{size:16,className:"text-green-600"}):"negative"===n?Ye.jsx(H,{size:16,className:"text-red-600"}):Ye.jsx(G,{size:16,className:"text-gray-600"}):null,Ye.jsx("span",{className:"ml-1",children:r})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1 uppercase tracking-wide",children:e}),s?Ye.jsxs("div",{className:"animate-pulse",children:[Ye.jsx("div",{className:"h-8 bg-gray-300 rounded w-20 mb-2"}),o&&Ye.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:"number"==typeof t?t.toLocaleString():t}),o&&Ye.jsx("p",{className:"text-xs text-gray-500",children:o})]})]}),HC=({title:e,icon:t,color:r,onClick:n})=>Ye.jsxs("button",{onClick:n,className:`flex flex-col items-center p-6 bg-gradient-to-br ${r} rounded-xl border border-opacity-20 transition-all duration-200 group hover:shadow-lg hover:scale-105`,children:[Ye.jsx("div",{className:"mb-3 group-hover:scale-110 transition-transform duration-200",children:t}),Ye.jsx("span",{className:"text-sm font-semibold",children:e})]}),XC=({post:e,featured:t=!1,loading:r=!1})=>{if(r)return Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 animate-pulse "+(t?"md:col-span-2":""),children:[Ye.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),Ye.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),Ye.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]});const n=e.titulo||e.title||"Sem título",a=(e.views||e.visualizacoes||0).toLocaleString(),i=new Date(e.dataPublicacao||e.publishedAt||Date.now()).toLocaleDateString("pt-BR");return Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 hover:shadow-lg transition-all duration-200 cursor-pointer group "+(t?"md:col-span-2 border-red-200 bg-gradient-to-r from-white to-red-50":""),children:[Ye.jsxs("div",{className:"flex items-start justify-between mb-2",children:[Ye.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-red-600 transition-colors line-clamp-2 "+(t?"text-lg":"text-sm"),children:n}),t&&Ye.jsx(oe,{size:16,className:"text-yellow-500 flex-shrink-0 ml-2"})]}),Ye.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[Ye.jsxs("span",{className:"flex items-center",children:[Ye.jsx(A,{size:12,className:"mr-1"}),a]}),Ye.jsxs("span",{className:"flex items-center",children:[Ye.jsx(q,{size:12,className:"mr-1"}),i]})]})]})},KC=({socialInsights:e,socialInsightsError:t,latestPosts:r,mostRead:n,loading:a,onTabChange:i})=>{var o,s,l;const c=[{title:"Total de Posts",value:a?"-":r.length,change:"+12%",changeType:"positive",icon:Ye.jsx(v,{size:24,className:"text-white"}),color:"from-blue-500 to-blue-600",description:"Este mês"},{title:"Seguidores IG",value:a?"-":(null==e?void 0:e.instagram.followers)||0,change:e?`+${e.instagram.growth7d}%`:void 0,changeType:"positive",icon:Ye.jsx(O,{size:24,className:"text-white"}),color:"from-pink-500 to-purple-600",description:`@${(null==(o=null==e?void 0:e.instagram.account)?void 0:o.username)||"r10piaui"}`},{title:"Seguidores FB",value:a?"-":(null==e?void 0:e.facebook.followers)||0,change:e?`+${e.facebook.growth7d}%`:void 0,changeType:"positive",icon:Ye.jsx(ae,{size:24,className:"text-white"}),color:"from-blue-600 to-blue-700",description:(null==(s=null==e?void 0:e.facebook.account)?void 0:s.name)||"R10 Piauí"},{title:"Engajamento",value:a?"-":(((null==e?void 0:e.instagram.engagement)||0)+((null==e?void 0:e.facebook.engagement)||0)).toLocaleString(),change:"+8.5%",changeType:"positive",icon:Ye.jsx(Y,{size:24,className:"text-white"}),color:"from-green-500 to-emerald-600",description:"Últimos 7 dias"}],u=(null==(l=null==e?void 0:e.instagram.trend)?void 0:l.map((t,r)=>{var n,a;return{date:t.date,Instagram:t.engagement,Facebook:(null==(a=null==(n=null==e?void 0:e.facebook.trend)?void 0:n[r])?void 0:a.engagement)||0}}))||[],d=[{name:"Política",value:35,color:"#ef4444"},{name:"Esportes",value:25,color:"#3b82f6"},{name:"Policial",value:20,color:"#f59e0b"},{name:"Outros",value:20,color:"#10b981"}];return Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-2xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard Overview"}),Ye.jsx("p",{className:"text-red-100",children:"Bem-vindo de volta! Aqui está o resumo do seu site."})]}),Ye.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[Ye.jsxs("div",{className:"text-right",children:[Ye.jsx("p",{className:"text-sm text-red-100",children:"Última atualização"}),Ye.jsx("p",{className:"text-lg font-semibold",children:(new Date).toLocaleString("pt-BR")})]}),Ye.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]})]})}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((e,t)=>Ye.jsx(WC,{...e,loading:a},t))}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Ye.jsx(G,{size:24,className:"mr-3 text-red-500"}),"Ações Rápidas"]}),Ye.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Ye.jsx(HC,{title:"Nova Matéria",icon:Ye.jsx(v,{size:32,className:"text-white"}),color:"from-red-500 to-red-600 text-white",onClick:()=>i("materias")}),Ye.jsx(HC,{title:"Gerenciar Mídia",icon:Ye.jsx(A,{size:32,className:"text-white"}),color:"from-purple-500 to-purple-600 text-white",onClick:()=>i("midia")}),Ye.jsx(HC,{title:"Instagram",icon:Ye.jsx(O,{size:32,className:"text-white"}),color:"from-pink-500 to-purple-600 text-white",onClick:()=>i("instagram")}),Ye.jsx(HC,{title:"Analytics",icon:Ye.jsx(X,{size:32,className:"text-white"}),color:"from-blue-500 to-blue-600 text-white",onClick:()=>i("analytics")})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Ye.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(Y,{size:24,className:"mr-3 text-green-500"}),"Performance Social"]}),t&&Ye.jsx("span",{className:"text-sm text-red-600 bg-red-50 px-3 py-1 rounded-full",children:"Erro nos dados"})]}),u.length>0?Ye.jsx("div",{className:"h-64",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(RC,{data:u,children:[Ye.jsxs("defs",{children:[Ye.jsxs("linearGradient",{id:"instagramGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Ye.jsx("stop",{offset:"5%",stopColor:"#e1306c",stopOpacity:.8}),Ye.jsx("stop",{offset:"95%",stopColor:"#e1306c",stopOpacity:.1})]}),Ye.jsxs("linearGradient",{id:"facebookGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Ye.jsx("stop",{offset:"5%",stopColor:"#1877f2",stopOpacity:.8}),Ye.jsx("stop",{offset:"95%",stopColor:"#1877f2",stopOpacity:.1})]})]}),Ye.jsx(IE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(OT,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),Ye.jsx(DT,{stroke:"#6b7280",fontSize:12}),Ye.jsx(uf,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),Ye.jsx(fT,{type:"monotone",dataKey:"Instagram",stackId:"1",stroke:"#e1306c",fill:"url(#instagramGradient)",strokeWidth:2}),Ye.jsx(fT,{type:"monotone",dataKey:"Facebook",stackId:"2",stroke:"#1877f2",fill:"url(#facebookGradient)",strokeWidth:2})]})})}):Ye.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(X,{size:48,className:"mx-auto mb-3 text-gray-300"}),Ye.jsx("p",{children:"Carregando dados..."})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Ye.jsx(ie,{size:24,className:"mr-3 text-blue-500"}),"Categorias"]}),Ye.jsx("div",{className:"h-64",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(DC,{children:[Ye.jsx(uA,{data:d,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,labelLine:!1,children:d.map((e,t)=>Ye.jsx(Bf,{fill:e.color},`cell-${t}`))}),Ye.jsx(uf,{})]})})})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(v,{size:24,className:"mr-3 text-red-500"}),"Últimas Publicações"]}),Ye.jsx("button",{onClick:()=>i("materias"),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Ver todas →"})]}),Ye.jsx("div",{className:"space-y-3",children:(a?Array.from({length:4}).map((e,t)=>({id:`skeleton-${t}`})):r.slice(0,4)).map((e,t)=>Ye.jsx(XC,{post:e,featured:0===t,loading:a},e.id||t))})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(A,{size:24,className:"mr-3 text-green-500"}),"Mais Lidas"]}),Ye.jsx("button",{onClick:()=>i("analytics"),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Ver analytics →"})]}),Ye.jsx("div",{className:"space-y-3",children:(a?Array.from({length:4}).map((e,t)=>({id:`skeleton-most-${t}`})):n.slice(0,4)).map((e,t)=>Ye.jsx(XC,{post:e,loading:a},e.id||t))})]})]})]})},YC=({onClose:e})=>{const[t,r]=o.useState(null),[n,a]=o.useState(!0),[i,s]=o.useState(null),[l,c]=o.useState("overview"),[u,d]=o.useState("30d"),[p,f]=o.useState(!1),[h,m]=o.useState("aggregate28"),[g,y]=o.useState(null),x=async()=>{var e,t,n,i,o,l,c,u,d,p,f,h,m,g,v,x,b,j,w,N,O;a(!0),s(null);try{const[a,s,S,A,P]=await Promise.all([tt("/social/insights"),tt("/social/analytics?days=30"),tt("/stats"),tt("/posts/most-read"),tt("/stats")]),k=a||{},E=s||{};y(E);const T=A||[],C=P||{},M=(e,t)=>{var r;const n=((null==(r=null==E?void 0:E[e])?void 0:r.metrics)||[]).find(e=>(null==e?void 0:e.name)===t);if(!n||"ok"!==n.status)return null;return{raw:n,value:"number"==typeof n.aggregate28&&n.aggregate28>0?n.aggregate28:"number"==typeof n.sumDaily&&n.sumDaily>0?n.sumDaily:0}},_=M("instagram","reach"),I=M("instagram","impressions"),D=M("instagram","accounts_engaged"),R=M("instagram","total_interactions"),L=M("instagram","profile_views"),B=M("facebook","page_impressions"),z=M("facebook","page_impressions_unique"),$=M("facebook","page_engaged_users"),q=M("facebook","page_fan_adds_unique"),U=M("facebook","page_fan_removes_unique"),F={audience:{totalUsers:12*((null==C?void 0:C.total)||21),newUsers:Math.floor(12*((null==C?void 0:C.total)||21)*.25),returningUsers:Math.floor(12*((null==C?void 0:C.total)||21)*.75),avgSessionDuration:180,bounceRate:45.2,sessionsPerUser:1.8,demographics:{ageGroups:[{age:"18-24",percentage:15.2,color:"#ff6b6b"},{age:"25-34",percentage:28.7,color:"#4ecdc4"},{age:"35-44",percentage:32.1,color:"#45b7d1"},{age:"45-54",percentage:18.5,color:"#96ceb4"},{age:"55+",percentage:5.5,color:"#feca57"}],gender:{male:48.2,female:49.1,other:2.7},locations:[{city:"Teresina",users:Math.floor(12*((null==C?void 0:C.total)||21)*.42),percentage:42},{city:"Parnaíba",users:Math.floor(12*((null==C?void 0:C.total)||21)*.18),percentage:18},{city:"Picos",users:Math.floor(12*((null==C?void 0:C.total)||21)*.12),percentage:12},{city:"Piripiri",users:Math.floor(12*((null==C?void 0:C.total)||21)*.1),percentage:10},{city:"Floriano",users:Math.floor(12*((null==C?void 0:C.total)||21)*.08),percentage:8}]}},engagement:{totalPageviews:((null==(e=null==T?void 0:T[0])?void 0:e.visualizacoes)||268)+((null==(t=null==T?void 0:T[1])?void 0:t.visualizacoes)||28)+((null==(n=null==T?void 0:T[2])?void 0:n.visualizacoes)||21)+5*((null==C?void 0:C.total)||21),uniquePageviews:Math.floor(.75*(((null==(i=null==T?void 0:T[0])?void 0:i.visualizacoes)||268)+((null==(o=null==T?void 0:T[1])?void 0:o.visualizacoes)||28)+((null==(l=null==T?void 0:T[2])?void 0:l.visualizacoes)||21)+5*((null==C?void 0:C.total)||21))),avgTimeOnPage:165,pagesPerSession:2.2,exitRate:52.1,scrollDepth:68.3,interactions:{clicks:Math.floor(.08*(((null==(c=null==T?void 0:T[0])?void 0:c.visualizacoes)||268)+5*((null==C?void 0:C.total)||21))),shares:Math.floor(.001*((null==(u=null==k?void 0:k.instagram)?void 0:u.engagement)||269227)),comments:Math.floor(5e-4*((null==(d=null==k?void 0:k.instagram)?void 0:d.engagement)||269227)),likes:Math.floor(.003*((null==(p=null==k?void 0:k.instagram)?void 0:p.engagement)||269227))}},content:{topPages:(T||[]).slice(0,3).map((e,t)=>({path:`/noticia/${e.id}`,title:e.titulo||`Notícia ${t+1}`,views:e.visualizacoes||0,avgTime:180+30*t,bounceRate:25+5*t})),topCategories:[{category:"Geral",views:20*((null==C?void 0:C.geral)||15),engagement:3.2,growth:5.1},{category:"Destaque",views:35*((null==C?void 0:C.destaque)||5),engagement:4.8,growth:8.7},{category:"Supermanchete",views:150*((null==C?void 0:C.supermanchete)||1),engagement:6.2,growth:15.2}],searchTerms:[{term:"r10 piauí",count:Math.floor(12*((null==C?void 0:C.total)||21)*.08),conversions:12},{term:"notícias teresina",count:Math.floor(12*((null==C?void 0:C.total)||21)*.05),conversions:8},{term:"piauí hoje",count:Math.floor(12*((null==C?void 0:C.total)||21)*.03),conversions:4}],contentPerformance:{type:"notícias",avgViews:Math.floor(((null==(f=null==T?void 0:T[0])?void 0:f.visualizacoes)||268)/((null==C?void 0:C.total)||21)),avgEngagement:2.8}},technology:{devices:[{type:"Mobile",percentage:71.2,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.712)},{type:"Desktop",percentage:24.1,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.241)},{type:"Tablet",percentage:4.7,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.047)}],browsers:[{name:"Chrome",percentage:68.9,version:"119.0"},{name:"Safari",percentage:18.7,version:"17.1"},{name:"Firefox",percentage:7.2,version:"119.0"},{name:"Edge",percentage:5.2,version:"119.0"}],os:[{name:"Android",percentage:47.8},{name:"iOS",percentage:28.9},{name:"Windows",percentage:18.7},{name:"macOS",percentage:4.6}],screenResolutions:[{resolution:"393x852",percentage:21.3},{resolution:"390x844",percentage:18.7},{resolution:"1920x1080",percentage:15.2}]},traffic:{sources:[{source:"Direct",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.45),percentage:45,quality:8.9},{source:"Social Media",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.35),percentage:35,quality:7.2},{source:"Organic Search",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.15),percentage:15,quality:6.8},{source:"Referral",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.05),percentage:5,quality:5.5}],channels:[{channel:"Instagram",users:(null==(h=null==k?void 0:k.instagram)?void 0:h.followers)||0,conversions:8,value:2.1},{channel:"Facebook",users:(null==(m=null==k?void 0:k.facebook)?void 0:m.followers)||0,conversions:12,value:1.8},{channel:"Google",users:Math.floor(12*((null==C?void 0:C.total)||21)*.15),conversions:3,value:3.2}],campaigns:[{name:"Portal R10 PI",clicks:Math.floor(.05*((null==(g=null==T?void 0:T[0])?void 0:g.visualizacoes)||268)),impressions:Math.floor(3*((null==(v=null==T?void 0:T[0])?void 0:v.visualizacoes)||268)),ctr:1.67}],referrers:[{domain:"instagram.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.25),quality:7.2},{domain:"facebook.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.15),quality:6.8},{domain:"google.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.08),quality:7.5}]},temporal:{hourlyTraffic:Array.from({length:24},(e,t)=>{const r=Math.floor(12*((null==C?void 0:C.total)||21)/24),n=t>=7&&t<=22?t>=12&&t<=18?2.2:1.4:.3;return{hour:t,sessions:Math.max(1,Math.floor(r*n)),engagement:20+(t>=8&&t<=18?35:0)}}),dailyTraffic:Array.from({length:7},(e,t)=>{var r;const n=new Date;n.setDate(n.getDate()-(6-t));const a=Math.floor(12*((null==C?void 0:C.total)||21)/7),i=Math.floor(((null==(r=null==T?void 0:T[0])?void 0:r.visualizacoes)||268)/7);return{day:n.toISOString().split("T")[0],sessions:Math.max(2,Math.floor(a*(.8+.1*t))),users:Math.max(2,Math.floor(a*(.75+.08*t))),pageviews:Math.max(5,Math.floor(i*(1.2+.15*t)))}}),monthlyTrends:[{month:"Jul",growth:8.7,retention:71.2},{month:"Ago",growth:12.1,retention:73.8},{month:"Set",growth:15.6,retention:76.4}]},social:{instagram:{followers:(null==(x=null==k?void 0:k.instagram)?void 0:x.followers)||(null==(j=null==(b=null==E?void 0:E.instagram)?void 0:b.account)?void 0:j.followers)||0,engagement:(null==D?void 0:D.value)||(null==R?void 0:R.value)||0,reach:(null==_?void 0:_.value)||0,impressions:(null==I?void 0:I.value)||0,storiesViews:0,profileViews:(null==L?void 0:L.value)||0,websiteClicks:0,topPosts:[],audienceInsights:{topLocations:[],ageGender:[],activeHours:[]}},facebook:{followers:(null==(w=null==k?void 0:k.facebook)?void 0:w.followers)||(null==(O=null==(N=null==E?void 0:E.facebook)?void 0:N.account)?void 0:O.followers)||0,engagement:(null==$?void 0:$.value)||0,reach:(null==z?void 0:z.value)||0,impressions:(null==B?void 0:B.value)||0,pageViews:0,videoViews:0,linkClicks:0,topPosts:[],audienceInsights:{demographics:[],interests:[],behavior:[]},fanAdds:(null==q?void 0:q.value)||0,fanRemoves:(null==U?void 0:U.value)||0}},performance:{pageLoadTime:1.08,serverResponse:92,firstContentfulPaint:.75,largestContentfulPaint:1.52,cumulativeLayoutShift:.025,errors404:3,serverErrors:0,uptime:99.97}};r(F)}catch(S){s((null==S?void 0:S.message)||"Erro ao carregar métricas avançadas")}finally{a(!1)}};o.useEffect(()=>{x()},[u]);const b=({title:e,value:t,change:r,trend:n="neutral",icon:a,color:i="from-blue-500 to-blue-600",subtitle:o})=>Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Ye.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i}`,children:a}),r&&Ye.jsxs("div",{className:"flex items-center text-sm font-medium "+("up"===n?"text-green-600":"down"===n?"text-red-600":"text-gray-600"),children:["up"===n?Ye.jsx(W,{size:16}):"down"===n?Ye.jsx(H,{size:16}):null,Ye.jsx("span",{className:"ml-1",children:r})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1 uppercase tracking-wide",children:e}),Ye.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:"number"==typeof t?t.toLocaleString():t}),o&&Ye.jsx("p",{className:"text-xs text-gray-500",children:o})]}),w=({platform:e})=>{if(!g)return null;const t=e=>{var t;const r=(null==(t=null==g?void 0:g[e])?void 0:t.metrics)||[];return Array.isArray(r)&&r.length?r.map(e=>({name:e.name,status:e.status,dias:(e.series||[]).length,soma:(e.series||[]).reduce((e,t)=>e+((null==t?void 0:t.value)||0),0)})):[]},r=t(e||"instagram");return r.length?Ye.jsxs("div",{className:"overflow-x-auto",children:[Ye.jsxs("table",{className:"min-w-full text-xs border border-gray-200 rounded-md overflow-hidden",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-600",children:"Métrica"}),Ye.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-600",children:"Status"}),Ye.jsx("th",{className:"px-2 py-1 text-right font-semibold text-gray-600",children:"Dias"}),Ye.jsx("th",{className:"px-2 py-1 text-right font-semibold text-gray-600",children:"Soma"})]})}),Ye.jsx("tbody",{children:r.map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"px-2 py-1 font-mono text-gray-700",children:e.name}),Ye.jsx("td",{className:"px-2 py-1",children:"ok"===e.status?Ye.jsx("span",{className:"inline-flex items-center text-green-600",children:"✔ ok"}):Ye.jsxs("span",{className:"inline-flex items-center text-red-600",children:["✖ ",e.status]})}),Ye.jsx("td",{className:"px-2 py-1 text-right text-gray-700",children:e.dias}),Ye.jsx("td",{className:"px-2 py-1 text-right font-semibold text-gray-900",children:e.soma.toLocaleString()})]},e.name))})]}),Ye.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Tabela de diagnóstico direto da API Meta (somatório do período carregado)."})]}):Ye.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md text-sm",children:["Nenhuma série de métricas retornada pela API para ",e||"instagram","."]})},N=(e,t)=>{var r;if(!g)return 0;const n=((null==(r=g[e])?void 0:r.metrics)||[]).find(e=>e.name===t);if(!n||"ok"!==n.status)return 0;const a=n[h]??0;return"number"==typeof a?a:0},S=({label:e,metric:t,children:r})=>Ye.jsxs("div",{className:"group relative",children:[r,Ye.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition bg-gray-900 text-white text-[10px] px-2 py-1 rounded absolute z-10 -top-2 left-1/2 -translate-x-1/2 whitespace-nowrap pointer-events-none",children:[e," • modo: ",h,Ye.jsxs("div",{className:"mt-0.5 text-[9px] text-gray-300",children:["Fonte: ",t]})]})]});return n?Ye.jsx("div",{className:"p-8",children:Ye.jsxs("div",{className:"flex items-center justify-center h-64",children:[Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"}),Ye.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Carregando analytics avançados..."})]})}):i?Ye.jsx("div",{className:"p-8",children:Ye.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[Ye.jsx(se,{size:48,className:"mx-auto text-red-500 mb-4"}),Ye.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar dados"}),Ye.jsx("p",{className:"text-red-600 mb-4",children:i}),Ye.jsx("button",{onClick:x,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Tentar novamente"})]})}):Ye.jsxs("div",{className:"p-6 space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 text-white",children:[Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Avançados"}),Ye.jsx("p",{className:"text-red-100",children:"Análise completa e detalhada do seu site"})]}),Ye.jsxs("div",{className:"flex items-center space-x-4",children:[Ye.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:ring-2 focus:ring-white/50",children:[Ye.jsx("option",{value:"7d",className:"text-gray-800",children:"Últimos 7 dias"}),Ye.jsx("option",{value:"30d",className:"text-gray-800",children:"Últimos 30 dias"}),Ye.jsx("option",{value:"90d",className:"text-gray-800",children:"Últimos 90 dias"})]}),Ye.jsx("button",{className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg",children:Ye.jsx(j,{size:20})}),Ye.jsx("button",{className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg",children:Ye.jsx(L,{size:20})})]})]}),Ye.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-1",children:Ye.jsx("div",{className:"flex space-x-1",children:[{id:"overview",label:"Visão Geral",icon:X},{id:"audience",label:"Audiência",icon:V},{id:"content",label:"Conteúdo",icon:v},{id:"social",label:"Social",icon:le},{id:"performance",label:"Performance",icon:ce}].map(e=>Ye.jsxs("button",{onClick:()=>c(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(l===e.id?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-red-600 hover:bg-red-50"),children:[Ye.jsx(e.icon,{size:16}),Ye.jsx("span",{children:e.label})]},e.id))})}),"overview"===l&&t&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Ye.jsx(b,{title:"Total de Usuários",value:t.audience.totalUsers,change:"+12.5%",trend:"up",icon:Ye.jsx(V,{size:24,className:"text-white"}),color:"from-blue-500 to-blue-600",subtitle:"Últimos 30 dias"}),Ye.jsx(b,{title:"Visualizações",value:t.engagement.totalPageviews,change:"+8.7%",trend:"up",icon:Ye.jsx(A,{size:24,className:"text-white"}),color:"from-green-500 to-green-600",subtitle:"Total no período"}),Ye.jsx(b,{title:"Taxa de Engajamento",value:`${(100-t.audience.bounceRate).toFixed(1)}%`,change:"+3.2%",trend:"up",icon:Ye.jsx(J,{size:24,className:"text-white"}),color:"from-purple-500 to-purple-600",subtitle:"Usuários engajados"}),Ye.jsx(b,{title:"Tempo Médio",value:`${Math.floor(t.audience.avgSessionDuration/60)}m ${t.audience.avgSessionDuration%60}s`,change:"+15.3%",trend:"up",icon:Ye.jsx(q,{size:24,className:"text-white"}),color:"from-orange-500 to-orange-600",subtitle:"Por sessão"})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[Ye.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[Ye.jsx(ue,{size:20,className:"mr-2 text-blue-500"}),"Tráfego Diário"]}),Ye.jsx("div",{className:"h-64",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(RC,{data:t.temporal.dailyTraffic,children:[Ye.jsx("defs",{children:Ye.jsxs("linearGradient",{id:"trafficGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Ye.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),Ye.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),Ye.jsx(IE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(OT,{dataKey:"day",stroke:"#6b7280",fontSize:12}),Ye.jsx(DT,{stroke:"#6b7280",fontSize:12}),Ye.jsx(uf,{}),Ye.jsx(fT,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",fill:"url(#trafficGradient)"})]})})})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[Ye.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[Ye.jsx(de,{size:20,className:"mr-2 text-green-500"}),"Fontes de Tráfego"]}),Ye.jsx("div",{className:"h-64",children:Ye.jsx(Lf,{width:"100%",height:"100%",children:Ye.jsxs(DC,{children:[Ye.jsx(uA,{data:t.traffic.sources,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"percentage",label:({source:e,percentage:t})=>`${e} ${t.toFixed(1)}%`,children:t.traffic.sources.map((e,t)=>Ye.jsx(Bf,{fill:["#ef4444","#3b82f6","#10b981","#f59e0b"][t]},`cell-${t}`))}),Ye.jsx(uf,{})]})})})]})]})]}),"social"===l&&t&&Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center",children:[Ye.jsx(O,{size:28,className:"mr-2 text-pink-500"}),"Instagram - Métricas Avançadas"]}),Ye.jsxs("div",{className:"flex flex-col gap-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx(w,{}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("span",{className:"text-xs text-gray-600",children:"Modo:"}),Ye.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:h,onChange:e=>m(e.target.value),children:[Ye.jsx("option",{value:"aggregate28",children:"28 dias"}),Ye.jsx("option",{value:"sumDaily",children:"Soma diária"}),Ye.jsx("option",{value:"avgDaily",children:"Média diária"}),Ye.jsx("option",{value:"lastDaily",children:"Último dia"})]})]})]}),Ye.jsx("p",{className:"text-[11px] text-gray-500",children:'Alcance na interface oficial da Meta é "contas únicas no intervalo". Quando a API não fornece exatamente esse agregado, usamos o melhor campo disponível acima.'})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Ye.jsx(S,{label:"Seguidores atuais",metric:"followers_count",children:Ye.jsx(b,{title:"Seguidores",value:t.social.instagram.followers,icon:Ye.jsx(V,{size:22}),color:"from-pink-500 to-pink-600"})}),Ye.jsx(S,{label:"Accounts Engaged / Total Interactions",metric:"accounts_engaged",children:Ye.jsx(b,{title:"Engajamento",value:N("instagram","accounts_engaged")||N("instagram","total_interactions"),icon:Ye.jsx(K,{size:22}),color:"from-red-500 to-red-600"})}),Ye.jsx(S,{label:"Reach",metric:"reach",children:Ye.jsx(b,{title:"Alcance",value:N("instagram","reach"),icon:Ye.jsx(Y,{size:22}),color:"from-yellow-500 to-yellow-600"})}),Ye.jsx(S,{label:"Impressões",metric:"impressions",children:Ye.jsx(b,{title:"Impressões",value:N("instagram","impressions"),icon:Ye.jsx(A,{size:22}),color:"from-purple-500 to-purple-600"})}),Ye.jsx(S,{label:"Profile Views",metric:"profile_views",children:Ye.jsx(b,{title:"Visitas ao Perfil",value:N("instagram","profile_views"),icon:Ye.jsx(V,{size:22}),color:"from-green-500 to-green-600"})})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Posts"}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.social.instagram.topPosts.map((e,t)=>Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[Ye.jsxs("div",{className:"font-bold text-red-600 mb-2",children:["Post #",e.id]}),Ye.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[Ye.jsxs("span",{children:[Ye.jsx(K,{size:16,className:"inline mr-1 text-pink-500"}),"Likes: ",e.likes]}),Ye.jsxs("span",{children:[Ye.jsx(pe,{size:16,className:"inline mr-1 text-blue-500"}),"Comentários: ",e.comments]}),Ye.jsxs("span",{children:[Ye.jsx(le,{size:16,className:"inline mr-1 text-green-500"}),"Compart.: ",e.shares]}),Ye.jsxs("span",{children:[Ye.jsx(Y,{size:16,className:"inline mr-1 text-yellow-500"}),"Alcance: ",e.reach]})]})]},e.id))})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insights de Audiência"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Locais Principais"}),Ye.jsx("ul",{className:"text-sm",children:t.social.instagram.audienceInsights.topLocations.map(e=>Ye.jsxs("li",{children:[e.city,": ",e.percentage,"%"]},e.city))})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Faixa Etária/Gênero"}),Ye.jsx("ul",{className:"text-sm",children:t.social.instagram.audienceInsights.ageGender.map(e=>Ye.jsxs("li",{children:[e.age,": ",e.male,"% masc / ",e.female,"% fem"]},e.age))})]})]})]})]}),"social"===l&&t&&Ye.jsxs("div",{className:"space-y-8 mt-12",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center",children:[Ye.jsx(ae,{size:28,className:"mr-2 text-blue-600"}),"Facebook - Métricas Avançadas"]}),Ye.jsx("div",{className:"flex flex-col gap-4",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx(w,{platform:"facebook"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("span",{className:"text-xs text-gray-600",children:"Modo:"}),Ye.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:h,onChange:e=>m(e.target.value),children:[Ye.jsx("option",{value:"aggregate28",children:"28 dias"}),Ye.jsx("option",{value:"sumDaily",children:"Soma diária"}),Ye.jsx("option",{value:"avgDaily",children:"Média diária"}),Ye.jsx("option",{value:"lastDaily",children:"Último dia"})]})]})]})}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Ye.jsx(S,{label:"Seguidores atuais",metric:"followers_count",children:Ye.jsx(b,{title:"Seguidores",value:t.social.facebook.followers,icon:Ye.jsx(V,{size:22}),color:"from-blue-500 to-blue-600"})}),Ye.jsx(S,{label:"Page Engaged Users",metric:"page_engaged_users",children:Ye.jsx(b,{title:"Engajamento",value:N("facebook","page_engaged_users"),icon:Ye.jsx(K,{size:22}),color:"from-blue-700 to-blue-800"})}),Ye.jsx(S,{label:"Reach (impressions_unique)",metric:"page_impressions_unique",children:Ye.jsx(b,{title:"Alcance",value:N("facebook","page_impressions_unique"),icon:Ye.jsx(Y,{size:22}),color:"from-yellow-500 to-yellow-600"})}),Ye.jsx(S,{label:"Impressões",metric:"page_impressions",children:Ye.jsx(b,{title:"Impressões",value:N("facebook","page_impressions"),icon:Ye.jsx(A,{size:22}),color:"from-purple-500 to-purple-600"})}),Ye.jsx(S,{label:"Novos seguidores (adds - removes)",metric:"page_fan_adds_unique",children:Ye.jsx(b,{title:"Crescimento Líquido",value:Math.max(0,N("facebook","page_fan_adds_unique")-N("facebook","page_fan_removes_unique")),icon:Ye.jsx(Y,{size:22}),color:"from-green-500 to-green-600"})})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Posts"}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.social.facebook.topPosts.map((e,t)=>Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[Ye.jsxs("div",{className:"font-bold text-blue-600 mb-2",children:["Post #",e.id]}),Ye.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[Ye.jsxs("span",{children:[Ye.jsx(K,{size:16,className:"inline mr-1 text-blue-700"}),"Reações: ",e.reactions]}),Ye.jsxs("span",{children:[Ye.jsx(pe,{size:16,className:"inline mr-1 text-blue-500"}),"Comentários: ",e.comments]}),Ye.jsxs("span",{children:[Ye.jsx(le,{size:16,className:"inline mr-1 text-green-500"}),"Compart.: ",e.shares]}),Ye.jsxs("span",{children:[Ye.jsx(Y,{size:16,className:"inline mr-1 text-yellow-500"}),"Alcance: ",e.reach]})]})]},e.id))})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insights de Audiência"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Demografia"}),Ye.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.demographics.map(e=>Ye.jsxs("li",{children:[e.age,": ",e.percentage,"%"]},e.age))})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Interesses"}),Ye.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.interests.map(e=>Ye.jsxs("li",{children:[e.category,": ",e.affinity,"%"]},e.category))})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Comportamento"}),Ye.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.behavior.map(e=>Ye.jsxs("li",{children:[e.action,": ",e.frequency]},e.action))})]})]})]})]}),"overview"!==l&&"social"!==l&&Ye.jsxs("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-200",children:[Ye.jsx("div",{className:"text-gray-400 mb-4",children:Ye.jsx(X,{size:48,className:"mx-auto"})}),Ye.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["audience"===l&&"Análise Detalhada de Audiência","content"===l&&"Performance de Conteúdo","performance"===l&&"Análise de Performance"]}),Ye.jsx("p",{className:"text-gray-600 mb-4",children:"Esta seção contém análises aprofundadas com gráficos interativos, segmentação demográfica, análise de comportamento e insights acionáveis."}),Ye.jsx("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:Ye.jsxs("p",{className:"text-red-800 text-sm",children:[Ye.jsx("strong",{children:"Em desenvolvimento:"})," Análises ainda mais detalhadas serão implementadas em breve!"]})})]})]})},JC=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=p(),t=s(),[r]=f(),[n,a]=o.useState("overview"),[i,c]=o.useState("insights"),[u,h]=o.useState(0),[m,g]=o.useState(3),[y,x]=o.useState("7d"),[b,j]=o.useState([]),[N,O]=o.useState(null),[k,E]=o.useState(null),[C,M]=o.useState(!1),[_,I]=o.useState(),[D,R]=o.useState([]),[L,B]=o.useState([]),[z,$]=o.useState(!0),[q,U]=o.useState(null),{user:F}=At(),W="admin"===(null==F?void 0:F.role),K=!!F;o.useEffect(()=>{const n=e.pathname;if("/admin/materias"===n)a("materias");else if("/admin/configuracoes"===n)a("configuracoes");else if("/admin/usuarios"===n)W?a("usuarios"):(a("overview"),t("/admin"));else if("/admin"===n){const e=r.get("tab");e&&["overview","midia","layout","instagram","agendamento","banners","categorias","analytics","advanced-analytics"].includes(e)?a(e):a("overview")}UC.requestNotificationPermission()},[e.pathname,r,W,t]),o.useEffect(()=>{let e=!0;async function t(){try{$(!0),U(null);const[t,r]=await Promise.all([ft({page:1,limit:20}),bt(5)]);if(!e)return;R(t.items),B(r);const n=(new Date).toDateString(),a=t.items.filter(e=>new Date(e.dataPublicacao||e.publishedAt||"").toDateString()===n).length;h(Math.max(3,10*a))}catch(t){if(!e)return;U((null==t?void 0:t.message)||"Falha ao carregar dados")}finally{e&&$(!1)}}t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[]),o.useEffect(()=>{let e=!0;const t=async()=>{try{const t=await it();e&&j(t)}catch(t){e&&j([])}};t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[]),o.useEffect(()=>{let e=!0;if(!K)return O(null),E("Faça login para ver os insights."),()=>{e=!1};async function t(){try{E(null);const t=await tt("/social/insights");if(!e)return;O(t)}catch(t){if(!e)return;const r=null==t?void 0:t.status;E(401===r?"Sessão expirada ou não autenticado. Faça login novamente.":501===r?"Insights: configurar IG_BUSINESS_ID/FB_PAGE_ID/IG_ACCESS_TOKEN no backend (.env).":"Erro ao carregar insights. Tente novamente em instantes.")}}t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[K]);const Q=d.useMemo(()=>{const e=(new Date).toDateString(),t=D.filter(t=>new Date(t.dataPublicacao||t.publishedAt||"").toDateString()===e),r=t.reduce((e,t)=>e+(t.views||t.visualizacoes||0),0),n=t.length,a=L.length?Math.min(12,5+L.length):7.5;return{todayViews:r,todayUsers:u,postsPublished:n,engagementRate:a}},[D,L,u]);Q.todayViews.toLocaleString(),u.toLocaleString(),Q.postsPublished.toString(),Q.engagementRate.toFixed(1),L.map(e=>({title:e.titulo,views:e.views||e.visualizacoes||0,readTime:"-",engagement:7}));const Z=async e=>{if(!confirm("Tem certeza que deseja excluir este banner?"))return;await async function(e){return at(`/banners/${e}`)}(e);const t=await it();j(t)},ee=()=>{const e=function(e){const t=e.reduce((e,t)=>e+(t.impressoesAtuais||0),0),r=e.reduce((e,t)=>e+(t.cliquesAtuais||0),0),n=t>0?Number((r/t*100).toFixed(2)):0,a=e.reduce((e,t)=>{let r=0;return t.cpm&&t.impressoesAtuais&&(r+=t.impressoesAtuais/1e3*t.cpm),t.cpc&&t.cliquesAtuais&&(r+=t.cliquesAtuais*t.cpc),t.valorTotal&&(r+=t.valorTotal),e+r},0);return{impressoes:t,cliques:r,ctr:n,receita:Number(a.toFixed(2)),periodo:"total"}}(b),t=[{value:"top-strip",label:"Topo da Página",description:"Banner horizontal no topo (728x90)"},{value:"super-banner",label:"Super Banner",description:"Na NewsGeneralSection (970x250)"},{value:"news-sidebar",label:"Sidebar Notícias",description:"Coluna direita da NewsGeneralSection (w-full h-80)"},{value:"sidebar-article",label:"Sidebar Artigo",description:"AdBox na página de artigo (300x250)"},{value:"in-content",label:"Dentro do Texto",description:"No meio do conteúdo (300x250)"}];return Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsxs("div",{className:"flex justify-between items-center",children:[Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Publicidade"}),Ye.jsx("p",{className:"text-gray-600",children:"Gerencie banners, anúncios e campanhas publicitárias"})]}),Ye.jsxs("button",{onClick:()=>M(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[Ye.jsx(w,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Novo Banner"})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Ye.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("p",{className:"text-blue-100 text-base",children:"Total de Impressões"}),Ye.jsx("p",{className:"text-2xl font-bold",children:e.impressoes.toLocaleString()})]}),Ye.jsx(A,{className:"w-8 h-8 text-blue-200"})]})}),Ye.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("p",{className:"text-green-100 text-base",children:"Total de Cliques"}),Ye.jsx("p",{className:"text-2xl font-bold",children:e.cliques.toLocaleString()})]}),Ye.jsx(J,{className:"w-8 h-8 text-green-200"})]})}),Ye.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("p",{className:"text-purple-100 text-base",children:"CTR Médio"}),Ye.jsxs("p",{className:"text-2xl font-bold",children:[e.ctr,"%"]})]}),Ye.jsx(G,{className:"w-8 h-8 text-purple-200"})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Banners Ativos"}),Ye.jsx("p",{className:"text-gray-600 text-base",children:"Gerencie todos os banners publicitários do site"})]}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"w-full",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Banner"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Posição"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),Ye.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>{const r=e.impressoesAtuais>0?(e.cliquesAtuais/e.impressoesAtuais*100).toFixed(2):"0.00",n=t.find(t=>t.value===e.posicao);return Ye.jsxs("tr",{className:"hover:bg-gray-50",children:[Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ye.jsxs("div",{className:"flex items-center",children:["imagem"===e.tipo&&e.imagem?Ye.jsx("img",{src:e.imagem,alt:e.titulo,className:"w-16 h-10 object-cover rounded mr-3"}):Ye.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mr-3 flex items-center justify-center",children:Ye.jsx(J,{className:"w-4 h-4 text-gray-400"})}),Ye.jsxs("div",{children:[Ye.jsx("div",{className:"text-base font-medium text-gray-900",children:e.titulo}),Ye.jsxs("div",{className:"text-base text-gray-500",children:[e.tamanho," • ",e.tipo]})]})]})}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900",children:e.cliente}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ye.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:null==n?void 0:n.label})}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ye.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium "+("ativo"===e.status?"bg-green-100 text-green-800":"pausado"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"ativo"===e.status?"Ativo":"pausado"===e.status?"Pausado":"Agendado"})}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900",children:Ye.jsxs("div",{children:[Ye.jsxs("div",{children:[e.impressoesAtuais.toLocaleString()," impressões"]}),Ye.jsxs("div",{className:"text-gray-500",children:[e.cliquesAtuais," cliques • ",r,"% CTR"]})]})}),Ye.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium space-x-2",children:[Ye.jsx("button",{onClick:()=>(e=>{I(e),M(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:Ye.jsx(P,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>Z(e.id),className:"text-red-600 hover:text-red-900",children:Ye.jsx(me,{className:"w-4 h-4"})})]})]},e.id)})})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Posições Disponíveis"}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>{const t=b.filter(t=>t.posicao===e.value&&"ativo"===t.status);return Ye.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[Ye.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:e.label}),Ye.jsxs("span",{className:"px-2 py-1 rounded-full text-xs "+(t.length>0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[t.length," ativo",1!==t.length?"s":""]})]}),Ye.jsx("p",{className:"text-sm text-gray-600",children:e.description})]},e.value)})})]})]})},te=()=>Ye.jsx("div",{className:"w-64 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white h-fit rounded-lg shadow-xl",children:Ye.jsxs("div",{className:"p-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[Ye.jsx("img",{src:"/uploads/imagens/logor10.png",alt:"R10 Piauí",className:"h-8 w-auto"}),Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"font-bold text-lg",children:"R10 Painel"}),Ye.jsx("p",{className:"text-gray-400 text-sm",children:"Editorial"})]})]}),Ye.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4 border border-gray-700",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("img",{src:(null==F?void 0:F.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:"Avatar",className:"w-8 h-8 rounded-lg border border-red-500"}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-medium text-white text-base",children:(null==F?void 0:F.name)||"Usuário"}),Ye.jsx("p",{className:"text-sm text-gray-400",children:"admin"===(null==F?void 0:F.role)?"Admin":"editor"===(null==F?void 0:F.role)?"Editor":"reporter"===(null==F?void 0:F.role)?"Reporter":"User"})]})]})}),Ye.jsx("nav",{className:"space-y-1",children:[{id:"overview",label:"Dashboard",icon:X,badge:null,url:"/admin"},{id:"materias",label:"Matérias",icon:v,badge:null,url:"/admin/materias"},{id:"midia",label:"Mídia",icon:T,badge:null,url:"/admin?tab=midia"},{id:"layout",label:"Layout",icon:fe,badge:null,url:"/admin?tab=layout"},{id:"instagram",label:"Instagram",icon:S,badge:null,url:"/admin?tab=instagram"},{id:"agendamento",label:"Agenda",icon:he,badge:null,url:"/admin?tab=agendamento"},{id:"banners",label:"Banner Ads",icon:J,badge:null,url:"/admin?tab=banners"},{id:"categorias",label:"Categorias",icon:ye,badge:null,url:"/admin?tab=categorias"},{id:"analytics",label:"Analytics",icon:Y,badge:null,url:"/admin?tab=analytics"},{id:"advanced-analytics",label:"Analytics Avançados",icon:X,badge:"NEW",url:"/admin?tab=advanced-analytics"},...W?[{id:"usuarios",label:"Usuários",icon:V,badge:null,url:"/admin/usuarios"}]:[]].map(e=>Ye.jsxs(l,{to:e.url,className:"w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-left transition-all duration-200 text-base "+(n===e.id?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx(e.icon,{className:"w-5 h-5"}),Ye.jsx("span",{className:"font-medium",children:e.label})]}),e.badge&&Ye.jsx("span",{className:"bg-red-500 text-white text-sm px-2 py-0.5 rounded-full",children:e.badge})]},e.id))}),Ye.jsx("div",{className:"mt-3",children:Ye.jsxs(l,{to:"/admin/nova-materia",className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-2.5 px-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 text-base",children:[Ye.jsx(w,{className:"w-5 h-5"}),Ye.jsx("span",{children:"Nova Matéria"})]})}),Ye.jsx("div",{className:"mt-4 p-3 bg-green-900/30 border border-green-700 rounded-lg",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),Ye.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Sistema Online"})]})})]})}),re=()=>Ye.jsx(KC,{socialInsights:N,socialInsightsError:k,latestPosts:D,mostRead:L,loading:z,onTabChange:a});return Ye.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Ye.jsx(It,{notifications:m}),Ye.jsx("div",{className:"lg:hidden bg-white border-b border-gray-200 sticky top-0 z-40",children:Ye.jsx("div",{className:"max-w-[1250px] mx-auto px-4",children:Ye.jsx("div",{className:"flex overflow-x-auto py-3 space-x-2 scrollbar-hide",children:[{id:"overview",label:"Dashboard",icon:X,url:"/admin"},{id:"materias",label:"Matérias",icon:v,url:"/admin/materias"},{id:"midia",label:"Mídia",icon:T,url:"/admin?tab=midia"},{id:"layout",label:"Layout",icon:fe,url:"/admin?tab=layout"},{id:"instagram",label:"Instagram",icon:S,url:"/admin?tab=instagram"},{id:"agendamento",label:"Agenda",icon:he,url:"/admin?tab=agendamento"}].map(e=>Ye.jsxs(l,{to:e.url,className:"flex-shrink-0 flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(n===e.id?"bg-red-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:[Ye.jsx(e.icon,{className:"w-4 h-4"}),Ye.jsx("span",{className:"whitespace-nowrap",children:e.label})]},e.id))})})}),Ye.jsx("div",{className:"max-w-[1250px] mx-auto px-4 lg:px-6 py-8",children:Ye.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8",children:[Ye.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:Ye.jsx(te,{})}),Ye.jsxs("div",{className:"flex-1 min-w-0 w-full",children:["overview"===n&&Ye.jsx(re,{}),"materias"===n&&Ye.jsx(Bt,{}),"usuarios"===n&&W&&Ye.jsx(FC,{}),"midia"===n&&Ye.jsx(Ut,{}),"layout"===n&&Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("div",{className:"flex items-center justify-between",children:Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Layout da Home"}),Ye.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Organize as seções da página inicial"})]})}),Ye.jsx(zC,{})]}),"banners"===n&&Ye.jsx(ee,{}),"instagram"===n&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2",children:Ye.jsxs("div",{className:"flex space-x-2",children:[Ye.jsx("button",{onClick:()=>c("insights"),className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all "+("insights"===i?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:"📊 Insights & Analytics"}),Ye.jsx("button",{onClick:()=>c("generator"),className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all "+("generator"===i?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:"🎨 Gerador de Cards"})]})}),"insights"===i?Ye.jsx(LC,{}):Ye.jsx(Ft,{})]}),"agendamento"===n&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[Ye.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Ye.jsx("h3",{className:"font-semibold text-gray-900",children:"Agendamento de Publicações"}),Ye.jsxs(l,{to:"/admin/nova-materia",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(w,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Agendar Nova Matéria"})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[Ye.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Hoje"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"3"}),Ye.jsx("p",{className:"text-sm text-white/80",children:"publicações"})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Esta Semana"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"12"}),Ye.jsx("p",{className:"text-sm text-white/80",children:"agendadas"})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Próximo Mês"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"28"}),Ye.jsx("p",{className:"text-sm text-white/80",children:"planejadas"})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Rascunhos"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"7"}),Ye.jsx("p",{className:"text-xs text-white/80",children:"pendentes"})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Calendário de Publicações"}),Ye.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Janeiro 2024"}),Ye.jsxs("div",{className:"flex space-x-2",children:[Ye.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:Ye.jsx(H,{className:"w-4 h-4 text-gray-600 rotate-180"})}),Ye.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:Ye.jsx(H,{className:"w-4 h-4 text-gray-600"})})]})]}),Ye.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(e=>Ye.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50 rounded-lg",children:e},e))}),Ye.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35},(e,t)=>{const r=t-6,n=[2,5,8,12,15,18,22,25,28].includes(r),a=15===r;return Ye.jsx("div",{className:`\n                        min-h-[80px] p-2 border border-gray-100 rounded-lg relative cursor-pointer hover:bg-gray-50 transition-colors\n                        ${a?"bg-red-50 border-red-200":""}\n                      `,children:r>0&&r<=31&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("span",{className:"text-sm font-medium "+(a?"text-red-600":"text-gray-700"),children:r}),n&&Ye.jsxs("div",{className:"mt-1",children:[Ye.jsx("div",{className:"w-full bg-blue-500 text-white text-xs px-2 py-1 rounded mb-1 truncate",children:"Matéria 1"}),15===r&&Ye.jsx("div",{className:"w-full bg-green-500 text-white text-xs px-2 py-1 rounded truncate",children:"Especial"})]})]})},t)})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Próximas Publicações"}),Ye.jsx("div",{className:"space-y-4",children:[{title:"Novo hospital será inaugurado em Parnaíba",date:"15/01/2024",time:"08:00",status:"scheduled",author:"João Silva",category:"Saúde"},{title:"Festival de inverno movimenta turismo em Pedro II",date:"15/01/2024",time:"14:30",status:"scheduled",author:"Maria Santos",category:"Turismo"},{title:"Governador visita obras da BR-343",date:"16/01/2024",time:"09:15",status:"draft",author:"Carlos Oliveira",category:"Política"}].map((e,t)=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),Ye.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[Ye.jsxs("span",{className:"flex items-center space-x-1",children:[Ye.jsx(he,{className:"w-4 h-4"}),Ye.jsxs("span",{children:[e.date," às ",e.time]})]}),Ye.jsxs("span",{className:"flex items-center space-x-1",children:[Ye.jsx(V,{className:"w-4 h-4"}),Ye.jsx("span",{children:e.author})]}),Ye.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:e.category})]})]}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("scheduled"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"scheduled"===e.status?"Agendado":"Rascunho"}),Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Editar",children:Ye.jsx(P,{className:"w-4 h-4 text-gray-600"})}),Ye.jsx("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Excluir",children:Ye.jsx(me,{className:"w-4 h-4 text-gray-600"})})]})]})]},t))})]})]}),"analytics"===n&&Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsx(VC,{days:30}),Ye.jsx(GC,{initialDays:30})]}),"advanced-analytics"===n&&Ye.jsx(YC,{}),"publicidade"===n&&Ye.jsx(ee,{}),"configuracoes"===n&&Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Configurações do Site"}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Site"}),Ye.jsx("input",{type:"text",defaultValue:"R10 Piauí",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),Ye.jsx("input",{type:"text",defaultValue:"Notícias do Piauí em tempo real",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{className:"lg:col-span-2",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição do Site"}),Ye.jsx("textarea",{rows:3,defaultValue:"Portal de notícias líder no Piauí, oferecendo cobertura completa dos acontecimentos locais, regionais e nacionais.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do Site"}),Ye.jsx("input",{type:"url",defaultValue:"https://r10piaui.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de Contato"}),Ye.jsx("input",{type:"email",defaultValue:"contato@r10piaui.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900",children:"Gestão de Categorias"}),Ye.jsxs("button",{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(w,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Nova Categoria"})]})]}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"Política",color:"bg-blue-500",posts:45},{name:"Economia",color:"bg-green-500",posts:32},{name:"Esportes",color:"bg-orange-500",posts:28},{name:"Cultura",color:"bg-purple-500",posts:22},{name:"Saúde",color:"bg-red-500",posts:18},{name:"Educação",color:"bg-indigo-500",posts:15}].map((e,t)=>Ye.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:shadow-md transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx("div",{className:`w-4 h-4 rounded-full ${e.color}`}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Ye.jsx(P,{className:"w-4 h-4 text-gray-600"})}),Ye.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Ye.jsx(me,{className:"w-4 h-4 text-gray-600"})})]})]}),Ye.jsxs("p",{className:"text-sm text-gray-600",children:[e.posts," matérias"]})]},t))})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Configurações de SEO"}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Padrão"}),Ye.jsx("input",{type:"text",defaultValue:"R10 Piauí - Notícias do Piauí em tempo real",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description Padrão"}),Ye.jsx("textarea",{rows:3,defaultValue:"Acompanhe as principais notícias do Piauí no R10. Cobertura completa de política, economia, esportes, cultura e muito mais.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palavras-chave"}),Ye.jsx("input",{type:"text",defaultValue:"piauí, notícias, teresina, política, economia, esportes",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Preferências do Usuário"}),Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:"Notificações por Email"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Receber alertas sobre novas matérias e comentários"})]}),Ye.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Ye.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),Ye.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:"Auto-save"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Salvar automaticamente rascunhos durante a edição"})]}),Ye.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Ye.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),Ye.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:"Modo Escuro"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Usar tema escuro no dashboard"})]}),Ye.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Ye.jsx("input",{type:"checkbox",className:"sr-only peer"}),Ye.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Status do Sistema"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Ye.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-green-800",children:"Servidor"})]}),Ye.jsx("p",{className:"text-sm text-green-600",children:"Online"})]}),Ye.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-green-800",children:"Banco de Dados"})]}),Ye.jsx("p",{className:"text-sm text-green-600",children:"Conectado"})]}),Ye.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-green-800",children:"CDN"})]}),Ye.jsx("p",{className:"text-sm text-green-600",children:"Ativo"})]}),Ye.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-yellow-800",children:"Backup"})]}),Ye.jsx("p",{className:"text-sm text-yellow-600",children:"Pendente"})]})]})]}),Ye.jsx("div",{className:"flex justify-end",children:Ye.jsxs("button",{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(ge,{className:"w-5 h-5"}),Ye.jsx("span",{children:"Salvar Configurações"})]})})]}),"categorias"===n&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsx("div",{className:"flex items-center justify-between",children:Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Categorias"}),Ye.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias, subcategorias e municípios"})]})}),Ye.jsx(qC,{})]})]}),C&&Ye.jsx($C,{banner:_,onSave:async e=>{try{const e=await it();j(e)}finally{M(!1),I(void 0)}},onCancel:()=>{M(!1),I(void 0)}})]})})]})}},Symbol.toStringTag,{value:"Module"})),QC=({value:e,onChange:t,placeholder:r="Digite o conteúdo da matéria aqui..."})=>{const n=o.useRef(null),[a,i]=o.useState([]),[s,l]=o.useState(-1),[c,u]=o.useState(!1);o.useEffect(()=>{var t;if(n.current&&!c){const a=n.current.innerHTML,i=e||"";if(a!==i){const e=window.getSelection(),a=e&&e.rangeCount>0?e.getRangeAt(0):null,o=a?a.startOffset:0,s=a?a.startContainer:null;if(n.current.innerHTML=i,s&&n.current.contains(s))try{const r=document.createRange();r.setStart(s,Math.min(o,(null==(t=s.textContent)?void 0:t.length)||0)),r.collapse(!0),null==e||e.removeAllRanges(),null==e||e.addRange(r)}catch(r){}}}},[e,c]),o.useEffect(()=>{if(!n.current)return;n.current.querySelectorAll('[data-highlight="animated"]').forEach(e=>{const t=e;setTimeout(()=>{t.style.backgroundSize="100% 100%",t.classList.add("animate-in-view")},300)})},[e]);const d=o.useCallback(e=>{const t=[...a.slice(0,s+1),{content:e,timestamp:Date.now()}];t.length>50&&t.shift(),i(t),l(t.length-1)},[a,s]),p=o.useCallback(()=>{if(!n.current||c)return;const e=n.current.innerHTML;t(e);const r=a[s],i=Date.now();(!r||e!==r.content&&(!r.timestamp||i-r.timestamp>500))&&d(e)},[t,c,a,s,d]),f=o.useCallback(e=>{if(n.current){switch(n.current.focus(),e){case"bold":document.execCommand("bold");break;case"italic":document.execCommand("italic");break;case"underline":document.execCommand("underline");break;case"h3":document.execCommand("formatBlock",!1,"h3");break;case"quote":m("blockquote","citação");break;case"list":document.execCommand("insertUnorderedList");break;case"justify-left":document.execCommand("justifyLeft");break;case"justify-center":document.execCommand("justifyCenter");break;case"justify-right":document.execCommand("justifyRight");break;case"justify-full":document.execCommand("justifyFull");break;case"highlight-simple":h("simple");break;case"highlight-animated":h("animated");break;case"info":m("div","informação importante");break;case"separator":g()}p()}},[p]),h=e=>{const t=window.getSelection();if(!t||0===t.rangeCount)return void alert("Por favor, selecione o texto que deseja destacar.");const r=t.getRangeAt(0),n=r.toString().trim();if(!n)return void alert("Por favor, selecione o texto que deseja destacar.");const a=document.createElement("span");"animated"===e?(a.className="highlight-animated",a.setAttribute("data-highlight","animated"),a.style.cssText="\n        position: relative;\n        background: linear-gradient(90deg, #FF8C42, #FF6B35);\n        background-size: 0% 100%;\n        background-repeat: no-repeat;\n        background-position: left center;\n        color: #000;\n        font-weight: 600;\n        padding: 2px 4px;\n        border-radius: 4px;\n        display: inline;\n        -webkit-box-decoration-break: clone;\n        box-decoration-break: clone;\n      ".replace(/\s+/g," ").trim(),a.textContent=n,r.deleteContents(),r.insertNode(a),t.removeAllRanges(),setTimeout(()=>{a.style.transition="background-size 0.8s ease-out",a.style.backgroundSize="100% 100%"},100)):(a.className="highlight-simple",a.style.cssText="\n        background-color: #fef3c7;\n        padding: 2px 4px;\n        border-radius: 4px;\n        display: inline;\n      ".replace(/\s+/g," ").trim(),a.textContent=n,r.deleteContents(),r.insertNode(a),t.removeAllRanges()),setTimeout(()=>{p()},100)},m=(e,t)=>{const r=window.getSelection();if(r&&r.rangeCount>0){const n=r.getRangeAt(0);if(n.toString().trim()){const t=document.createElement(e);"blockquote"===e?(t.style.borderLeft="4px solid #3b82f6",t.style.paddingLeft="1rem",t.style.paddingTop="0.5rem",t.style.paddingBottom="0.5rem",t.style.margin="1rem 0",t.style.fontStyle="italic",t.style.backgroundColor="transparent"):"div"===e&&(t.className="bg-blue-50 border border-blue-200 rounded-lg p-3 my-2 text-blue-800");const a=n.extractContents();t.appendChild(a),n.insertNode(t),r.removeAllRanges(),setTimeout(()=>p(),100)}else{const a=document.createElement(e);"blockquote"===e?(a.style.borderLeft="4px solid #3b82f6",a.style.paddingLeft="1rem",a.style.paddingTop="0.5rem",a.style.paddingBottom="0.5rem",a.style.margin="1rem 0",a.style.fontStyle="italic",a.style.backgroundColor="transparent"):"div"===e&&(a.className="bg-blue-50 border border-blue-200 rounded-lg p-3 my-2 text-blue-800"),a.contentEditable="true",a.textContent=t,n.insertNode(a);const i=document.createRange();i.selectNodeContents(a),r.removeAllRanges(),r.addRange(i),setTimeout(()=>p(),100)}}},g=()=>{const e=document.createElement("hr");e.className="my-4 border-gray-300";const t=window.getSelection();if(t&&t.rangeCount>0){t.getRangeAt(0).insertNode(e)}};return Ye.jsxs("div",{className:"rich-editor border border-gray-300 rounded-lg overflow-hidden",children:[Ye.jsxs("div",{className:"bg-gray-50 border-b border-gray-300 p-2 flex flex-wrap gap-1",children:[Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>f("bold"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Negrito",children:Ye.jsx(ve,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("italic"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Itálico",children:Ye.jsx(xe,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("underline"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Sublinhado",children:Ye.jsx(be,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>f("justify-left"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Alinhar à esquerda",children:Ye.jsx(je,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("justify-center"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Centralizar",children:Ye.jsx(we,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("justify-right"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Alinhar à direita",children:Ye.jsx(Ne,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("justify-full"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Justificar",children:Ye.jsx(Oe,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>f("h3"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Título H3",children:Ye.jsx(Se,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("quote"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Citação",children:Ye.jsx(Ae,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("list"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Lista",children:Ye.jsx(R,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>f("highlight-simple"),className:"p-2 hover:bg-gray-200 rounded text-yellow-600 transition-colors",title:"Destaque Simples",children:Ye.jsx(Pe,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("highlight-animated"),className:"p-2 hover:bg-gray-200 rounded text-yellow-600 transition-colors animate-pulse",title:"Destaque Animado",children:Ye.jsx(ke,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>f("info"),className:"p-2 hover:bg-gray-200 rounded text-blue-600 transition-colors",title:"Caixa de Informação",children:Ye.jsx(Ee,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>f("separator"),className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors",title:"Separador",children:Ye.jsx(Te,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>{const e=prompt("URL da imagem:");if(e){const t=document.createElement("img");t.src=e,t.className="max-w-full h-auto rounded-lg my-2",t.alt="Imagem da matéria";const r=window.getSelection();if(r&&r.rangeCount>0){r.getRangeAt(0).insertNode(t),p()}}},className:"p-2 hover:bg-gray-200 rounded text-green-600 transition-colors",title:"Inserir Imagem",children:Ye.jsx(T,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>{var e,t;const r=prompt("URL do vídeo (YouTube, etc):");if(r){let n=r;if(r.includes("youtube.com/watch")){n=`https://www.youtube.com/embed/${null==(e=r.split("v=")[1])?void 0:e.split("&")[0]}`}else if(r.includes("youtu.be/")){n=`https://www.youtube.com/embed/${null==(t=r.split("youtu.be/")[1])?void 0:t.split("?")[0]}`}const a=document.createElement("iframe");a.src=n,a.className="w-full h-64 rounded-lg my-2",a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","true");const i=window.getSelection();if(i&&i.rangeCount>0){i.getRangeAt(0).insertNode(a),p()}}},className:"p-2 hover:bg-gray-200 rounded text-red-600 transition-colors",title:"Inserir Vídeo",children:Ye.jsx(Ce,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>{if(s>0){const e=s-1,r=a[e];n.current&&r&&(n.current.innerHTML=r.content,t(r.content),l(e))}},disabled:s<=0,className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Desfazer",children:Ye.jsx(Me,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>{if(s<a.length-1){const e=s+1,r=a[e];n.current&&r&&(n.current.innerHTML=r.content,t(r.content),l(e))}},disabled:s>=a.length-1,className:"p-2 hover:bg-gray-200 rounded text-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Refazer",children:Ye.jsx(_e,{size:16})})]}),Ye.jsx("div",{className:"flex gap-1",children:Ye.jsx("button",{type:"button",onClick:()=>{const e=window.getSelection();if(!e||0===e.rangeCount){if(n.current){const e=n.current.innerText||n.current.textContent||"";n.current.innerHTML=e.replace(/\n/g,"<br>"),p()}return}const t=e.getRangeAt(0);if(t.collapsed)return;const r=t.toString(),a=document.createTextNode(r);try{t.deleteContents(),t.insertNode(a),e.removeAllRanges(),p()}catch(i){}},className:"p-2 hover:bg-gray-200 rounded text-red-600 transition-colors",title:"Limpar Formatação",children:Ye.jsx(Ie,{size:16})})})]}),Ye.jsx("div",{ref:n,contentEditable:!0,className:"min-h-[400px] p-4 focus:outline-none prose prose-lg max-w-none",style:{lineHeight:"1.6",fontSize:"16px"},onInput:p,onCompositionStart:()=>u(!0),onCompositionEnd:()=>{u(!1),p()},onPaste:e=>{setTimeout(p,0)},suppressContentEditableWarning:!0,"data-placeholder":r}),Ye.jsx("style",{dangerouslySetInnerHTML:{__html:'\n        .rich-editor [contenteditable]:empty:before {\n          content: attr(data-placeholder);\n          color: #9ca3af;\n          pointer-events: none;\n        }\n        \n        .rich-editor [contenteditable] h3 {\n          font-size: 1.5rem;\n          font-weight: 600;\n          margin: 1rem 0 0.5rem 0;\n          color: #1f2937;\n        }\n        \n        .rich-editor [contenteditable] blockquote {\n          background-color: transparent !important;\n          border-left: 4px solid #3b82f6 !important;\n          padding-left: 1rem !important;\n          padding-top: 0.5rem !important;\n          padding-bottom: 0.5rem !important;\n          margin: 1rem 0 !important;\n          font-style: italic !important;\n          border-radius: 0 !important;\n          box-shadow: none !important;\n        }\n        \n        .rich-editor [contenteditable] ul {\n          padding-left: 1.5rem;\n          margin: 0.5rem 0;\n        }\n        \n        .rich-editor [contenteditable] hr {\n          margin: 1rem 0;\n          border: none;\n          height: 1px;\n          background-color: #d1d5db;\n        }\n        \n        .rich-editor [contenteditable] img {\n          max-width: 100%;\n          height: auto;\n          border-radius: 0.5rem;\n          margin: 0.5rem 0;\n        }\n        \n        .rich-editor [contenteditable] iframe {\n          width: 100%;\n          height: 16rem;\n          border-radius: 0.5rem;\n          margin: 0.5rem 0;\n        }\n\n        .highlight-animated {\n          position: relative !important;\n          background: linear-gradient(90deg, #fbbf24, #f59e0b) !important;\n          background-size: 0% 100% !important;\n          background-repeat: no-repeat !important;\n          background-position: left center !important;\n          transition: background-size 2s cubic-bezier(0.4, 0, 0.2, 1) !important;\n          color: #000 !important;\n          font-weight: 600 !important;\n          padding: 2px 4px !important;\n          border-radius: 4px !important;\n          display: inline !important;\n          -webkit-box-decoration-break: clone; box-decoration-break: clone;\n        }\n\n        .highlight-animated.animate-in-view { background-size: 100% 100% !important; }\n\n        /* CSS para quando renderizado fora do editor */\n        [data-highlight="animated"] {\n          position: relative !important;\n          background: linear-gradient(90deg, #fbbf24, #f59e0b) !important;\n          background-size: 0% 100% !important;\n          background-repeat: no-repeat !important;\n          background-position: left center !important;\n          transition: background-size 2s cubic-bezier(0.4, 0, 0.2, 1) !important;\n          color: #000 !important;\n          font-weight: 600 !important;\n          padding: 2px 4px !important;\n          border-radius: 4px !important;\n          display: inline !important;\n          -webkit-box-decoration-break: clone; box-decoration-break: clone;\n        }\n\n        [data-highlight="animated"].animate-in-view { background-size: 100% 100% !important; }\n        '}})]})},ZC=({value:e,onChange:t,isValid:r})=>Ye.jsxs("div",{className:"space-y-2",children:[Ye.jsxs("div",{className:"relative",children:[Ye.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value.toUpperCase()),placeholder:"EXCLUSIVO, POLÍTICA, ECONOMIA...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm font-medium transition-all "+(r?"border-green-300 bg-green-50":e?"border-red-300 bg-red-50":"border-gray-300"),maxLength:15}),Ye.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r?Ye.jsx(U,{className:"w-4 h-4 text-green-500"}):e?Ye.jsx(F,{className:"w-4 h-4 text-red-500"}):Ye.jsx(ce,{className:"w-4 h-4 text-gray-400"})})]}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("span",{className:"text-xs "+(e.length>15?"text-red-600":"text-gray-500"),children:[e.length,"/15 caracteres"]}),!r&&e&&Ye.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[Ye.jsx(F,{className:"w-3 h-3"}),Ye.jsx("span",{children:"Entre 3 e 15 caracteres"})]})]})]}),eM=({title:e,content:t,tags:r,onTagsChange:n})=>{const[a,i]=o.useState(!1),[s,l]=o.useState(!1),[c,u]=o.useState([]),d=["a","o","e","é","de","do","da","em","um","para","com","não","uma","os","as","se","que","por","mais","como","mas","foi","ele","tem","à","seu","sua","ou","ser","quando","muito","há","nos","já","está","eu","também","só","pelo","pela","até","isso","ela","entre","era","depois","sem","mesmo","aos","ter","seus","suas","minha","têm","àquelas","muito","nas","me","esse","eles","estão","você","tinha","foram","essa","num","nem","suas","meu","às","minha","têm","numa","pelos","elas","havia","seja","qual","será","nós","tenho","lhe","deles","essas","esses","pelas","este","fosse","dele","tu","te","vocês","vos","lhes","meus","minhas","teu","tua","teus","tuas","nosso","nossa","nossos","nossas","dela","delas","esta","estes","estas","aquele","aquela","aqueles","aquelas","isto","aquilo","estou","está","estamos","estão","estive","esteve","estivemos","estiveram","estava","estávamos","estavam","estivera","estivéramos","esteja","estejamos","estejam","estivesse","estivéssemos","estivessem","estiver","estivermos","estiverem","hei","há","havemos","hão","houve","houvemos","houveram","houvera","houvéramos","haja","hajamos","hajam","houvesse","houvéssemos","houvessem","houver","houvermos","houverem","houverei","houverá","houveremos","houverão","houveria","houveríamos","houveriam","sou","somos","são","era","éramos","eram","fui","foi","fomos","foram","fora","fôramos","seja","sejamos","sejam","fosse","fôssemos","fossem","for","formos","forem","serei","será","seremos","serão","seria","seríamos","seriam","tenho","tem","temos","têm","tinha","tínhamos","tinham","tive","teve","tivemos","tiveram","tivera","tivéramos","tenha","tenhamos","tenham","tivesse","tivéssemos","tivessem","tiver","tivermos","tiverem","terei","terá","teremos","terão","teria","teríamos","teriam"],p=["piauí","teresina","piripiri","pedro ii","campo maior","barras","esperantina","picos","floriano","parnaíba","luzilândia","beneditinos","coivaras","demerval lobão","lagoa do piauí","miguel leão","mucajaí","nazária","palmeirais","passagem franca","regeneração","ribeiro gonçalves","santa rosa","são joão do piauí","são pedro do piauí","socorro do piauí","valença do piauí","várzea grande","altos","angical do piauí","antônio almeida","aroeiras do itaim","arribação","baixa grande do ribeiro","barra d'alcântara","batalha","belém do piauí","betânia do piauí","boa hora","bocaina","bom jesus","brejo do piauí","buriti dos lopes","buriti dos montes","cabeceiras do piauí","cajazeiras do piauí","cajueiro da praia","caldeirão grande do piauí","campinas do piauí","campo alegre do fidalgo","campo grande do piauí","campo largo do piauí","capitão de campos","capitão gervásio oliveira","caracol","caraúbas do piauí","caridade do piauí","castelo do piauí","caxingó","cocal","cocal de telha","cocal dos alves","coivaras","colônia do gurguéia","colônia do piauí","conceição do canindé","coronel josé dias","corrente","cristalândia do piauí","cristino castro","curimatá","currais","curralinhos","curral novo do piauí","dom expedito lopes","domingos mourão","dom inocêncio","elesbão veloso","eliseu martins","esperantina","fartura do piauí","flores do piauí","floresta do piauí","floriano","francinópolis","francisco ayres","francisco macedo","francisco santos","fronteiras","geminiano","gilbués","guadalupe","guaribas","hugo napoleão","ilha grande","inhuma","ipiranga do piauí","isaías coelho","itainópolis","itaueira","jacobina do piauí","jaicós","joão costa","joaquim pires","joca marques","josé de freitas","juazeiro do piauí","júlio borges","jurema","lagoa alegre","lagoa de são francisco","lagoa do barro do piauí","lagoa do piauí","lagoa do sítio","lagoinha do piauí","landri sales","luís correia","luzilândia","madeiro","manoel emídio","marcolândia","marcos parente","massapê do piauí","matias olímpio","miguel alves","miguel leão","milton brandão","monsenhor gil","monsenhor hipólito","monte alegre do piauí","morro cabeça no tempo","morro do chapéu do piauí","mucajaí","nazaré do piauí","nossa senhora de nazaré","nossa senhora dos remédios","nova santa rita","novo oriente do piauí","novo santo antônio","oeiras","olho d'água do piauí","padre marcos","paes landim","pajeú do piauí","palmeira do piauí","palmeirais","paquetá","parnaguá","parnaíba","passagem franca do piauí","patos do piauí","pau d'arco do piauí","paulistana","pavussu","pedro ii","pedro laurentino","nova santa rita","picos","pimenteiras","pio ix","piracuruca","piripiri","porto","porto alegre do piauí","prata do piauí","queimada nova","redenção do gurguéia","regeneração","ribeiro gonçalves","ribeiro gonçalves","rio grande do piauí","santa cruz do piauí","santa cruz dos milagres","santa filomena","santa luz","santana do piauí","santa rosa do piauí","santo antônio de lisboa","santo antônio dos milagres","santo inácio do piauí","são braz do piauí","são félix do piauí","são francisco de assis do piauí","são francisco do piauí","são gonçalo do gurguéia","são gonçalo do piauí","são joão da canabrava","são joão da fronteira","são joão da serra","são joão da varjota","são joão do arraial","são joão do piauí","são josé do divino","são josé do peixe","são josé do piauí","são julião","são lourenço do piauí","são luis do piauí","são miguel da baixa grande","são miguel do fidalgo","são miguel do tapuio","são pedro do piauí","são raimundo nonato","sebastião barros","sebastião leal","sigefredo pacheco","simões","simplício mendes","socorro do piauí","sussuapara","tamboril do piauí","tanque do piauí","teresina","união","uruçuí","valença do piauí","várzea branca","várzea grande","vera mendes","vila nova do piauí","wall ferraz"];return o.useEffect(()=>{e.length>10&&t.length>50&&(async()=>{i(!0),l(!0),await new Promise(e=>setTimeout(e,2e3));const r=`${e} ${t}`.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>3).filter(e=>!d.includes(e.toLowerCase())),n={};r.forEach(e=>{n[e]=(n[e]||0)+1});const a=r.filter(e=>p.includes(e.toLowerCase())),o=[];a.slice(0,3).forEach(e=>{o.includes(e)||o.push(e)}),Object.entries(n).sort(([,e],[,t])=>t-e).slice(0,5).map(([e])=>e).forEach(e=>{o.length<8&&!o.includes(e)&&o.push(e)}),u(o),i(!1)})()},[e,t]),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("label",{className:"block text-base font-semibold text-gray-900",children:"Tags"}),s&&Ye.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[Ye.jsx(De,{className:"w-4 h-4 animate-pulse"}),Ye.jsx("span",{className:"text-sm font-medium",children:"IA Ativa"})]})]}),Ye.jsx("input",{type:"text",placeholder:"Digite uma tag e pressione Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm",onKeyDown:e=>{if("Enter"===e.key&&e.currentTarget.value.trim()){e.preventDefault();const t=e.currentTarget.value.trim();r.includes(t)||n([...r,t]),e.currentTarget.value=""}}}),r.length>0&&Ye.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(e=>Ye.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm flex items-center space-x-2",children:[Ye.jsx("span",{children:e}),Ye.jsx("button",{onClick:()=>{return t=e,void n(r.filter(e=>e!==t));var t},className:"text-red-600 hover:text-red-800",children:Ye.jsx($,{className:"w-3 h-3"})})]},e))}),c.length>0&&Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Ye.jsx(ke,{className:"w-4 h-4 text-blue-600"}),Ye.jsx("h4",{className:"font-semibold text-blue-900",children:"Tags Sugeridas pela IA"}),a&&Ye.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[Ye.jsx(ce,{className:"w-3 h-3 animate-spin"}),Ye.jsx("span",{className:"text-xs",children:"Gerando..."})]})]}),Ye.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>Ye.jsxs("button",{onClick:()=>(e=>{r.includes(e)||n([...r,e])})(e),disabled:r.includes(e),className:"px-3 py-1 rounded-full text-sm transition-colors "+(r.includes(e)?"bg-green-100 text-green-800 cursor-not-allowed":"bg-blue-100 text-blue-800 hover:bg-blue-200"),children:[e,r.includes(e)&&Ye.jsx(U,{className:"w-3 h-3 ml-1 inline"})]},e))})]}),Ye.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[Ye.jsxs("span",{children:[r.length," tags adicionadas"]}),Ye.jsxs("span",{children:[p.filter(e=>r.some(t=>t.toLowerCase().includes(e))).length," tags do Piauí"]})]})]})},tM=({value:e,onChange:t,content:r})=>{const[n,a]=o.useState(!1),[i,s]=o.useState(!1),[l,c]=o.useState(!1);o.useEffect(()=>{const t=e.split("\n").filter(e=>e.trim().startsWith("•"));s(t.length>=3&&t.length<=5)},[e]);const u=(e,t=80)=>{if(e.length<=t)return e;const r=e.substring(0,t),n=r.lastIndexOf(" ");if(n>.7*t)return r.substring(0,n);const a=Math.max(r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"),r.lastIndexOf(","));return a>.6*t?r.substring(0,a+1):r},d=()=>{const e=r.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim().split(/[.!?]/).filter(e=>e.trim().length>20).slice(0,5).map(e=>{const t=e.trim();return`• ${u(t,80)}`}).join("\n");t(e)};return Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("label",{className:"block text-base font-semibold text-gray-900",children:["Resumo Rápido ",Ye.jsx("span",{className:"text-blue-500",children:"⚡"})]}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("button",{onClick:async()=>{var e,n,a;if(!r||r.trim().length<50)t("• Conteúdo insuficiente para gerar resumo automático");else{c(!0);try{const i=r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),o=await fetch("/api/ai/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:'Você é um jornalista especializado em resumos objetivos. Responda APENAS com 4 linhas, cada uma começando com "• " seguido de uma frase direta e informativa. NÃO use markdown, NÃO use títulos como "Tópico 1", NÃO use formatação. Apenas bullet points simples.'},{role:"user",content:`Resuma esta notícia em 4 bullet points simples:\n\n${i}`}],max_tokens:200,temperature:.7})});if(!o.ok)throw new Error(`Erro na API: ${o.status}`);{const r=null==(a=null==(n=null==(e=(await o.json()).choices[0])?void 0:e.message)?void 0:n.content)?void 0:a.trim();if(!r)throw new Error("Resposta da IA vazia");{const e=r.split("\n").filter(e=>e.trim()).map(e=>{const t=e.trim().replace(/^\*\*/g,"").replace(/\*\*$/g,"").replace(/^\*/g,"").replace(/^-/g,"").replace(/^Tópico \d+:/gi,"").replace(/^\d+\./g,"").trim();return t.startsWith("•")?t:`• ${t}`}).join("\n");t(e)}}}catch(i){d()}finally{c(!1)}}},disabled:l,className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 text-blue-700 disabled:text-gray-500 rounded-md text-sm transition-colors",children:l?Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-700"}),Ye.jsx("span",{children:"Gerando..."})]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(ce,{className:"w-3 h-3"}),Ye.jsx("span",{children:"Gerar com IA"})]})}),Ye.jsxs("button",{onClick:()=>a(!n),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm transition-colors",children:[Ye.jsx(A,{className:"w-3 h-3"}),Ye.jsx("span",{children:n?"Ocultar":"Preview"})]})]})]}),Ye.jsxs("div",{className:"space-y-3",children:[Ye.jsx("textarea",{value:e,onChange:e=>{const r=e.target.value.split("\n").map(e=>{if(e.trim().startsWith("•")){const t=e.substring(1).trim();return`• ${u(t,80)}`}return e});t(r.join("\n"))},placeholder:"Digite os pontos principais da matéria...\r\n\r\nExemplo:\r\n• Governador anuncia investimento de R$ 50 milhões\r\n• Projeto beneficiará 12 municípios da região\r\n• Obras devem começar em março de 2025\r\n• Expectativa de gerar 500 empregos diretos",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-24 resize-none text-sm "+(i?"border-green-300 bg-green-50":e?"border-orange-300 bg-orange-50":"border-gray-300")}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[i?Ye.jsx(U,{className:"w-4 h-4 text-green-500"}):e?Ye.jsx(F,{className:"w-4 h-4 text-orange-500"}):Ye.jsx(q,{className:"w-4 h-4 text-gray-400"}),Ye.jsx("span",{className:"text-sm "+(i?"text-green-600":e?"text-orange-600":"text-gray-500"),children:i?"Resumo válido! Aparecerá no topo da matéria":e?"Adicione mais pontos (mínimo 3, máximo 5)":"Resumo aparecerá no topo da matéria para leitores apressados"})]}),Ye.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[Ye.jsxs("span",{children:[e.split("\n").filter(e=>e.trim().startsWith("•")).length," pontos"]}),Ye.jsxs("span",{children:["~",Math.ceil(e.length/200)," min de leitura"]})]})]}),n&&e&&Ye.jsx("div",{className:"mt-4",children:(()=>{const t=e.split("\n").filter(e=>e.trim().startsWith("•"));return Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Ye.jsx(q,{className:"w-5 h-5 text-blue-600"}),Ye.jsx("h4",{className:"font-semibold text-blue-900",children:"Resumo Rápido"}),Ye.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full",children:"Para leitores apressados"})]}),Ye.jsx("div",{className:"space-y-2",children:t.map((e,t)=>Ye.jsxs("div",{className:"flex items-start space-x-2",children:[Ye.jsx("span",{className:"text-blue-600 font-bold mt-1",children:"•"}),Ye.jsx("p",{className:"text-blue-900 text-sm leading-relaxed",children:e.substring(1).trim()})]},t))}),Ye.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:Ye.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-700",children:[Ye.jsxs("span",{children:["Tempo de leitura: ~",Math.ceil(.5*t.length)," min"]}),Ye.jsxs("span",{children:[t.length," pontos principais"]})]})})]})})()})]})};function rM(e){const t=["o","a","os","as","um","uma","uns","umas","de","da","do","das","dos","em","na","no","nas","nos","para","com","por","sobre","entre","sem","até","após","antes","durante","e","ou","mas","que","se","quando","onde","como","porque","então","já","ainda","mais","menos","muito","pouco","todo","toda","todos","todas","este","esta","estes","estas","esse","essa","esses","essas","aquele","aquela","aqueles","aquelas"];return e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(e=>e.length>2&&!t.includes(e)).map(e=>e.trim())}function nM(e,t){return e.filter(e=>!t.some(t=>function(e,t){const r=rM(e),n=rM(t);return r.some(e=>n.includes(e))}(e,t)))}async function aM(e){try{return await async function(e){var t,r;try{const n=await fetch("/api/ai/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:"Você é um especialista em jornalismo brasileiro. Responda sempre em português, seja direto e objetivo."},{role:"user",content:e}],max_tokens:300,temperature:.7})});if(!n.ok){const e=await n.text();throw new Error(`Erro na API Groq: ${n.status} - ${e}`)}return(null==(r=null==(t=(await n.json()).choices[0])?void 0:t.message)?void 0:r.content)||""}catch(n){throw n}}(e)}catch(t){return function(e){const t=e.toLowerCase();if(t.includes("título"))return"Título Sugerido\nNovo Desenvolvimento\nÚltimas Notícias";if(t.includes("subtítulo"))return"Entenda os principais detalhes\nConfira as informações completas\nSaiba mais sobre o assunto";if(t.includes("chapéu"))return"NOTÍCIAS\nATUALIDADES\nDESTAQUE";return"Sugestão gerada localmente"}(e)}}const iM=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=s(),{user:t}=At(),{id:r}=h(),[n,a]=o.useState(!1),[i,c]=o.useState(0),[u,d]=o.useState(!1),[p,f]=o.useState(["editoriais"]),[m,g]=o.useState(["geral"]),[y,b]=o.useState(!1),[w,N]=o.useState(!1),[A,P]=o.useState(null),[k,E]=o.useState(null),[T,C]=o.useState(null),[M,_]=o.useState(!1),[I,D]=o.useState({titulos:[],subtitulos:[],chapeus:[]}),[R,L]=o.useState({categoria:"geral",subcategoria:"geral",municipio:"",titulo:"",subtitulo:"",autor:(null==t?void 0:t.name)||"",fonte:"","chapéu":"",resumo:"",conteudo:"",imagemDestaque:null,posicao:"geral",agendamento:null,tags:[],whatsappAuto:!0,pushAuto:!0,igCardAuto:!1,audioAuto:!1});o.useEffect(()=>{if((R.titulo||R.conteudo)&&!r&&!w){a(!0);const e=setTimeout(()=>{a(!1),V()},8e3);return()=>clearTimeout(e)}},[R.titulo,R.conteudo,R.subtitulo,R.resumo,r,w]),o.useEffect(()=>{const e=R.conteudo.split(" ").filter(e=>e.length>0).length;c(e)},[R.conteudo]);const B={editoriais:{nome:"Editoriais",icon:v,color:"bg-blue-500",subcategorias:[{value:"policia",label:"Polícia"},{value:"politica",label:"Política"},{value:"esporte",label:"Esporte"},{value:"entretenimento",label:"Entretenimento"},{value:"geral",label:"Geral"}]},municipios:{nome:"Municípios",icon:ze,color:"bg-green-500",subcategorias:[{value:"piripiri",label:"Piripiri"},{value:"pedro-ii",label:"Pedro II"},{value:"brasileira",label:"Brasileira"},{value:"lagoa-de-sao-francisco",label:"Lagoa de São Francisco"},{value:"piracuruca",label:"Piracuruca"},{value:"sao-jose-do-divino",label:"São José do Divino"},{value:"domingos-mourao",label:"Domingos Mourão"},{value:"capitao-de-campos",label:"Capitão de Campos"},{value:"cocal-de-telha",label:"Cocal de Telha"},{value:"milton-brandao",label:"Milton Brandão"},{value:"teresina",label:"Teresina"},{value:"boa-hora",label:"Boa Hora"}]},especiais:{nome:"Especiais",icon:oe,color:"bg-purple-500",subcategorias:[{value:"investigacao",label:"Investigação"},{value:"series-especiais",label:"Séries Especiais"},{value:"entrevistas",label:"Entrevistas"},{value:"grandes-reportagens",label:"Grandes Reportagens"},{value:"documentarios",label:"Documentários"}]}};o.useEffect(()=>{(async()=>{if(r){N(!0);try{const e=await mt(r);if(e&&(C(r),L({categoria:e.categoria,subcategoria:e.categoria||"geral",municipio:"",titulo:e.titulo,subtitulo:e.subtitulo||"",autor:e.autor,fonte:"","chapéu":e.chapeu||"",resumo:e.resumo||"",conteudo:e.conteudo,imagemDestaque:e.imagemUrl||null,posicao:e.posicao||"geral",agendamento:null,tags:[],whatsappAuto:!0,pushAuto:!0,igCardAuto:!1,audioAuto:!1}),e.categoria)){const t=e.categoria.toLowerCase();t.includes("polici")||t.includes("segur")?(f(["editoriais"]),g(["policia"])):t.includes("politic")?(f(["editoriais"]),g(["politica"])):t.includes("esport")?(f(["editoriais"]),g(["esporte"])):(f(["editoriais"]),g(["geral"]))}}catch(e){P("Erro ao carregar matéria para edição")}finally{N(!1)}}})()},[r]);const z=[{value:"supermanchete",label:"Super Manchete",icon:oe,description:"Destaque principal da página"},{value:"destaque",label:"Destaque",icon:Y,description:"Seção de destaques"},{value:"geral",label:"Geral",icon:v,description:"Seção de notícias gerais"},{value:"municipios",label:"Municípios",icon:ze,description:"Seção de municípios"}],q=R.titulo&&R.conteudo&&R.autor&&m.length>0,G=(e,t)=>{L(r=>({...r,[e]:t})),"igCardAuto"===e&&!0===t&&R.titulo&&UC.addToQueue(T||`draft_${Date.now()}`,R.titulo,R.chapéu),"igCardAuto"===e&&!1===t&&T&&UC.removeFromQueue(T)},V=async()=>{if(R.titulo)try{b(!0),P(null);let e="geral";m.includes("policia")?e="policia":m.includes("politica")?e="politica":m.includes("esporte")?e="esporte":m.includes("entretenimento")?e="entretenimento":m.includes("geral")?e="geral":m.some(e=>["piripiri","pedro-ii","brasileira","lagoa-de-sao-francisco","piracuruca","sao-jose-do-divino","domingos-mourao","capitao-de-campos","cocal-de-telha","milton-brandao","teresina","boa-hora"].includes(e))?e="municipios":m.some(e=>["investigacao","series-especiais","entrevistas","grandes-reportagens","documentarios"].includes(e))&&(e="especiais");const t={id:T||void 0,titulo:R.titulo,subtitulo:R.subtitulo,autor:R.autor,conteudo:R.conteudo,chapeu:R.chapéu,categoria:e,posicao:R.posicao,dataPublicacao:(new Date).toISOString(),imagemUrl:R.imagemDestaque};let r;T?r=await yt(T,t):(r=await gt(t),C(r.id)),E("Rascunho salvo com sucesso!"),setTimeout(()=>E(null),3e3)}catch(e){P("Erro ao salvar rascunho. Tente novamente.")}finally{b(!1)}},W=async()=>{if(q)try{b(!0),P(null);let t="geral";m.includes("policia")?t="policia":m.includes("politica")?t="politica":m.includes("esporte")?t="esporte":m.includes("entretenimento")?t="entretenimento":m.includes("geral")?t="geral":m.some(e=>["piripiri","pedro-ii","brasileira","lagoa-de-sao-francisco","piracuruca","sao-jose-do-divino","domingos-mourao","capitao-de-campos","cocal-de-telha","milton-brandao","teresina","boa-hora"].includes(e))?t="municipios":m.some(e=>["investigacao","series-especiais","entrevistas","grandes-reportagens","documentarios"].includes(e))&&(t="especiais");const r={id:T||void 0,titulo:R.titulo,subtitulo:R.subtitulo,autor:R.autor,conteudo:R.conteudo,chapeu:R.chapéu,resumo:R.resumo,categoria:t,posicao:R.posicao,dataPublicacao:(new Date).toISOString(),imagemUrl:R.imagemDestaque};let n;n=T?await yt(T,r):await gt(r),E("Matéria publicada com sucesso!"),setTimeout(()=>{e("/admin/materias")},1500)}catch(t){P("Erro ao publicar matéria. Tente novamente.")}finally{b(!1)}},H=e=>{if(!e)return"";try{const t=document.createElement("div");t.innerHTML=e;t.querySelectorAll("p, br, div, h1, h2, h3, h4, h5, h6").forEach((e,t)=>{if("BR"===e.tagName)e.replaceWith("\n");else{const t=e.textContent||"";t.trim()&&e.replaceWith(t+"\n")}});return(t.textContent||t.innerText||"").trim()}catch(t){return e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim()}},X=(e,t)=>{G(e,t),setTimeout(()=>{D({titulos:[],subtitulos:[],chapeus:[]})},2e3)};return w?Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 font-body flex items-center justify-center",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),Ye.jsx("p",{className:"text-gray-600",children:"Carregando matéria para edição..."})]})}):Ye.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 font-body",children:[Ye.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:Ye.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx(l,{to:"/admin?tab=materias",className:"text-gray-600 hover:text-gray-900",children:Ye.jsx(Re,{className:"w-5 h-5"})}),Ye.jsx("div",{children:Ye.jsx("h1",{className:"text-lg font-bold text-gray-900",children:r?"Editando Matéria":"Nova Matéria"})})]}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[n&&!r&&Ye.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[Ye.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Salvando..."]}),y&&Ye.jsxs("span",{className:"text-xs text-blue-600 flex items-center gap-1",children:[Ye.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),"Processando..."]}),k&&Ye.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[Ye.jsx(U,{className:"w-3 h-3"}),k]}),A&&Ye.jsxs("span",{className:"text-xs text-red-600 flex items-center gap-1",children:[Ye.jsx(F,{className:"w-3 h-3"}),A]}),Ye.jsx("button",{onClick:async()=>{try{if(!R.conteudo||R.conteudo.length<100){return void P("Escreva pelo menos 100 caracteres no conteúdo para gerar sugestões de IA")}const t=H(R.conteudo).trim();if(t.length<100){const e=`O conteúdo deve ter pelo menos 100 caracteres de texto (sem formatação). Atual: ${t.length} caracteres.`;return void P(e)}_(!0),P(null);try{const e=await async function(e,t=75,r,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- NUNCA invente informações que não estão no texto\n- Use APENAS os fatos presentes no conteúdo fornecido\n- NÃO adicione detalhes, números ou nomes que não existem no texto original\n- Seja factual e preciso, sem especulação\n- IMPORTANTE: Use palavras DIFERENTES do subtítulo e chapéu existentes\n\n${r?`SUBTÍTULO EXISTENTE: "${r}" - NÃO repita estas palavras`:""}\n${n?`CHAPÉU EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nBaseado ESTRITAMENTE no seguinte conteúdo jornalístico, gere 3 títulos informativos.\nCada título deve ter no máximo ${t} caracteres.\nUse APENAS as informações que estão explicitamente no texto.\nUse palavras COMPLEMENTARES, não repetitivas.\n\nConteúdo:\n${e.substring(0,1e3)}\n\nResponda apenas com os 3 títulos, um por linha, sem numeração:\n`;try{let e=(await aM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().substring(0,t));const i=[r,n].filter(Boolean);if(i.length>0){const t=nM(e,i);t.length>0&&(e=t)}return e}catch(A){const n=function(e,t){const r=e.split(".")[0].split(" ").slice(0,8);return[r.slice(0,6).join(" "),`Novo: ${r.slice(1,6).join(" ")}`,`${r.slice(0,5).join(" ")} em destaque`].map(e=>e.length>t?e.substring(0,t-3)+"...":e)}(e,t);return n}}(t,75,R.subtitulo,R.chapéu),r=await async function(e,t,r=120,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- NUNCA invente informações que não estão no texto\n- Use APENAS os fatos presentes no conteúdo fornecido\n- NÃO adicione detalhes, números ou nomes que não existem no texto original\n- Seja factual e preciso, complementando o título sem especular\n- IMPORTANTE: Use palavras DIFERENTES do título e chapéu existentes\n\nTÍTULO EXISTENTE: "${t}" - NÃO repita estas palavras\n${n?`CHAPÉU EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nPara o título "${t}", gere 3 subtítulos jornalísticos que complementem a informação.\nCada subtítulo deve ter no máximo ${r} caracteres.\nUse APENAS as informações que estão explicitamente no conteúdo abaixo.\nUse palavras COMPLEMENTARES ao título, não repetitivas.\n\nConteúdo:\n${e.substring(0,1e3)}\n\nResponda apenas com os 3 subtítulos, um por linha, sem numeração:\n`;try{let e=(await aM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().substring(0,r));const i=nM(e,[t,n].filter(Boolean));return i.length>0&&(e=i),e}catch(A){return function(e,t,r){return[`Entenda os detalhes sobre ${e.split(" ").slice(0,10).slice(0,4).join(" ").toLowerCase()}`,"Confira as principais informações do caso","Saiba mais sobre os desdobramentos"].map(e=>e.length>r?e.substring(0,r-3)+"...":e)}(e,0,r)}}(t,R.titulo,120,R.chapéu),n=await async function(e,t=20,r,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- Analise APENAS o conteúdo fornecido\n- NÃO invente palavras que não se relacionam ao texto\n- Chapéu é uma CHAMADA ou PALAVRA-CHAVE sobre o assunto principal\n- IMPORTANTE: Use palavras DIFERENTES do título e subtítulo existentes\n\n${r?`TÍTULO EXISTENTE: "${r}" - NÃO repita estas palavras`:""}\n${n?`SUBTÍTULO EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nBaseado ESTRITAMENTE no conteúdo jornalístico abaixo, gere 3 opções de chapéu.\nCHAPÉU = palavra ou duas palavras que resumem o ASSUNTO PRINCIPAL da matéria.\nCada chapéu deve ter no máximo ${t} caracteres.\nUse palavras COMPLEMENTARES ao título e subtítulo, não repetitivas.\n\nExemplos de bons chapéus:\n- "EDUCAÇÃO" (para matéria sobre escolas)\n- "TRÂNSITO" (para matéria sobre vias)\n- "SAÚDE" (para matéria sobre hospitais)\n- "OBRAS" (para matéria sobre construções)\n- "ELEIÇÕES" (para matéria sobre política eleitoral)\n\nConteúdo:\n${e.substring(0,800)}\n\nResponda apenas com os 3 chapéus em MAIÚSCULAS, um por linha, sem numeração:\n`;try{let e=(await aM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().toUpperCase().substring(0,t));const i=[r,n].filter(Boolean);if(i.length>0){const t=nM(e,i);t.length>0&&(e=t)}return e}catch(A){return function(e){const t=e.toLowerCase();return t.includes("prefeito")||t.includes("prefeitura")||t.includes("governo municipal")?["PREFEITURA","GOVERNO","GESTÃO"]:t.includes("escola")||t.includes("educação")||t.includes("professor")?["EDUCAÇÃO","ENSINO","ESCOLA"]:t.includes("hospital")||t.includes("saúde")||t.includes("médico")?["SAÚDE","MEDICINA","HOSPITAL"]:t.includes("obra")||t.includes("construção")||t.includes("pavimentação")?["OBRAS","INFRAESTRUTURA","CONSTRUÇÃO"]:t.includes("polícia")||t.includes("crime")||t.includes("segurança")?["SEGURANÇA","POLÍCIA","CRIME"]:t.includes("eleição")||t.includes("candidato")||t.includes("voto")?["ELEIÇÕES","POLÍTICA","CANDIDATOS"]:t.includes("trânsito")||t.includes("rua")||t.includes("avenida")?["TRÂNSITO","VIAS","MOBILIDADE"]:["NOTÍCIAS","CIDADE","COMUNIDADE"]}(e)}}(t,20,R.titulo,R.subtitulo);e.some(e=>e.includes("Título Sugerido")||e.includes("Novo Desenvolvimento"))||r.some(e=>e.includes("Entenda os principais"))||n.some(e=>e.includes("NOTÍCIAS")||e.includes("DESTAQUE"));D({titulos:e,subtitulos:r,chapeus:n}),E("Sugestões de IA geradas com sucesso!"),setTimeout(()=>E(null),3e3)}catch(e){throw e}}catch(t){P(`Erro ao gerar sugestões de IA: ${t instanceof Error?t.message:"Erro desconhecido"}`)}finally{_(!1)}},disabled:M||!R.conteudo||H(R.conteudo).trim().length<100,className:"flex items-center gap-2 px-4 py-1.5 bg-gradient-to-r from-purple-600 to-blue-600 text-white text-sm rounded-full hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",title:(()=>{if(!R.conteudo)return"Escreva o conteúdo da matéria primeiro";const e=H(R.conteudo).trim().length;return`Gerar sugestões de IA\nConteúdo HTML: ${R.conteudo.length} chars\nTexto limpo: ${e} chars\nMínimo necessário: 100 chars\nStatus: ${e>=100?"✅ Pronto":"❌ Insuficiente"}`})(),children:M?Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(j,{className:"w-3 h-3 animate-spin"}),"Gerando IA..."]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(ke,{className:"w-3 h-3"}),"IA Sugestões"]})}),Ye.jsxs("button",{onClick:V,className:"px-3 py-1.5 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded text-sm flex items-center gap-1",children:[Ye.jsx(Z,{className:"w-3 h-3"}),"Salvar"]}),Ye.jsxs("button",{onClick:W,disabled:!q||y,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white px-4 py-1.5 rounded flex items-center gap-1 font-medium text-sm transition-colors",children:[Ye.jsx(Le,{className:"w-3 h-3"}),"Publicar"]})]})]})})}),Ye.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[Ye.jsx("div",{className:"mb-4",children:Ye.jsxs("details",{className:"bg-white rounded-lg shadow-sm border border-gray-200",open:!r,children:[Ye.jsxs("summary",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50 font-medium text-gray-900 flex items-center justify-between",children:[Ye.jsxs("span",{className:"flex items-center gap-2",children:[Ye.jsx(Be,{className:"w-4 h-4 text-blue-500"}),"Categorização"]}),Ye.jsx("span",{className:"text-xs text-gray-500",children:m.length>0?`${m.length} selecionada(s)`:"Clique para configurar"})]}),Ye.jsx("div",{className:"px-4 pb-4 space-y-3",children:Ye.jsxs("div",{children:[Ye.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(B).map(([e,t])=>Ye.jsxs("button",{onClick:()=>{return t=e,void f(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"px-3 py-1.5 rounded-full border text-xs font-medium transition-all flex items-center gap-1.5 "+(p.includes(e)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300 hover:bg-blue-50 bg-white text-gray-700"),children:[Ye.jsx(t.icon,{className:"w-3 h-3"}),t.nome]},e))}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:p.map(e=>{const t=B[e];return Ye.jsxs("div",{className:"space-y-2",children:[Ye.jsxs("h4",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:[Ye.jsx(t.icon,{className:"w-3 h-3"}),t.nome]}),Ye.jsx("div",{className:"space-y-1",children:t.subcategorias.map(t=>Ye.jsx("button",{onClick:()=>((e,t)=>{g(r=>{const n=B[t].subcategorias.map(e=>e.value),a=r.filter(e=>!n.includes(e));return r.includes(e)?a:[...a,e]})})(t.value,e),className:"w-full text-left px-3 py-1.5 rounded text-xs transition-all "+(m.includes(t.value)?"bg-green-100 text-green-800 border border-green-300":"bg-gray-50 hover:bg-green-50 text-gray-700 border border-transparent"),children:t.label},t.value))})]},e)})})]})})]})}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[Ye.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[Ye.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Título ",Ye.jsx("span",{className:"text-red-500",children:"*"})]}),Ye.jsx("input",{type:"text",value:R.titulo,onChange:e=>G("titulo",e.target.value),placeholder:"Digite um título chamativo e claro",className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-base transition-all "+(R.titulo.length>=10&&R.titulo.length<=80?"border-green-300 bg-green-50":R.titulo?"border-red-300 bg-red-50":"border-gray-300"),maxLength:80}),Ye.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[Ye.jsxs("span",{children:["r10piaui.com.br/",(K=R.titulo,K.toLowerCase().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-")||"titulo-da-materia")]}),Ye.jsxs("span",{className:R.titulo.length>70?"text-red-600":"",children:[R.titulo.length,"/80"]})]}),I.titulos.length>0&&Ye.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded-lg border border-purple-200",children:[Ye.jsxs("div",{className:"text-xs font-medium text-purple-800 mb-2 flex items-center gap-1",children:[Ye.jsx(ke,{className:"w-3 h-3"}),"Sugestões de Títulos"]}),Ye.jsx("div",{className:"space-y-1",children:I.titulos.map((e,t)=>Ye.jsx("button",{onClick:()=>X("titulo",e),className:"w-full text-left p-2 bg-white rounded border hover:border-purple-300 transition-colors text-sm",children:e},t))})]})]}),Ye.jsxs("div",{children:[Ye.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Subtítulo ",Ye.jsx("span",{className:"text-red-500",children:"*"})]}),Ye.jsx("input",{type:"text",value:R.subtitulo,onChange:e=>G("subtitulo",e.target.value),placeholder:"Digite um subtítulo para complementar o título",className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-base transition-all "+(R.subtitulo.length>=15&&R.subtitulo.length<=120?"border-green-300 bg-green-50":R.subtitulo?"border-red-300 bg-red-50":"border-gray-300"),maxLength:120}),Ye.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[Ye.jsx("span",{children:"Complementa o título principal"}),Ye.jsxs("span",{className:R.subtitulo.length>100?"text-red-600":"",children:[R.subtitulo.length,"/120"]})]}),I.subtitulos.length>0&&Ye.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg border border-blue-200",children:[Ye.jsxs("div",{className:"text-xs font-medium text-blue-800 mb-2 flex items-center gap-1",children:[Ye.jsx(ke,{className:"w-3 h-3"}),"Sugestões de Subtítulos"]}),Ye.jsx("div",{className:"space-y-1",children:I.subtitulos.map((e,t)=>Ye.jsx("button",{onClick:()=>X("subtitulo",e),className:"w-full text-left p-2 bg-white rounded border hover:border-blue-300 transition-colors text-sm",children:e},t))})]})]})]})}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Ye.jsxs("label",{className:"text-sm font-medium text-gray-900",children:["Conteúdo da Matéria ",Ye.jsx("span",{className:"text-red-500",children:"*"})]}),Ye.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[Ye.jsxs("span",{children:[i," palavras"]}),Ye.jsxs("span",{children:["~",Math.ceil(i/200)," min"]})]})]}),Ye.jsx(QC,{value:R.conteudo,onChange:e=>G("conteudo",e),placeholder:"Digite o conteúdo da matéria aqui..."})]})]}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[Ye.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Informações Básicas"}),Ye.jsxs("div",{className:"space-y-3",children:[Ye.jsxs("div",{children:[Ye.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Chapéu ",Ye.jsx("span",{className:"text-red-500",children:"*"})]}),Ye.jsx(ZC,{value:R.chapéu,onChange:e=>G("chapéu",e),isValid:R.chapéu.length>=3&&R.chapéu.length<=15}),I.chapeus.length>0&&Ye.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded-lg border border-green-200",children:[Ye.jsxs("div",{className:"text-xs font-medium text-green-800 mb-2 flex items-center gap-1",children:[Ye.jsx(ke,{className:"w-3 h-3"}),"Sugestões de Chapéus"]}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:I.chapeus.map((e,t)=>Ye.jsx("button",{onClick:()=>X("chapéu",e),className:"px-2 py-1 bg-white rounded border hover:border-green-300 transition-colors text-xs font-medium",children:e},t))})]})]}),Ye.jsxs("div",{children:[Ye.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Autor ",Ye.jsx("span",{className:"text-red-500",children:"*"})]}),Ye.jsxs("select",{value:R.autor,onChange:e=>G("autor",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500",children:[Ye.jsx("option",{value:(null==t?void 0:t.name)||"",children:(null==t?void 0:t.name)||"Selecione"}),Ye.jsx("option",{value:"Redação R10 Piauí",children:"Redação R10 Piauí"})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Fonte"}),Ye.jsx("input",{type:"text",value:R.fonte,onChange:e=>G("fonte",e.target.value),placeholder:"Ex: Agência Brasil",className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Posição na Home"}),Ye.jsx("select",{value:R.posicao,onChange:e=>G("posicao",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500",children:z.map(e=>Ye.jsx("option",{value:e.value,children:e.label},e.value))})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[Ye.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Resumo"}),Ye.jsx(tM,{value:R.resumo,onChange:e=>G("resumo",e),content:R.conteudo})]}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[Ye.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Imagem de Destaque"}),Ye.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-purple-400 transition-colors cursor-pointer bg-gray-50",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},children:[R.imagemDestaque?Ye.jsxs("div",{className:"relative",children:[Ye.jsx("img",{src:R.imagemDestaque,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),Ye.jsx("button",{onClick:e=>{e.stopPropagation(),G("imagemDestaque",null)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:Ye.jsx($,{className:"w-4 h-4"})})]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(S,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Clique para fazer upload"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, WebP - Máx. 5MB"})]}),Ye.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/*",onChange:e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){const e=new FileReader;e.onload=e=>{var t;G("imagemDestaque",null==(t=e.target)?void 0:t.result)},e.readAsDataURL(r)}}})]})]})]})]}),Ye.jsx("div",{className:"mb-4",children:Ye.jsxs("details",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[Ye.jsxs("summary",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50 font-medium text-gray-900 flex items-center justify-between",children:[Ye.jsxs("span",{className:"flex items-center gap-2",children:[Ye.jsx(ce,{className:"w-4 h-4 text-purple-500"}),"Recursos Avançados"]}),Ye.jsx("span",{className:"text-xs text-gray-500",children:"Tags, Distribuição, Agendamento"})]}),Ye.jsxs("div",{className:"px-4 pb-4",children:[Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags com IA"}),Ye.jsx(eM,{title:R.titulo,content:R.conteudo,tags:R.tags,onTagsChange:e=>G("tags",e)})]}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Agendamento"}),Ye.jsx("input",{type:"datetime-local",value:R.agendamento||"",onChange:e=>G("agendamento",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-purple-500"}),R.agendamento&&Ye.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["📅 Será publicado em: ",new Date(R.agendamento).toLocaleString("pt-BR")]})]})]}),Ye.jsxs("div",{className:"mt-4",children:[Ye.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Distribuição Automática"}),Ye.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[{key:"whatsappAuto",icon:pe,title:"WhatsApp",color:"bg-green-500"},{key:"pushAuto",icon:x,title:"Push",color:"bg-blue-500"},{key:"igCardAuto",icon:O,title:"Instagram",color:"bg-pink-500"},{key:"audioAuto",icon:$e,title:"Áudio",color:"bg-purple-500"}].map(e=>Ye.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[Ye.jsx("div",{className:`${e.color} p-1 rounded`,children:Ye.jsx(e.icon,{className:"w-3 h-3 text-white"})}),Ye.jsx("span",{className:"text-sm flex-1",children:e.title}),Ye.jsx("input",{type:"checkbox",checked:R[e.key],onChange:t=>G(e.key,t.target.checked),className:"rounded"})]},e.key))})]})]})]})}),Ye.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-3 -mx-4 shadow-lg",children:Ye.jsxs("div",{className:"max-w-6xl mx-auto flex gap-2",children:[Ye.jsxs("button",{onClick:V,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 px-3 rounded font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[Ye.jsx(Z,{className:"w-4 h-4"}),"Salvar Rascunho"]}),Ye.jsxs("button",{onClick:W,disabled:!q||y,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white py-2 px-3 rounded font-medium transition-colors flex items-center justify-center gap-2 text-sm",children:[Ye.jsx(Le,{className:"w-4 h-4"}),R.agendamento?"Agendar":"Publicar"]})]})})]})]});var K}},Symbol.toStringTag,{value:"Module"}));export{Pt as A,IC as B,IE as C,JC as D,_C as L,DC as P,Lf as R,uf as T,OT as X,DT as Y,vt as a,Ot as b,Tt as c,_t as d,mt as e,Je as f,ht as g,tt as h,jt as i,Ye as j,RC as k,it as l,fT as m,JE as n,kP as o,uA as p,Bf as q,xt as r,ot as s,iM as t,At as u};
