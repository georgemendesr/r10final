var e,t,r=Object.defineProperty,n=(e,t,n)=>((e,t,n)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);import{r as a,u as i,L as o,c as s,g as l,R as c,a as u,b as d,d as f}from"./vendor-Bfak-lhW.js";import{H as p,E as h,C as m,F as g,B as y,L as x,R as v,P as b,S as j,I as w,a as N,b as O,c as S,T as A,U as P,d as k,e as E,M as T,f as C,g as M,G as _,h as I,D,i as R,j as L,X as z,k as B,l as $,m as q,A as U,n as F,o as G,p as V,q as W,r as H,s as X,t as K,u as Y,v as J,w as Q,x as Z,y as ee,z as te,J as re,K as ne,N as ae,O as ie,Q as oe,V as se,Z as le,W as ce,Y as ue,_ as de,$ as fe,a0 as pe,a1 as he,a2 as me,a3 as ge,a4 as ye,a5 as xe,a6 as ve,a7 as be,a8 as je,a9 as we,aa as Ne,ab as Oe,ac as Se,ad as Ae,ae as Pe,af as ke,ag as Ee,ah as Te,ai as Ce,aj as Me,ak as _e,al as Ie,am as De,an as Re,ao as Le,ap as ze,aq as Be,ar as $e}from"./icons-BUd8i-O7.js";var qe={exports:{}},Ue={},Fe=a,Ge=Symbol.for("react.element"),Ve=Symbol.for("react.fragment"),We=Object.prototype.hasOwnProperty,He=Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0};function Ke(e,t,r){var n,a={},i=null,o=null;for(n in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(o=t.ref),t)We.call(t,n)&&!Xe.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:Ge,type:e,key:i,ref:o,props:a,_owner:He.current}}Ue.Fragment=Ve,Ue.jsx=Ke,Ue.jsxs=Ke,qe.exports=Ue;var Ye=qe.exports;const Je=(null==(t=null==(e=import.meta)?void 0:e.env)?void 0:t.VITE_API_BASE_URL)||"/api";function Qe(){try{const e=localStorage.getItem("r10_auth");if(!e)return null;const t=JSON.parse(e);return(null==t?void 0:t.token)||null}catch(e){return null}}function Ze(){return Qe()}async function et(){try{const t=await fetch(`${Je}/auth/refresh`,{method:"POST",credentials:"include"});if(!t.ok)return!1;try{const e=await t.json().catch(()=>null);e&&e.token&&function(e){try{const t=localStorage.getItem("r10_auth"),r={...t?JSON.parse(t):{},token:e,isAuthenticated:!!e};localStorage.setItem("r10_auth",JSON.stringify(r))}catch(t){}}(String(e.token))}catch(e){}return!0}catch(e){return!1}}async function tt(e,t){if(!e.ok){if(401===e.status&&(null==t?void 0:t.silent401)){const t=new Error(`HTTP ${e.status}`);throw t.status=e.status,t.body="",t}const r=await e.text().catch(()=>""),n=new Error(`HTTP ${e.status}`);throw n.status=e.status,n.body=r,n}return e.json()}async function rt(e,t){const r=Date.now(),n=`${Je}${e}`,a=`GET:${n}`;window.__r10_inflight||(window.__r10_inflight=new Map);const i=window.__r10_inflight,o=i.get(a);if(o){if(r-o.ts<300)return o.p;i.delete(a)}const s=`${n}${n.includes("?")?"&":"?"}_ts=${r}`,l=Qe(),c=(async()=>{try{let e=await fetch(s,{headers:{"Cache-Control":"no-cache",...l?{Authorization:`Bearer ${l}`}:{}},credentials:"include"});if(401===e.status&&(null==t?void 0:t.silent401)){const e=new Error("Unauthorized");throw e.status=401,e}if(401===e.status){if(await et()){const t=Qe();e=await fetch(s,{headers:{"Cache-Control":"no-cache",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"})}}return await tt(e,t)}finally{setTimeout(()=>{i.delete(a)},50)}})();return i.set(a,{p:c,ts:r}),c}async function nt(e,t){const r=`${Je}${e}`,n=Qe();let a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"});if(401===a.status){if(await et()){const e=Qe();a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"})}}return tt(a)}async function at(e,t){const r=`${Je}${e}`,n=Qe();let a=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"});if(401===a.status){if(await et()){const e=Qe();a=await fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:t?JSON.stringify(t):void 0,credentials:"include"})}}return tt(a)}async function it(e){const t=`${Je}${e}`,r=Qe();let n=await fetch(t,{method:"DELETE",credentials:"include",headers:{...r?{Authorization:`Bearer ${r}`}:{}}});if(401===n.status){if(await et()){const e=Qe();n=await fetch(t,{method:"DELETE",credentials:"include",headers:{...e?{Authorization:`Bearer ${e}`}:{}}})}}return tt(n)}async function ot(e=!0){const t=e?"/banners":"/banners/public";return(await rt(t)).items||[]}function st(e,t){const r=new Date,n=t.filter(t=>t.posicao===e).filter(e=>"pausado"!==e.status).filter(e=>{const t=e.dataInicio?new Date(e.dataInicio):null,n=e.dataFim?new Date(e.dataFim):null;return!(t&&r<t)&&(!(n&&r>n)&&(!(e.impressoesMax&&e.impressoesAtuais>=e.impressoesMax)&&!(e.cliquesMax&&e.cliquesAtuais>=e.cliquesMax)))}).sort((e,t)=>e.prioridade-t.prioridade);if(!n.length)return null;return n[Math.floor(Date.now()/1e4)%n.length]}async function lt(e){try{await nt(`/banners/${e}/impressao`,{})}catch(t){}}async function ct(e){try{await nt(`/banners/${e}/clique`,{})}catch(t){}}function ut(){try{const e=JSON.parse(localStorage.getItem("r10.offline.posts2025.v5")||'{"items":[]}');return Array.isArray(e.items)?e.items:[]}catch{return[]}}function dt(e){return{supermanchete:"supermanchete","super-manchete":"supermanchete",super:"supermanchete",destaque:"destaque",destaques:"destaque","manchete-principal":"destaque",geral:"geral",noticia:"geral",noticias:"geral","noticia-comum":"geral",municipios:"municipios",municipio:"municipios","municípios":"municipios"}[String(e||"").normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase().trim()]||e}let ft=!1;const pt="/api",ht=(()=>{var e;if(/^https?:\/\//i.test(pt))try{return new URL(pt).origin}catch(t){try{return new URL(pt.replace(/\/$/,"")).origin}catch(r){}}return"undefined"!=typeof window&&(null==(e=window.location)?void 0:e.origin)?window.location.origin:""})(),mt=e=>{if(!e)return"";const t=String(e).trim();return t?/^data:image\//i.test(t)||/^https?:\/\//i.test(t)?t:t.startsWith("//")?`https:${t}`:t.startsWith("/")?ht?`${ht}${t}`:t:ht?`${ht}/${t.replace(/^\/+/,"")}`:t:""};const gt=e=>{var t;const r=e.publishedAt||e.dataPublicacao||(new Date).toISOString(),n=e.autor||"R10 Piauí",a=e.categoria||"Geral",i=mt(e.imagemUrl||e.imagem||"");return{id:(null==(t=e.id)?void 0:t.toString())||"",titulo:e.titulo||"",subtitulo:e.subtitulo||"",chapeu:e.chapeu||"",conteudo:e.conteudo||"",posicao:e.posicao||"noticia-comum",categoria:a,autor:n,dataPublicacao:r,imagemUrl:i,visualizacoes:e.visualizacoes||0,title:e.titulo||"",subtitle:e.subtitulo||"",content:"",author:n,publishDate:r,createdAt:r,updatedAt:r,imagemDestaque:i,subcategorias:[a],status:"published",tags:[a],resumo:e.subtitulo||"",fonte:"R10 Piauí Pulse",views:0,slug:e.slug||`${e.id}-${(e.titulo||"").toLowerCase().replace(/[^a-z0-9]/g,"-")}`}},yt=e=>{const t=e.publishedAt||e.dataPublicacao||(new Date).toISOString(),r=e.autor||"R10 Piauí",n=e.categoria||"Geral",a=mt(e.imagemUrl||e.imagemDestaque||e.imagem||e.image||"");return{id:e.id.toString(),titulo:e.titulo||e.title||"",subtitulo:e.subtitulo||e.subtitle||"",chapeu:e.chapeu||"",conteudo:e.conteudo||e.content||"",posicao:e.posicao||"noticia-comum",categoria:n,autor:r,dataPublicacao:t,imagemUrl:a,visualizacoes:e.visualizacoes||e.views||0,title:e.titulo||e.title||"",subtitle:e.subtitulo||e.subtitle||"",content:e.conteudo||e.content||"",author:r,publishDate:t,createdAt:t,updatedAt:t,imagemDestaque:a,subcategorias:[n],status:"published",tags:[n],resumo:e.resumo||"",fonte:"R10 Piauí Pulse",views:e.visualizacoes||e.views||0,slug:e.slug||`${e.id}-${(e.titulo||e.title||"").toLowerCase().replace(/[^a-z0-9]/g,"-")}`}};async function xt(e){const t=Number(e.page),r=Number(e.limit);try{const e=`${`${pt}/posts?page=${t}&limit=${r}`}&_ts=${Date.now()}`,n=await fetch(e,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!n.ok){ft=!0;const e=ut(),n=(t-1)*r,a=n+r,i=e.slice(n,a).map(gt),o=e.length;return{items:i,page:t,pages:Math.ceil(o/r),total:o,limit:r}}return function(e){let t=Array.isArray(e)?e:Array.isArray(null==e?void 0:e.items)?e.items:Array.isArray(null==e?void 0:e.posts)?e.posts:Array.isArray(null==e?void 0:e.data)?e.data:[];t=t.map(e=>yt(e));const r=Number((null==e?void 0:e.total)??(null==e?void 0:e.totalPosts)??t.length??0),n=Number((null==e?void 0:e.limit)??(null==e?void 0:e.postsPerPage)??(Array.isArray(e)?e.length:0)??0);return{items:t,page:Number((null==e?void 0:e.page)??(null==e?void 0:e.currentPage)??1),pages:Number((null==e?void 0:e.pages)??(null==e?void 0:e.totalPages)??(n?Math.ceil(r/n):1)),total:r,limit:n}}(await n.json())}catch(n){ft=!0;const e=ut(),a=(t-1)*r,i=a+r,o=e.slice(a,i).map(gt),s=e.length;return{items:o,page:t,pages:Math.ceil(s/r),total:s,limit:r}}}async function vt(e){try{const t=new URLSearchParams;(null==e?void 0:e.categoria)&&"todas"!==e.categoria&&t.append("categoria",e.categoria),(null==e?void 0:e.posicao)&&"todas"!==e.posicao&&t.append("posicao",e.posicao),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString());const r=`${pt}/posts${t.toString()?"?"+t.toString():""}`,n=`${r}${r.includes("?")?"&":"?"}_ts=${Date.now()}`,a=await fetch(n,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!a.ok)return ft=!0,ut().map(gt);const i=await a.json();return Array.isArray(i)?i.map(yt):i.items&&Array.isArray(i.items)?i.items.map(yt):[]}catch(t){return ft=!0,ut().map(gt)}}async function bt(e){try{const t=await fetch(`${pt}/posts/${e}?_ts=${Date.now()}&_cache=${Math.random()}`,{cache:"no-store",headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}});if(!t.ok){const t=ut().find(t=>{var r;return(null==(r=t.id)?void 0:r.toString())===e});return t?gt(t):null}const r=await t.json();return yt(r)}catch(t){const r=ut().find(t=>{var r;return(null==(r=t.id)?void 0:r.toString())===e});return r?gt(r):null}}async function jt(e){try{const t=await nt("/posts",e);return yt(t)}catch(t){return null}}async function wt(e,t){try{const r=await at(`/posts/${e}`,t);return yt(r)}catch(r){return null}}async function Nt(e,t){try{let r=await vt({posicao:e,limit:t});const n=dt(e);let a=r.filter(e=>dt(e.posicao||"")===n);return t&&t>0&&(a=a.slice(0,t)),0===a.length&&r.length>0&&(a=t&&t>0?r.slice(0,t):r),a}catch(r){return[]}}async function Ot(e){try{let t=await vt();return e&&e>0&&(t=t.slice(0,e)),t}catch(t){return[]}}async function St(e=5){try{const t=`${pt}/posts/most-read?limit=${e}`,r=await async function(e){const t=`${e}${e.includes("?")?"&":"?"}_ts=${Date.now()}`,r=await fetch(t,{cache:"no-store",headers:{"Cache-Control":"no-cache"}});if(!r.ok)throw new Error(`HTTP ${r.status}`);return r.json()}(t);return(Array.isArray(r)?r:Array.isArray(null==r?void 0:r.items)?r.items:Array.isArray(null==r?void 0:r.posts)?r.posts:[]).map(yt)}catch(t){return[]}}async function At(){try{(await fetch(`${pt}/health`)).ok}catch(e){}}const Pt="r10_users",kt=e=>{localStorage.setItem("r10_auth",JSON.stringify(e))},Et=()=>{if((()=>{const e=localStorage.getItem(Pt);return e?JSON.parse(e):[]})().length>0)return;const e=[{id:"1",name:"João Silva",email:"joao@r10piaui.com",role:"admin",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()},{id:"2",name:"Maria Santos",email:"maria@r10piaui.com",role:"editor",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()},{id:"3",name:"Carlos Oliveira",email:"carlos@r10piaui.com",role:"reporter",avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face",createdAt:(new Date).toISOString()}];var t;t=e,localStorage.setItem(Pt,JSON.stringify(t))},Tt=a.createContext(void 0),Ct=()=>{const e=a.useContext(Tt);if(!e)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return e},Mt=({children:e})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!1),[o,s]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("r10_auth");if(!e)return r(null),i(!1),void s(!1);const t=JSON.parse(e);if(null==t?void 0:t.isAuthenticated){const e=await(async()=>{var e,t;try{const e=await rt("/auth/me",{silent401:!0});return kt({user:e,isAuthenticated:!0}),e}catch(r){if(401===(null==r?void 0:r.status)||401===(null==(e=null==r?void 0:r.response)?void 0:e.status))return kt({user:null,isAuthenticated:!1}),null}try{const e=await nt("/auth/refresh");if(e&&e.user){const e=await rt("/auth/me",{silent401:!0});return kt({user:e,isAuthenticated:!0}),e}}catch(r){401!==(null==r?void 0:r.status)&&401!==(null==(t=null==r?void 0:r.response)?void 0:t.status)||kt({user:null,isAuthenticated:!1})}return null})();r(e),i(!!e)}else r(null),i(!1)}catch(e){null==e||e.status,r(null),i(!1)}finally{s(!1)}})()},[]);const l={user:t,isAuthenticated:n,isLoading:o,login:async(e,t)=>{s(!0);try{const n=await(async(e,t)=>{try{const n=await fetch(`${Je}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),credentials:"include"});if(n.ok){const e=await n.json(),t={user:e.user,isAuthenticated:!0};try{const t=localStorage.getItem("r10_auth"),r={...t?JSON.parse(t):{},token:(null==e?void 0:e.token)||null,user:e.user,isAuthenticated:!0};localStorage.setItem("r10_auth",JSON.stringify(r))}catch(r){}return kt(t),t}{const e=await n.text();throw new Error(e||"Erro ao fazer login")}}catch(n){throw n}})(e,t);r(n.user),i(n.isAuthenticated)}catch(n){throw n}finally{s(!1)}},logout:async()=>{s(!0);try{await(async()=>{try{await fetch(`${Je}/auth/logout`,{method:"POST",credentials:"include"})}catch(e){}try{const e=localStorage.getItem("r10_auth"),t={...e?JSON.parse(e):{},token:null};localStorage.setItem("r10_auth",JSON.stringify(t))}catch(e){}kt({user:null,isAuthenticated:!1})})(),r(null),i(!1)}catch(e){throw e}finally{s(!1)}}};return Ye.jsx(Tt.Provider,{value:l,children:e})},_t="r10_homepage_layout",It=[{id:"superManchete",name:"Super Manchete",enabled:!0},{id:"destaques",name:"Destaques (Hero Grid)",enabled:!0},{id:"noticiasGerais",name:"Notícias Gerais (com Banner)",enabled:!0},{id:"maisLidas",name:"Mais Lidas",enabled:!0},{id:"reacoes",name:"Reações dos Leitores",enabled:!0},{id:"r10Play",name:"R10 Play",enabled:!0},{id:"municipios",name:"Municípios",enabled:!0}],Dt=()=>{try{const e=localStorage.getItem(_t);if(e){const t=JSON.parse(e),r=new Set(t.map(e=>e.id)),n=It.filter(e=>!r.has(e.id));return[...t.map(e=>({...It.find(t=>t.id===e.id),...e})),...n]}return It}catch(e){return It}},Rt="r10_hero_grid_layout",Lt={original:{id:"original",name:"Layout Original",description:"Layout clássico com supermanchete + grid lateral",icon:"📰",component:"HeroGrid"},vertical:{id:"vertical",name:"Layout Vertical",description:"Manchete principal em destaque total + grid horizontal de 4 notícias",icon:"📋",component:"HeroGridVertical"},mosaico:{id:"mosaico",name:"Layout Mosaico",description:"Grid assimétrico estilo revista 2/3 + 1/3 + linha inferior",icon:"🎨",component:"HeroGridMosaico"},premium:{id:"premium",name:"Layout Premium",description:"Design magazine profissional com hero gigante + seção trending",icon:"🏆",component:"HeroGridPremium"}},zt=()=>{try{return localStorage.getItem(Rt)||"original"}catch(e){return"original"}},Bt=({notifications:e=0})=>{const{user:t,logout:r}=Ct(),n=i(),[o,s]=a.useState(!1),l=a.useRef(null);return a.useEffect(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),Ye.jsx("div",{className:"bg-white/80 backdrop-blur-sm shadow-sm border-b border-gray-200",children:Ye.jsx("div",{className:"max-w-[1250px] mx-auto px-6 py-6",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("div",{className:"flex items-center space-x-6",children:Ye.jsxs("div",{children:[Ye.jsxs("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:["Bom dia, ",(null==t?void 0:t.name.split(" ")[0])||"João","! 👋"]}),Ye.jsx("p",{className:"text-gray-600 mt-1",children:"Aqui está o resumo das suas atividades"})]})}),Ye.jsxs("div",{className:"flex items-center space-x-4",children:[Ye.jsxs("div",{className:"relative",ref:l,children:[Ye.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-xl border border-gray-200 p-2 shadow-sm",children:[Ye.jsxs("a",{href:"/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-3 py-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200 group",title:"Ver Site Principal",children:[Ye.jsx(p,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm font-medium",children:"Site"}),Ye.jsx(h,{className:"w-3 h-3 opacity-50 group-hover:opacity-100"})]}),Ye.jsx("div",{className:"w-px h-6 bg-gray-200"}),Ye.jsx("button",{onClick:()=>s(!o),className:"flex items-center space-x-2 px-3 py-2 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-all duration-200",title:"Mais Links",children:Ye.jsx(m,{className:"w-4 h-4 transition-transform duration-200 "+(o?"rotate-180":"")})})]}),o&&Ye.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white rounded-xl border border-gray-200 shadow-lg z-50",children:Ye.jsxs("div",{className:"p-2",children:[Ye.jsxs("a",{href:"/admin/nova-materia",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Ye.jsx(g,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm",children:"Nova Matéria"})]}),Ye.jsxs("a",{href:"/",target:"_blank",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Ye.jsx(p,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm",children:"Homepage"}),Ye.jsx(h,{className:"w-3 h-3 ml-auto"})]}),Ye.jsxs("a",{href:"/admin",className:"flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[Ye.jsx(y,{className:"w-4 h-4"}),Ye.jsx("span",{className:"text-sm",children:"Dashboard"})]})]})})]}),Ye.jsx("div",{className:"relative",children:Ye.jsxs("button",{className:"p-3 bg-gradient-to-r from-gray-100 to-gray-200 hover:from-gray-200 hover:to-gray-300 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md",children:[Ye.jsx(y,{className:"w-5 h-5 text-gray-600"}),e>0&&Ye.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center shadow-lg animate-pulse",children:e})]})}),Ye.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-xl p-2 border border-gray-200",children:[Ye.jsx("img",{src:(null==t?void 0:t.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:"Avatar",className:"w-10 h-10 rounded-xl border-2 border-white shadow-sm"}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-semibold text-gray-900 text-base",children:(null==t?void 0:t.name)||"Usuário"}),Ye.jsx("p",{className:"text-sm text-gray-500",children:"admin"===(null==t?void 0:t.role)?"Administrador":"editor"===(null==t?void 0:t.role)?"Editor":"reporter"===(null==t?void 0:t.role)?"Repórter":"Usuário"})]})]}),Ye.jsx("button",{onClick:async()=>{try{await r(),n("/login")}catch(e){}},className:"p-3 bg-red-50 text-red-600 hover:bg-red-100 rounded-xl transition-all duration-200 flex items-center space-x-2",title:"Sair",children:Ye.jsx(x,{className:"w-5 h-5"})})]})]})})})},$t={"SUPER MANCHETE":1,DESTAQUE:2,GERAL:4,MUNICIPIOS:5},qt=(e,t)=>{if("DESTAQUE"!==Ut(e.posicao))return!1;const r=t.filter(e=>"DESTAQUE"===Ut(e.posicao)).sort((e,t)=>{const r=new Date(e.dataPublicacao||e.publishedAt||0);return new Date(t.dataPublicacao||t.publishedAt||0).getTime()-r.getTime()});return r.length>0&&r[0].id===e.id},Ut=e=>{if(!e)return"GERAL";const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"SUPER MANCHETE":"destaque"===t||t.includes("destaque")?"DESTAQUE":t.includes("municip")?"MUNICIPIOS":"GERAL"},Ft=()=>{const[e,t]=a.useState([]),[r,n]=a.useState([]),[i,s]=a.useState(""),[l,c]=a.useState("todas"),[u,d]=a.useState("todas"),[f,p]=a.useState("todos"),[h,m]=a.useState(!0),{user:y}=Ct(),x="admin"===(null==y?void 0:y.role)||"editor"===(null==y?void 0:y.role),P="admin"===(null==y?void 0:y.role)||"editor"===(null==y?void 0:y.role),k="admin"===(null==y?void 0:y.role),E=async()=>{try{m(!0);const r=await vt(),a=(e=r,Array.isArray(e)?e:(null==e?void 0:e.posts)&&Array.isArray(e.posts)?e.posts:(null==e?void 0:e.items)&&Array.isArray(e.items)?e.items:(null==e?void 0:e.data)&&Array.isArray(e.data)?e.data:[]);t(a),n(a)}catch(r){t([]),n([])}finally{m(!1)}var e};a.useEffect(()=>{E()},[]),a.useEffect(()=>{const e=()=>{E()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);const T=async(e,t)=>{try{const r=(e=>{const t=(e||"").toLowerCase();return t.includes("polici")||t.includes("segur")||t.includes("crime")||t.includes("violenc")?"policia":t.includes("politic")||t.includes("eleic")||t.includes("governo")||t.includes("prefeito")||t.includes("vereador")||t.includes("deputado")?"política":t.includes("esport")||t.includes("futebol")||t.includes("campeonato")||t.includes("jogo")||t.includes("copa")||t.includes("time")?"esporte":t.includes("entret")||t.includes("cultura")||t.includes("festival")||t.includes("show")||t.includes("cinema")||t.includes("música")||t.includes("arte")?"entretenimento":"geral"})(e.categoria),n=await fetch("http://localhost:8080/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.titulo,hat:e.chapeu||"",imageUrl:e.imagemUrl||"https://picsum.photos/1080/"+("story"===t?"1920":"1350"),categoria:r,type:"story"===t?"story":"card"})});if(!n.ok)throw new Error("Erro na resposta do servidor");{const r=await n.json();if(r.ok&&r.preview){const n=`🚨 ${e.chapeu||""} em Piauí! 🚨\n\n${e.titulo}\n\n${e.conteudo?e.conteudo.substring(0,120)+"...":""}\n\nComo isso impacta nossa região?\n\n📍 Leia a notícia completa em www.r10piaui.com ou clique no link da bio.\n🔴 R10 Piauí – Qualidade em Primeiro Lugar.\n\n#R10PiauiPulse #Piauí #Notícias #${(e.chapeu||"").replace(/[ÃÁÀ]/g,"A")}`,a=window.open("","_blank","width=700,height=900");a&&a.document.write(`\n              <html>\n                <head>\n                  <title>Preview - ${"story"===t?"Story":"Feed"} Instagram</title>\n                  <style>\n                    body { \n                      margin: 0; \n                      padding: 20px; \n                      background: #f0f0f0; \n                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n                    }\n                    .container { \n                      max-width: 600px; \n                      margin: 0 auto; \n                      background: white; \n                      border-radius: 12px; \n                      overflow: hidden; \n                      box-shadow: 0 8px 32px rgba(0,0,0,0.1);\n                    }\n                    .header { \n                      background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045); \n                      color: white; \n                      padding: 20px; \n                      text-align: center; \n                    }\n                    .header h2 { \n                      margin: 0; \n                      font-size: 24px; \n                      font-weight: 600; \n                    }\n                    .image-container { \n                      text-align: center; \n                      padding: 20px; \n                    }\n                    .preview-image { \n                      max-width: 100%; \n                      height: auto; \n                      border-radius: 8px; \n                      box-shadow: 0 4px 12px rgba(0,0,0,0.2); \n                    }\n                    .legend-section { \n                      padding: 20px; \n                      background: #f8f9fa; \n                      border-top: 1px solid #e9ecef; \n                    }\n                    .legend-title { \n                      font-size: 18px; \n                      font-weight: 600; \n                      color: #333; \n                      margin-bottom: 12px; \n                      display: flex; \n                      align-items: center; \n                    }\n                    .legend-text { \n                      background: white; \n                      padding: 15px; \n                      border-radius: 8px; \n                      border-left: 4px solid #e53935; \n                      white-space: pre-wrap; \n                      font-family: monospace; \n                      font-size: 14px; \n                      line-height: 1.4; \n                      color: #333; \n                      max-height: 200px; \n                      overflow-y: auto; \n                    }\n                    .actions { \n                      padding: 20px; \n                      text-align: center; \n                      background: white; \n                    }\n                    .publish-btn { \n                      background: linear-gradient(135deg, #833ab4, #fd1d1d); \n                      color: white; \n                      border: none; \n                      padding: 12px 24px; \n                      font-size: 16px; \n                      font-weight: 600; \n                      border-radius: 8px; \n                      cursor: pointer; \n                      transition: all 0.3s; \n                      box-shadow: 0 4px 12px rgba(0,0,0,0.2); \n                    }\n                    .publish-btn:hover { \n                      transform: translateY(-2px); \n                      box-shadow: 0 6px 16px rgba(0,0,0,0.3); \n                    }\n                    .publish-btn:active { \n                      transform: translateY(0); \n                    }\n                    .copy-btn { \n                      background: #28a745; \n                      color: white; \n                      border: none; \n                      padding: 8px 16px; \n                      font-size: 14px; \n                      border-radius: 6px; \n                      cursor: pointer; \n                      margin-left: 10px; \n                    }\n                  </style>\n                </head>\n                <body>\n                  <div class="container">\n                    <div class="header">\n                      <h2>🎨 ${"story"===t?"Instagram Story":"Instagram Feed"}</h2>\n                    </div>\n                    \n                    <div class="image-container">\n                      <img src="${r.preview}" alt="Instagram ${t}" class="preview-image" />\n                    </div>\n                    \n                    <div class="legend-section">\n                      <div class="legend-title">\n                        📝 Legenda do Post:\n                      </div>\n                      <div class="legend-text" id="legend-text">${n}</div>\n                    </div>\n                    \n                    <div class="actions">\n                      <button class="publish-btn" onclick="publishToInstagram()">\n                        📱 Publicar no Instagram\n                      </button>\n                      <button class="copy-btn" onclick="copyLegend()">\n                        📋 Copiar Legenda\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <script>\n                    async function publishToInstagram() {\n                      const btn = document.querySelector('.publish-btn');\n                      const originalText = btn.textContent;\n                      \n                      try {\n                        btn.textContent = '📤 Publicando...';\n                        btn.disabled = true;\n                        \n                        const response = await fetch('http://localhost:8080/api/social/instagram/publish', {\n                          method: 'POST',\n                          headers: { 'Content-Type': 'application/json' },\n                          body: JSON.stringify({\n                            titulo: '${e.titulo.replace(/'/g,"\\'")}',\n                            chapeu: '${(e.chapeu||"").replace(/'/g,"\\'")}',\n                            conteudo: '${e.conteudo.replace(/'/g,"\\'").substring(0,200)}',\n                            imageUrl: '${e.imagemUrl||""}',\n                            legenda: \`${n.replace(/'/g,"\\'")}\`\n                          })\n                        });\n                        \n                        const result = await response.json();\n                        \n                        if (result.success || result.ok) {\n                          btn.textContent = '✅ Publicado!';\n                          btn.style.background = '#28a745';\n                          setTimeout(() => {\n                            alert('Post publicado com sucesso no Instagram!');\n                          }, 500);\n                        } else {\n                          throw new Error(result.message || 'Erro ao publicar');\n                        }\n                        \n                      } catch (error) {\n                        console.error('Erro:', error);\n                        btn.textContent = '❌ Erro';\n                        btn.style.background = '#dc3545';\n                        alert('Erro ao publicar: ' + error.message);\n                        \n                        setTimeout(() => {\n                          btn.textContent = originalText;\n                          btn.style.background = 'linear-gradient(135deg, #833ab4, #fd1d1d)';\n                          btn.disabled = false;\n                        }, 2000);\n                      }\n                    }\n                    \n                    function copyLegend() {\n                      const legendText = document.getElementById('legend-text').textContent;\n                      navigator.clipboard.writeText(legendText).then(() => {\n                        const btn = event.target;\n                        const originalText = btn.textContent;\n                        btn.textContent = '✅ Copiado!';\n                        setTimeout(() => {\n                          btn.textContent = originalText;\n                        }, 2000);\n                      });\n                    }\n                  <\/script>\n                </body>\n              </html>\n            `)}}}catch(r){alert(`Erro ao gerar ${t} Instagram: ${r.message}`)}};a.useEffect(()=>{let t=[...e];i&&(t=t.filter(e=>{var t,r;return e.titulo.toLowerCase().includes(i.toLowerCase())||(null==(t=e.subtitulo)?void 0:t.toLowerCase().includes(i.toLowerCase()))||(null==(r=e.chapeu)?void 0:r.toLowerCase().includes(i.toLowerCase()))||e.conteudo.toLowerCase().includes(i.toLowerCase())})),"todas"!==l&&(t=t.filter(e=>e.categoria===l)),"todas"!==u&&(t=t.filter(e=>e.posicao===u)),"todos"!==f&&(t=t.filter(e=>e.autor===f));const r=((e,t)=>[...e].sort((r,n)=>{const a=$t[Ut(r.posicao)],i=$t[Ut(n.posicao)];if(a!==i)return a-i;if("DESTAQUE"===Ut(r.posicao)&&"DESTAQUE"===Ut(n.posicao)){const t=qt(r,e),a=qt(n,e);if(t&&!a)return-1;if(!t&&a)return 1}if("title"===t)return r.titulo.localeCompare(n.titulo,"pt-BR");const o=new Date(r.dataPublicacao||0);return new Date(n.dataPublicacao||0).getTime()-o.getTime()}))(t,"date");n(r)},[e,i,l,u,f]);const C=async e=>{if(window.confirm("Tem certeza que deseja excluir esta matéria?"))try{await async function(e){try{return await it(`/posts/${e}`),!0}catch(t){return!1}}(e),t(t=>t.filter(t=>t.id!==e)),alert("Matéria excluída com sucesso!")}catch(r){alert("Erro ao excluir matéria")}},M=Array.from(new Set(e.map(e=>e.autor))),_=Array.from(new Set(e.map(e=>e.categoria)));return h?Ye.jsx("div",{className:"flex justify-center items-center h-64",children:Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciador de Matérias"}),Ye.jsxs("p",{className:"text-gray-600",children:["Total de ",r.length," matérias"]}),Ye.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"✨ Ordenação: Super Manchete → Destaque → Demais (por data)"})]}),Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsxs("button",{onClick:E,disabled:h,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(v,{className:"w-4 h-4 "+(h?"animate-spin":"")}),Ye.jsx("span",{children:"Atualizar"})]}),x&&Ye.jsxs(o,{to:"/admin/nova-materia",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(b,{className:"w-5 h-5"}),Ye.jsx("span",{children:"Nova Matéria"})]})]})]}),Ye.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Ye.jsxs("div",{className:"relative",children:[Ye.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),Ye.jsx("input",{type:"text",placeholder:"Buscar matérias...",value:i,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Ye.jsx("option",{value:"todas",children:"Todas as categorias"},"todas"),_.map(e=>Ye.jsx("option",{value:e,children:e},e))]}),Ye.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Ye.jsx("option",{value:"todas",children:"Todas as posições"},"todas"),Ye.jsx("option",{value:"supermanchete",children:"Super Manchete"},"supermanchete"),Ye.jsx("option",{value:"manchete-principal",children:"Manchete Principal"},"manchete-principal"),Ye.jsx("option",{value:"destaque-principal",children:"Destaque Principal"},"destaque-principal"),Ye.jsx("option",{value:"destaque-secundario",children:"Destaque Secundário"},"destaque-secundario"),Ye.jsx("option",{value:"noticia-comum",children:"Notícia Comum"},"noticia-comum")]}),Ye.jsxs("select",{value:f,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[Ye.jsx("option",{value:"todos",children:"Todos os autores"},"todos"),M.map(e=>Ye.jsx("option",{value:e,children:e},e))]})]})}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[Ye.jsxs("table",{className:"min-w-full",children:[Ye.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",style:{width:"60%"},children:"MATÉRIA"}),Ye.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide hidden sm:table-cell",style:{width:"12%"},children:"DATA"}),Ye.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",style:{width:"16%"},children:"POSIÇÃO"}),Ye.jsx("th",{className:"px-3 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide hidden md:table-cell",style:{width:"12%"},children:"CATEGORIA"})]})}),Ye.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map(e=>{return Ye.jsxs("tr",{className:`transition-colors ${(e=>{const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"bg-red-50 hover:bg-red-100":"destaque"===t||t.includes("destaque")?"bg-orange-50 hover:bg-orange-100":"hover:bg-gray-50"})(e.posicao)}`,children:[Ye.jsx("td",{className:"px-6 py-4",style:{width:"60%"},children:Ye.jsxs("div",{className:"flex items-start space-x-4",children:[Ye.jsx("div",{className:"flex-shrink-0",children:e.imagemUrl?Ye.jsx("img",{src:e.imagemUrl,alt:e.titulo,className:"w-16 h-16 rounded-lg object-cover shadow-sm"}):Ye.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center",children:Ye.jsx(g,{className:"w-6 h-6 text-gray-400"})})}),Ye.jsxs("div",{className:"flex-1 min-w-0",children:[Ye.jsx("div",{className:"mb-1",children:Ye.jsx("button",{onClick:()=>window.location.href=`/admin/editar-materia/${e.id}`,className:"text-base font-semibold leading-tight text-gray-900 hover:text-gray-700 text-left",children:e.titulo})}),Ye.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[Ye.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["por ",e.autor]}),Ye.jsxs("div",{className:"flex items-center space-x-1",children:[Ye.jsxs("button",{onClick:()=>T(e,"feed"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-white bg-gradient-to-r from-purple-500 to-pink-500 rounded hover:from-purple-600 hover:to-pink-600 transition-all",title:"Gerar Instagram Feed",children:[Ye.jsx(w,{className:"w-3 h-3 mr-1"}),"Feed"]}),Ye.jsxs("button",{onClick:()=>T(e,"story"),className:"inline-flex items-center px-2 py-1 text-xs font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded hover:from-orange-600 hover:to-red-600 transition-all",title:"Gerar Instagram Story",children:[Ye.jsx(N,{className:"w-3 h-3 mr-1"}),"Story"]}),Ye.jsx("a",{href:`/post/${e.id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center p-1 text-xs font-medium text-green-600 bg-green-100 rounded hover:bg-green-200 transition-colors",title:"Ver Artigo",children:Ye.jsx(O,{className:"w-3 h-3"})}),P&&Ye.jsx(o,{to:`/admin/editar-materia/${e.id}`,className:"inline-flex items-center p-1 text-xs font-medium text-blue-600 bg-blue-100 rounded hover:bg-blue-200 transition-colors",title:"Editar",children:Ye.jsx(S,{className:"w-3 h-3"})}),k&&Ye.jsx("button",{onClick:()=>C(e.id),className:"inline-flex items-center p-1 text-xs font-medium text-red-600 bg-red-100 rounded hover:bg-red-200 transition-colors",title:"Excluir",children:Ye.jsx(A,{className:"w-3 h-3"})})]})]})]})]})}),Ye.jsx("td",{className:"px-3 py-4 text-xs text-gray-600 align-top hidden sm:table-cell",style:{width:"12%"},children:Ye.jsx("div",{className:"whitespace-nowrap",children:(t=e.publishedAt||e.dataPublicacao,new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))})}),Ye.jsx("td",{className:"px-3 py-4 align-top",style:{width:"16%"},children:(()=>{const t=(e=>{switch(Ut(e)){case"SUPER MANCHETE":return{text:"SUPER MANCHETE",className:"bg-red-100 text-red-800 border-red-200 font-bold"};case"DESTAQUE":return{text:"DESTAQUE",className:"bg-orange-100 text-orange-800 border-orange-200 font-semibold"};case"MUNICIPIOS":return{text:"MUNICÍPIOS",className:"bg-blue-100 text-blue-800 border-blue-200"};default:return null}})(e.posicao);return t?Ye.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full border ${t.className} whitespace-nowrap`,children:t.text}):Ye.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full whitespace-nowrap",children:e.posicao})})()}),Ye.jsx("td",{className:"px-3 py-4 align-top hidden md:table-cell",style:{width:"12%"},children:Ye.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded whitespace-nowrap",children:e.categoria})})]},e.id);var t})})]}),0===r.length&&Ye.jsxs("div",{className:"text-center py-12",children:[Ye.jsx(g,{className:"mx-auto h-12 w-12 text-gray-400"}),Ye.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma matéria encontrada"}),Ye.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i||"todas"!==l||"todas"!==u||"todos"!==f?"Tente ajustar os filtros para encontrar matérias.":"Comece criando uma nova matéria."}),x&&!i&&"todas"===l&&"todas"===u&&"todos"===f&&Ye.jsx("div",{className:"mt-6",children:Ye.jsxs(o,{to:"/admin/nova-materia",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700",children:[Ye.jsx(b,{className:"w-4 h-4 mr-2"}),"Nova Matéria"]})})]})]})]})},Gt="r10_media",Vt=()=>{const e=localStorage.getItem(Gt);return e?JSON.parse(e):[]},Wt=async e=>{const t=Vt(),r=t.filter(t=>t.id!==e);return r.length===t.length?Promise.resolve(!1):(n=r,localStorage.setItem(Gt,JSON.stringify(n)),new Promise(e=>{setTimeout(()=>e(!0),300)}));var n},Ht=({initialFilter:e,onSelect:t,selectable:r=!1})=>{const[n,i]=a.useState([]),[o,s]=a.useState(!0),[l,c]=a.useState(null),[u,d]=a.useState(e||{}),[f,p]=a.useState([]),[h,m]=a.useState("grid"),[g,y]=a.useState(1),[x,v]=a.useState(1),[b,w]=a.useState(""),[N,B]=a.useState(!1),[$,q]=a.useState(null),[U,F]=a.useState(null);a.useEffect(()=>{(async()=>{s(!0);try{const e=await(async e=>{let t=Vt();if(e){if(e.type&&(t=t.filter(t=>t.type===e.type)),e.searchTerm){const r=e.searchTerm.toLowerCase();t=t.filter(e=>e.title.toLowerCase().includes(r)||e.tags.some(e=>e.toLowerCase().includes(r)))}e.tags&&e.tags.length>0&&(t=t.filter(t=>e.tags.some(e=>t.tags.includes(e))))}return new Promise(e=>{setTimeout(()=>e(t),300)})})(u),t=12*(g-1),r=e.slice(t,t+12);i(r),v(Math.ceil(e.length/12))}catch(e){c("Erro ao carregar mídia")}finally{s(!1)}})()},[u,g]);const G=()=>{d(e=>({...e,searchTerm:b})),y(1)},V=e=>{d(t=>({...t,type:e})),y(1)},W=e=>{if(r&&t){const r=n.find(t=>t.id===e);return void(r&&t(r))}p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},H=async e=>{if(window.confirm("Tem certeza que deseja excluir este arquivo?"))try{await Wt(e),i(t=>t.filter(t=>t.id!==e)),p(t=>t.filter(t=>t!==e))}catch(t){c("Erro ao excluir arquivo")}},X=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},K=e=>{switch(e){case"image":return Ye.jsx(k,{className:"w-6 h-6"});case"video":return Ye.jsx(E,{className:"w-6 h-6"});case"audio":return Ye.jsx(T,{className:"w-6 h-6"});default:return Ye.jsx(C,{className:"w-6 h-6"})}},Y=e=>{switch(e){case"image":return"bg-blue-100 text-blue-600";case"video":return"bg-purple-100 text-purple-600";case"audio":return"bg-green-100 text-green-600";case"document":return"bg-orange-100 text-orange-600";default:return"bg-gray-100 text-gray-600"}};return o&&0===n.length?Ye.jsx("div",{className:"flex justify-center items-center h-64",children:Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-purple-600"})}):l&&0===n.length?Ye.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:[Ye.jsx("p",{children:l}),Ye.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Tentar novamente"})]}):Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Biblioteca de Mídia"}),Ye.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie imagens, vídeos, áudios e documentos"})]}),Ye.jsxs("button",{onClick:()=>B(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[Ye.jsx(P,{className:"w-5 h-5"}),"Upload"]})]}),Ye.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between bg-white rounded-2xl shadow-lg border border-gray-100 p-4",children:[Ye.jsxs("div",{className:"flex flex-wrap gap-2",children:[Ye.jsx("button",{onClick:()=>V(void 0),className:"px-4 py-2 rounded-lg transition-colors "+(u.type?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-purple-600 text-white"),children:"Todos"}),Ye.jsx("button",{onClick:()=>V("image"),className:"px-4 py-2 rounded-lg transition-colors "+("image"===u.type?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(k,{className:"w-4 h-4"}),"Imagens"]})}),Ye.jsx("button",{onClick:()=>V("video"),className:"px-4 py-2 rounded-lg transition-colors "+("video"===u.type?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(E,{className:"w-4 h-4"}),"Vídeos"]})}),Ye.jsx("button",{onClick:()=>V("audio"),className:"px-4 py-2 rounded-lg transition-colors "+("audio"===u.type?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(T,{className:"w-4 h-4"}),"Áudios"]})}),Ye.jsx("button",{onClick:()=>V("document"),className:"px-4 py-2 rounded-lg transition-colors "+("document"===u.type?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:Ye.jsxs("span",{className:"flex items-center gap-1",children:[Ye.jsx(C,{className:"w-4 h-4"}),"Documentos"]})})]}),Ye.jsxs("div",{className:"flex w-full md:w-auto items-center gap-2",children:[Ye.jsxs("div",{className:"relative flex-grow",children:[Ye.jsx("input",{type:"text",placeholder:"Buscar arquivos...",value:b,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",onKeyDown:e=>"Enter"===e.key&&G()}),Ye.jsx("button",{onClick:G,className:"absolute inset-y-0 right-0 px-3 flex items-center bg-gray-100 rounded-r-lg border-l border-gray-300",children:Ye.jsx(j,{className:"w-5 h-5 text-gray-500"})})]}),Ye.jsx("button",{className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:Ye.jsx(M,{className:"w-5 h-5 text-gray-700"})}),Ye.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[Ye.jsx("button",{onClick:()=>m("grid"),className:"p-2 "+("grid"===h?"bg-gray-200":"bg-white hover:bg-gray-100"),children:Ye.jsx(_,{className:"w-5 h-5 text-gray-700"})}),Ye.jsx("button",{onClick:()=>m("list"),className:"p-2 "+("list"===h?"bg-gray-200":"bg-white hover:bg-gray-100"),children:Ye.jsx(I,{className:"w-5 h-5 text-gray-700"})})]})]})]}),f.length>0&&Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[Ye.jsxs("p",{className:"text-blue-700",children:[Ye.jsx("span",{className:"font-bold",children:f.length})," arquivos selecionados"]}),Ye.jsxs("div",{className:"flex space-x-2",children:[Ye.jsxs("button",{onClick:async()=>{if(0!==f.length&&window.confirm(`Tem certeza que deseja excluir ${f.length} arquivos?`))try{for(const e of f)await Wt(e);i(e=>e.filter(e=>!f.includes(e.id))),p([])}catch(e){c("Erro ao excluir arquivos")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[Ye.jsx(A,{className:"w-4 h-4"}),"Excluir selecionados"]}),Ye.jsx("button",{onClick:()=>p([]),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]}),"grid"===h&&Ye.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:0===n.length?Ye.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:"Nenhum arquivo encontrado"}):n.map(e=>Ye.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden shadow-sm hover:shadow-md transition-shadow "+(f.includes(e.id)?"ring-2 ring-purple-500":""),children:[Ye.jsxs("div",{className:"aspect-square relative cursor-pointer",onClick:()=>W(e.id),children:["image"===e.type?Ye.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.title,className:"w-full h-full object-cover"}):Ye.jsx("div",{className:`w-full h-full flex items-center justify-center ${Y(e.type)}`,children:K(e.type)}),f.includes(e.id)&&Ye.jsx("div",{className:"absolute inset-0 bg-purple-500 bg-opacity-20 flex items-center justify-center",children:Ye.jsx("div",{className:"w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:Ye.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:Ye.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),Ye.jsxs("div",{className:"p-3",children:[Ye.jsx("h3",{className:"font-medium text-gray-900 truncate text-sm",children:e.title}),Ye.jsx("p",{className:"text-xs text-gray-500",children:X(e.fileSize)})]}),Ye.jsxs("div",{className:"px-3 pb-3 flex justify-between",children:[Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(O,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(D,{className:"w-4 h-4"})})]}),Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",children:Ye.jsx(S,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:t=>{t.stopPropagation(),H(e.id)},children:Ye.jsx(A,{className:"w-4 h-4"})})]})]})]},e.id))}),"list"===h&&Ye.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:Ye.jsxs("table",{className:"w-full",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-4 py-4",children:Ye.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:f.length===n.length&&n.length>0,onChange:()=>{f.length===n.length?p([]):p(n.map(e=>e.id))}})}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Arquivo"}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tamanho"}),Ye.jsx("th",{className:"px-4 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Enviado por"}),Ye.jsx("th",{className:"px-4 py-4 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),Ye.jsx("tbody",{className:"divide-y divide-gray-100",children:0===n.length?Ye.jsx("tr",{children:Ye.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"Nenhum arquivo encontrado"})}):n.map(e=>Ye.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[Ye.jsx("td",{className:"px-4 py-3 text-center",children:Ye.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500",checked:f.includes(e.id),onChange:()=>W(e.id)})}),Ye.jsx("td",{className:"px-4 py-3",children:Ye.jsxs("div",{className:"flex items-center",children:[Ye.jsx("div",{className:"w-10 h-10 flex-shrink-0 mr-3",children:"image"===e.type?Ye.jsx("img",{src:e.thumbnailUrl||e.url,alt:e.title,className:"w-10 h-10 rounded object-cover"}):Ye.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center ${Y(e.type)}`,children:K(e.type)})}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-medium text-gray-900",children:e.title}),Ye.jsx("p",{className:"text-xs text-gray-500",children:e.alt||e.title})]})]})}),Ye.jsx("td",{className:"px-4 py-3 text-gray-700",children:Ye.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Y(e.type)}`,children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})}),Ye.jsx("td",{className:"px-4 py-3 text-gray-700",children:X(e.fileSize)}),Ye.jsx("td",{className:"px-4 py-3 text-gray-700",children:e.uploadedBy}),Ye.jsx("td",{className:"px-4 py-3 text-center",children:Ye.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(O,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:Ye.jsx(D,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-blue-600",children:Ye.jsx(S,{className:"w-4 h-4"})}),Ye.jsx("button",{className:"p-1 text-gray-500 hover:text-red-600",onClick:()=>H(e.id),children:Ye.jsx(A,{className:"w-4 h-4"})})]})})]},e.id))})]})}),x>1&&Ye.jsx("div",{className:"flex justify-center mt-6",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("button",{onClick:()=>y(e=>Math.max(e-1,1)),disabled:1===g,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:Ye.jsx(R,{className:"w-5 h-5 text-gray-600"})}),Array.from({length:x},(e,t)=>t+1).map(e=>Ye.jsx("button",{onClick:()=>y(e),className:"w-10 h-10 rounded-lg "+(g===e?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e)),Ye.jsx("button",{onClick:()=>y(e=>Math.min(e+1,x)),disabled:g===x,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:Ye.jsx(L,{className:"w-5 h-5 text-gray-600"})})]})}),N&&Ye.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full",children:[Ye.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[Ye.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upload de Arquivo"}),Ye.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600",children:Ye.jsx(z,{className:"w-6 h-6"})})]}),Ye.jsxs("div",{className:"p-6",children:[Ye.jsxs("div",{className:"mb-6",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecione um arquivo"}),Ye.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[U?Ye.jsxs("div",{className:"flex flex-col items-center",children:[Ye.jsx("img",{src:U,alt:"Preview",className:"max-h-40 mb-4 rounded"}),Ye.jsx("p",{className:"text-sm text-gray-500",children:null==$?void 0:$.name})]}):Ye.jsxs("div",{className:"flex flex-col items-center",children:[Ye.jsx(P,{className:"w-12 h-12 text-gray-400 mb-2"}),Ye.jsx("p",{className:"text-gray-500",children:"Arraste um arquivo ou clique para selecionar"})]}),Ye.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r)if(q(r),r.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{var t;F(null==(t=e.target)?void 0:t.result)},e.readAsDataURL(r)}else F(null)}})]})]}),Ye.jsxs("div",{className:"mb-6",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título"}),Ye.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Digite um título para o arquivo"})]}),Ye.jsxs("div",{className:"mb-6",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto alternativo"}),Ye.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Descreva o conteúdo do arquivo (para acessibilidade)"})]})]}),Ye.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[Ye.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),Ye.jsx("button",{onClick:async()=>{B(!1),q(null),F(null)},className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",disabled:!$,children:"Fazer Upload"})]})]})})]})},Xt=()=>{const[e,t]=a.useState(""),[r,n]=a.useState(""),[i,o]=a.useState(""),[s,l]=a.useState(null),[c,u]=a.useState(""),[d,f]=a.useState(!1),[p,m]=a.useState(!1),[g,y]=a.useState([]),[x,b]=a.useState(!1);a.useEffect(()=>{j()},[]);const j=()=>{const e=localStorage.getItem("r10_instagram_posts");if(e)try{y(JSON.parse(e))}catch(t){}},S=e=>{const t=[e,...g.slice(0,9)];y(t),localStorage.setItem("r10_instagram_posts",JSON.stringify(t))};async function A(){if(e.trim()){m(!0);try{const t=await fetch("http://localhost:8080/api/social/generate-caption",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r})}),n=await t.json();n.ok&&n.caption?u(n.caption):u(`${e}\n\n📰 Confira mais notícias em R10piaui.com\n\n#R10Piauí #Notícias #Piauí`)}catch(t){u(`${e}\n\n📰 Confira mais notícias em R10piaui.com\n\n#R10Piauí #Notícias #Piauí`)}finally{m(!1)}}}return Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[Ye.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:Ye.jsx(w,{className:"w-6 h-6 text-white"})}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Gerador de Cards Instagram"}),Ye.jsx("p",{className:"text-gray-600 text-sm",children:"Crie e publique cards automaticamente com IA"})]}),Ye.jsxs("button",{onClick:()=>b(!x),className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[Ye.jsx(B,{className:"w-4 h-4"}),"Histórico (",g.length,")"]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapéu"}),Ye.jsx("input",{value:r,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Ex.: POLÍCIA"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),Ye.jsx("textarea",{value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:3,placeholder:"Digite o título da notícia",required:!0})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem (opcional)"}),Ye.jsx("input",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"https://exemplo.com/imagem.jpg"}),Ye.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se não informada, será usada uma imagem aleatória"})]}),Ye.jsxs("div",{className:"flex gap-3",children:[Ye.jsxs("button",{onClick:async function(){if(e.trim()){f(!0);try{const t=await fetch("http://localhost:8080/api/social/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r||"NOTÍCIA",imageUrl:i||"https://picsum.photos/1080/1350"})}),n=await t.json();n.ok?(l(n.preview),c||await A()):alert("Erro ao gerar preview: "+JSON.stringify(n.error))}catch(t){alert("Erro: "+t)}finally{f(!1)}}else alert("Por favor, digite um título")},disabled:d||!e.trim(),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d?Ye.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):Ye.jsx(O,{className:"w-4 h-4"}),d?"Gerando...":"Gerar Preview"]}),Ye.jsxs("button",{onClick:async function(){if(!s)return void alert("Gere um preview primeiro");if(!c.trim())return void alert("Por favor, adicione uma legenda");f(!0);const a=(new Date).toISOString();try{const i=await fetch("http://localhost:8080/api/social/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,hat:r,caption:c})}),s=await i.json();if(s.ok&&s.postId){const r={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:s.postId,publishedAt:a,status:"success"};S(r),alert(`✅ Publicado no Instagram com sucesso!\n\nID: ${s.postId}\nTítulo: ${e}`),t(""),n(""),o(""),l(null),u("")}else{const t={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:"ERRO",publishedAt:a,status:"error"};S(t),alert("❌ Falha na publicação: "+JSON.stringify(s.error||s))}}catch(i){const t={id:Date.now().toString(),title:e.slice(0,80)+(e.length>80?"...":""),instagramPostId:"ERRO",publishedAt:a,status:"error"};S(t),alert("❌ Erro: "+i)}finally{f(!1)}},disabled:d||!s,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[d?Ye.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}):Ye.jsx(w,{className:"w-4 h-4"}),d?"Publicando...":"Publicar"]})]})]}),Ye.jsx("div",{className:"space-y-4",children:s?Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Preview do Card"}),Ye.jsx("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:Ye.jsx("img",{src:s,alt:"Preview do card",className:"w-64 mx-auto rounded-lg shadow-lg"})}),Ye.jsxs("div",{className:"mt-4",children:[Ye.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Legenda"}),Ye.jsxs("button",{onClick:A,disabled:p||!e.trim(),className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 disabled:opacity-50 transition-colors",children:[p?Ye.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t border-b border-blue-700"}):Ye.jsx(v,{className:"w-3 h-3"}),p?"Gerando...":"IA"]})]}),Ye.jsx("textarea",{value:c,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",rows:4,placeholder:"Legenda será gerada automaticamente..."}),Ye.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.length," caracteres"]})]})]}):Ye.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[Ye.jsx(N,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),Ye.jsx("p",{className:"text-gray-500",children:'Preencha o título e clique em "Gerar Preview" para ver o card'})]})})]})]}),x&&g.length>0&&Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[Ye.jsx(B,{className:"w-5 h-5"}),"Últimas Publicações"]}),Ye.jsx("div",{className:"space-y-3",children:g.map(e=>Ye.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:["success"===e.status?Ye.jsx($,{className:"w-5 h-5 text-green-500 flex-shrink-0"}):Ye.jsx(q,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),Ye.jsxs("div",{className:"flex-1 min-w-0",children:[Ye.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.title}),Ye.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.publishedAt).toLocaleString("pt-BR")})]}),"success"===e.status&&"ERRO"!==e.instagramPostId&&Ye.jsxs("a",{href:`https://www.instagram.com/p/${e.instagramPostId}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-colors",children:[Ye.jsx(h,{className:"w-3 h-3"}),"Ver Post"]})]},e.id))})]}),Ye.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl border border-purple-200 p-6",children:[Ye.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[Ye.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-400 rounded-lg flex items-center justify-center",children:Ye.jsx(w,{className:"w-5 h-5 text-white"})}),Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Stories Instagram"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Em breve: Criação automática de Stories com links clicáveis"})]})]}),Ye.jsx("div",{className:"bg-white/50 rounded-lg p-4 text-center",children:Ye.jsx("p",{className:"text-gray-500 text-sm",children:"🚧 Funcionalidade em desenvolvimento"})})]})]})};function Kt(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Kt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Yt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Kt(e))&&(n&&(n+=" "),n+=t);return n}var Jt=Array.isArray,Qt="object"==typeof s&&s&&s.Object===Object&&s,Zt=Qt,er="object"==typeof self&&self&&self.Object===Object&&self,tr=Zt||er||Function("return this")(),rr=tr.Symbol,nr=rr,ar=Object.prototype,ir=ar.hasOwnProperty,or=ar.toString,sr=nr?nr.toStringTag:void 0;var lr=function(e){var t=ir.call(e,sr),r=e[sr];try{e[sr]=void 0;var n=!0}catch(i){}var a=or.call(e);return n&&(t?e[sr]=r:delete e[sr]),a},cr=Object.prototype.toString;var ur=lr,dr=function(e){return cr.call(e)},fr=rr?rr.toStringTag:void 0;var pr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":fr&&fr in Object(e)?ur(e):dr(e)};var hr=function(e){return null!=e&&"object"==typeof e},mr=pr,gr=hr;var yr=function(e){return"symbol"==typeof e||gr(e)&&"[object Symbol]"==mr(e)},xr=Jt,vr=yr,br=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jr=/^\w*$/;var wr=function(e,t){if(xr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!vr(e))||(jr.test(e)||!br.test(e)||null!=t&&e in Object(t))};var Nr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Or=l(Nr);var Sr=pr,Ar=Nr;var Pr=function(e){if(!Ar(e))return!1;var t=Sr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const kr=l(Pr);var Er,Tr=tr["__core-js_shared__"],Cr=(Er=/[^.]+$/.exec(Tr&&Tr.keys&&Tr.keys.IE_PROTO||""))?"Symbol(src)_1."+Er:"";var Mr=function(e){return!!Cr&&Cr in e},_r=Function.prototype.toString;var Ir=function(e){if(null!=e){try{return _r.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Dr=Pr,Rr=Mr,Lr=Nr,zr=Ir,Br=/^\[object .+?Constructor\]$/,$r=Function.prototype,qr=Object.prototype,Ur=$r.toString,Fr=qr.hasOwnProperty,Gr=RegExp("^"+Ur.call(Fr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Vr=function(e){return!(!Lr(e)||Rr(e))&&(Dr(e)?Gr:Br).test(zr(e))},Wr=function(e,t){return null==e?void 0:e[t]};var Hr=function(e,t){var r=Wr(e,t);return Vr(r)?r:void 0},Xr=Hr(Object,"create"),Kr=Xr;var Yr=function(){this.__data__=Kr?Kr(null):{},this.size=0};var Jr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Qr=Xr,Zr=Object.prototype.hasOwnProperty;var en=function(e){var t=this.__data__;if(Qr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Zr.call(t,e)?t[e]:void 0},tn=Xr,rn=Object.prototype.hasOwnProperty;var nn=Xr;var an=Yr,on=Jr,sn=en,ln=function(e){var t=this.__data__;return tn?void 0!==t[e]:rn.call(t,e)},cn=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nn&&void 0===t?"__lodash_hash_undefined__":t,this};function un(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}un.prototype.clear=an,un.prototype.delete=on,un.prototype.get=sn,un.prototype.has=ln,un.prototype.set=cn;var dn=un;var fn=function(){this.__data__=[],this.size=0};var pn=function(e,t){return e===t||e!=e&&t!=t},hn=pn;var mn=function(e,t){for(var r=e.length;r--;)if(hn(e[r][0],t))return r;return-1},gn=mn,yn=Array.prototype.splice;var xn=mn;var vn=mn;var bn=mn;var jn=fn,wn=function(e){var t=this.__data__,r=gn(t,e);return!(r<0)&&(r==t.length-1?t.pop():yn.call(t,r,1),--this.size,!0)},Nn=function(e){var t=this.__data__,r=xn(t,e);return r<0?void 0:t[r][1]},On=function(e){return vn(this.__data__,e)>-1},Sn=function(e,t){var r=this.__data__,n=bn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function An(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}An.prototype.clear=jn,An.prototype.delete=wn,An.prototype.get=Nn,An.prototype.has=On,An.prototype.set=Sn;var Pn=An,kn=Hr(tr,"Map"),En=dn,Tn=Pn,Cn=kn;var Mn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var _n=function(e,t){var r=e.__data__;return Mn(t)?r["string"==typeof t?"string":"hash"]:r.map},In=_n;var Dn=_n;var Rn=_n;var Ln=_n;var zn=function(){this.size=0,this.__data__={hash:new En,map:new(Cn||Tn),string:new En}},Bn=function(e){var t=In(this,e).delete(e);return this.size-=t?1:0,t},$n=function(e){return Dn(this,e).get(e)},qn=function(e){return Rn(this,e).has(e)},Un=function(e,t){var r=Ln(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Fn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fn.prototype.clear=zn,Fn.prototype.delete=Bn,Fn.prototype.get=$n,Fn.prototype.has=qn,Fn.prototype.set=Un;var Gn=Fn,Vn=Gn;function Wn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Wn.Cache||Vn),r}Wn.Cache=Vn;var Hn=Wn;const Xn=l(Hn);var Kn=Hn;var Yn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jn=/\\(\\)?/g,Qn=function(e){var t=Kn(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Yn,function(e,r,n,a){t.push(n?a.replace(Jn,"$1"):r||e)}),t});var Zn=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},ea=Zn,ta=Jt,ra=yr,na=rr?rr.prototype:void 0,aa=na?na.toString:void 0;var ia=function e(t){if("string"==typeof t)return t;if(ta(t))return ea(t,e)+"";if(ra(t))return aa?aa.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},oa=ia;var sa=function(e){return null==e?"":oa(e)},la=Jt,ca=wr,ua=Qn,da=sa;var fa=function(e,t){return la(e)?e:ca(e,t)?[e]:ua(da(e))},pa=yr;var ha=function(e){if("string"==typeof e||pa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},ma=fa,ga=ha;var ya=function(e,t){for(var r=0,n=(t=ma(t,e)).length;null!=e&&r<n;)e=e[ga(t[r++])];return r&&r==n?e:void 0},xa=ya;var va=function(e,t,r){var n=null==e?void 0:xa(e,t);return void 0===n?r:n};const ba=l(va);const ja=l(function(e){return null==e});var wa=pr,Na=Jt,Oa=hr;const Sa=l(function(e){return"string"==typeof e||!Na(e)&&Oa(e)&&"[object String]"==wa(e)});var Aa,Pa={exports:{}},ka={},Ea=Symbol.for("react.element"),Ta=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),Ma=Symbol.for("react.strict_mode"),_a=Symbol.for("react.profiler"),Ia=Symbol.for("react.provider"),Da=Symbol.for("react.context"),Ra=Symbol.for("react.server_context"),La=Symbol.for("react.forward_ref"),za=Symbol.for("react.suspense"),Ba=Symbol.for("react.suspense_list"),$a=Symbol.for("react.memo"),qa=Symbol.for("react.lazy"),Ua=Symbol.for("react.offscreen");function Fa(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Ea:switch(e=e.type){case Ca:case _a:case Ma:case za:case Ba:return e;default:switch(e=e&&e.$$typeof){case Ra:case Da:case La:case qa:case $a:case Ia:return e;default:return t}}case Ta:return t}}}Aa=Symbol.for("react.module.reference"),ka.ContextConsumer=Da,ka.ContextProvider=Ia,ka.Element=Ea,ka.ForwardRef=La,ka.Fragment=Ca,ka.Lazy=qa,ka.Memo=$a,ka.Portal=Ta,ka.Profiler=_a,ka.StrictMode=Ma,ka.Suspense=za,ka.SuspenseList=Ba,ka.isAsyncMode=function(){return!1},ka.isConcurrentMode=function(){return!1},ka.isContextConsumer=function(e){return Fa(e)===Da},ka.isContextProvider=function(e){return Fa(e)===Ia},ka.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Ea},ka.isForwardRef=function(e){return Fa(e)===La},ka.isFragment=function(e){return Fa(e)===Ca},ka.isLazy=function(e){return Fa(e)===qa},ka.isMemo=function(e){return Fa(e)===$a},ka.isPortal=function(e){return Fa(e)===Ta},ka.isProfiler=function(e){return Fa(e)===_a},ka.isStrictMode=function(e){return Fa(e)===Ma},ka.isSuspense=function(e){return Fa(e)===za},ka.isSuspenseList=function(e){return Fa(e)===Ba},ka.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Ca||e===_a||e===Ma||e===za||e===Ba||e===Ua||"object"==typeof e&&null!==e&&(e.$$typeof===qa||e.$$typeof===$a||e.$$typeof===Ia||e.$$typeof===Da||e.$$typeof===La||e.$$typeof===Aa||void 0!==e.getModuleId)},ka.typeOf=Fa,Pa.exports=ka;var Ga=Pa.exports,Va=pr,Wa=hr;var Ha=function(e){return"number"==typeof e||Wa(e)&&"[object Number]"==Va(e)};const Xa=l(Ha);var Ka=Ha;const Ya=l(function(e){return Ka(e)&&e!=+e});var Ja=function(e){return 0===e?0:e>0?1:-1},Qa=function(e){return Sa(e)&&e.indexOf("%")===e.length-1},Za=function(e){return Xa(e)&&!Ya(e)},ei=function(e){return Za(e)||Sa(e)},ti=0,ri=function(e){var t=++ti;return"".concat(e||"").concat(t)},ni=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Za(e)&&!Sa(e))return n;if(Qa(e)){var i=e.indexOf("%");r=t*parseFloat(e.slice(0,i))/100}else r=+e;return Ya(r)&&(r=n),a&&r>t&&(r=t),r},ai=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},ii=function(e,t){return Za(e)&&Za(t)?function(r){return e+r*(t-e)}:function(){return t}};function oi(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):ba(e,t))===r}):null}var si=function(e,t){return Za(e)&&Za(t)?e-t:Sa(e)&&Sa(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function li(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ui=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],di=["points","pathLength"],fi={svg:["viewBox","children"],polygon:di,polyline:di},pi=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hi=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(a.isValidElement(e)&&(r=e.props),!Or(r))return null;var n={};return Object.keys(r).forEach(function(e){pi.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},mi=function(e,t,r){if(!Or(e)||"object"!==ci(e))return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];pi.includes(a)&&"function"==typeof i&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(i,t,r))}),n},gi=["children"],yi=["children"];function xi(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bi={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ji=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},wi=null,Ni=null,Oi=function e(t){if(t===wi&&Array.isArray(Ni))return Ni;var r=[];return a.Children.forEach(t,function(t){ja(t)||(Ga.isFragment(t)?r=r.concat(e(t.props.children)):r.push(t))}),Ni=r,wi=t,r};function Si(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return ji(e)}):[ji(t)],Oi(e).forEach(function(e){var t=ba(e,"type.displayName")||ba(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function Ai(e,t){var r=Si(e,t);return r&&r[0]}var Pi=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Za(r)||r<=0||!Za(n)||n<=0)},ki=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ei=function(e){return e&&"object"===vi(e)&&"clipDot"in e},Ti=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(a.isValidElement(e)&&(n=e.props),!Or(n))return null;var i={};return Object.keys(n).forEach(function(e){var a;(function(e,t,r,n){var a,i=null!==(a=null==fi?void 0:fi[n])&&void 0!==a?a:[];return t.startsWith("data-")||!kr(e)&&(n&&i.includes(t)||ui.includes(t))||r&&pi.includes(t)})(null===(a=n)||void 0===a?void 0:a[e],e,t,r)&&(i[e]=n[e])}),i},Ci=function e(t,r){if(t===r)return!0;var n=a.Children.count(t);if(n!==a.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Mi(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=t[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!Mi(o,s))return!1}return!0},Mi=function(e,t){if(ja(e)&&ja(t))return!0;if(!ja(e)&&!ja(t)){var r=e.props||{},n=r.children,a=xi(r,gi),i=t.props||{},o=i.children,s=xi(i,yi);return n&&o?li(a,s)&&Ci(n,o):!n&&!o&&li(a,s)}return!1},_i=function(e,t){var r=[],n={};return Oi(e).forEach(function(e,a){if(function(e){return e&&e.type&&Sa(e.type)&&ki.indexOf(e.type)>=0}(e))r.push(e);else if(e){var i=ji(e.type),o=t[i]||{},s=o.handler,l=o.once;if(s&&(!l||!n[i])){var c=s(e,i,a);r.push(c),n[i]=!0}}}),r},Ii=["children","width","height","viewBox","className","style","title","desc"];function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}function Ri(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Li(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,s=e.title,l=e.desc,u=Ri(e,Ii),d=a||{width:r,height:n,x:0,y:0},f=Yt("recharts-surface",i);return c.createElement("svg",Di({},Ti(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),c.createElement("title",null,s),c.createElement("desc",null,l),t)}var zi=["children","className"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}function $i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var qi=c.forwardRef(function(e,t){var r=e.children,n=e.className,a=$i(e,zi),i=Yt("recharts-layer",n);return c.createElement("g",Bi({className:i},Ti(a,!0),{ref:t}),r)}),Ui=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};var Fi=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i};var Gi=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:Fi(e,t,r)},Vi=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Wi=function(e){return Vi.test(e)};var Hi=function(e){return e.split("")},Xi="\\ud800-\\udfff",Ki="["+Xi+"]",Yi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ji="\\ud83c[\\udffb-\\udfff]",Qi="[^"+Xi+"]",Zi="(?:\\ud83c[\\udde6-\\uddff]){2}",eo="[\\ud800-\\udbff][\\udc00-\\udfff]",to="(?:"+Yi+"|"+Ji+")"+"?",ro="[\\ufe0e\\ufe0f]?",no=ro+to+("(?:\\u200d(?:"+[Qi,Zi,eo].join("|")+")"+ro+to+")*"),ao="(?:"+[Qi+Yi+"?",Yi,Zi,eo,Ki].join("|")+")",io=RegExp(Ji+"(?="+Ji+")|"+ao+no,"g");var oo=Hi,so=Wi,lo=function(e){return e.match(io)||[]};var co=Gi,uo=Wi,fo=function(e){return so(e)?lo(e):oo(e)},po=sa;const ho=l(function(e){return function(t){t=po(t);var r=uo(t)?fo(t):void 0,n=r?r[0]:t.charAt(0),a=r?co(r,1).join(""):t.slice(1);return n[e]()+a}}("toUpperCase"));function mo(e){return function(){return e}}const go=Math.cos,yo=Math.sin,xo=Math.sqrt,vo=Math.PI,bo=2*vo,jo=Math.PI,wo=2*jo,No=1e-6,Oo=wo-No;function So(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Ao{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?So:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return So;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,i){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+i}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=r-e,l=n-t,c=i-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>No)if(Math.abs(u*s-l*c)>No&&a){let f=r-i,p=n-o,h=s*s+l*l,m=f*f+p*p,g=Math.sqrt(h),y=Math.sqrt(d),x=a*Math.tan((jo-Math.acos((h+d-m)/(2*g*y)))/2),v=x/y,b=x/g;Math.abs(v-1)>No&&this._append`L${e+v*c},${t+v*u}`,this._append`A${a},${a},0,0,${+(u*f>c*p)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,i){if(e=+e,t=+t,i=!!i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^i,d=i?n-a:a-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>No||Math.abs(this._y1-c)>No)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%wo+wo),d>Oo?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>No&&this._append`A${r},${r},0,${+(d>=jo)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Po(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Ao(t)}function ko(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Eo(e){this._context=e}function To(e){return new Eo(e)}function Co(e){return e[0]}function Mo(e){return e[1]}function _o(e,t){var r=mo(!0),n=null,a=To,i=null,o=Po(s);function s(s){var l,c,u,d=(s=ko(s)).length,f=!1;for(null==n&&(i=a(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?Co:mo(e),t="function"==typeof t?t:void 0===t?Mo:mo(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:mo(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:mo(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(i=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=i=null:i=a(n=e),s):n},s}function Io(e,t,r){var n=null,a=mo(!0),i=null,o=To,s=null,l=Po(c);function c(c){var u,d,f,p,h,m=(c=ko(c)).length,g=!1,y=new Array(m),x=new Array(m);for(null==i&&(s=o(h=l())),u=0;u<=m;++u){if(!(u<m&&a(p=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(y[f],x[f]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(p,u,c),x[u]=+t(p,u,c),s.point(n?+n(p,u,c):y[u],r?+r(p,u,c):x[u]))}if(h)return s=null,h+""||null}function u(){return _o().defined(a).curve(o).context(i)}return e="function"==typeof e?e:void 0===e?Co:mo(+e),t="function"==typeof t?t:mo(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?Mo:mo(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:mo(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:mo(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:mo(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:mo(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(a="function"==typeof e?e:mo(!!e),c):a},c.curve=function(e){return arguments.length?(o=e,null!=i&&(s=o(i)),c):o},c.context=function(e){return arguments.length?(null==e?i=s=null:s=o(i=e),c):i},c}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Do{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Ro={draw(e,t){const r=xo(t/vo);e.moveTo(r,0),e.arc(0,0,r,0,bo)}},Lo={draw(e,t){const r=xo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zo=xo(1/3),Bo=2*zo,$o={draw(e,t){const r=xo(t/Bo),n=r*zo;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},qo={draw(e,t){const r=xo(t),n=-r/2;e.rect(n,n,r,r)}},Uo=yo(vo/10)/yo(7*vo/10),Fo=yo(bo/10)*Uo,Go=-go(bo/10)*Uo,Vo={draw(e,t){const r=xo(.8908130915292852*t),n=Fo*r,a=Go*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const t=bo*i/5,o=go(t),s=yo(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*a,s*n+o*a)}e.closePath()}},Wo=xo(3),Ho={draw(e,t){const r=-xo(t/(3*Wo));e.moveTo(0,2*r),e.lineTo(-Wo*r,-r),e.lineTo(Wo*r,-r),e.closePath()}},Xo=-.5,Ko=xo(3)/2,Yo=1/xo(12),Jo=3*(Yo/2+1),Qo={draw(e,t){const r=xo(t/Jo),n=r/2,a=r*Yo,i=n,o=r*Yo+r,s=-i,l=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Xo*n-Ko*a,Ko*n+Xo*a),e.lineTo(Xo*i-Ko*o,Ko*i+Xo*o),e.lineTo(Xo*s-Ko*l,Ko*s+Xo*l),e.lineTo(Xo*n+Ko*a,Xo*a-Ko*n),e.lineTo(Xo*i+Ko*o,Xo*o-Ko*i),e.lineTo(Xo*s+Ko*l,Xo*l-Ko*s),e.closePath()}};function Zo(){}function es(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ts(e){this._context=e}function rs(e){this._context=e}function ns(e){this._context=e}function as(e){this._context=e}function is(e){return e<0?-1:1}function os(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(is(i)+is(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function ss(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ls(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function cs(e){this._context=e}function us(e){this._context=new ds(e)}function ds(e){this._context=e}function fs(e){this._context=e}function ps(e){var t,r,n=e.length-1,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function hs(e,t){this._context=e,this._t=t}function ms(e,t){if((a=e.length)>1)for(var r,n,a,i=1,o=e[t[0]],s=o.length;i<a;++i)for(n=o,o=e[t[i]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function gs(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ys(e,t){return e[t]}function xs(e){const t=[];return t.key=e,t}function vs(e){return(vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:es(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:es(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},rs.prototype={areaStart:Zo,areaEnd:Zo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:es(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:es(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},as.prototype={areaStart:Zo,areaEnd:Zo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},cs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ls(this,this._t0,ss(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ls(this,ss(this,r=os(this,e,t)),r);break;default:ls(this,this._t0,r=os(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(us.prototype=Object.create(cs.prototype)).point=function(e,t){cs.prototype.point.call(this,t,e)},ds.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}},fs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=ps(e),a=ps(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var bs=["type","size","sizeType"];function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}function ws(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ws(Object(r),!0).forEach(function(t){Os(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ws(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Os(e,t,r){var n;return n=function(e,t){if("object"!=vs(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=vs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==vs(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ss(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var As={symbolCircle:Ro,symbolCross:Lo,symbolDiamond:$o,symbolSquare:qo,symbolStar:Vo,symbolTriangle:Ho,symbolWye:Qo},Ps=Math.PI/180,ks=function(e){var t,r,n=e.type,a=void 0===n?"circle":n,i=e.size,o=void 0===i?64:i,s=e.sizeType,l=void 0===s?"area":s,u=Ns(Ns({},Ss(e,bs)),{},{type:a,size:o,sizeType:l}),d=u.className,f=u.cx,p=u.cy,h=Ti(u,!0);return f===+f&&p===+p&&o===+o?c.createElement("path",js({},h,{className:Yt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:(t=function(e){var t="symbol".concat(ho(e));return As[t]||Ro}(a),r=function(e,t){let r=null,n=Po(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:mo(e||Ro),t="function"==typeof t?t:mo(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:mo(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:mo(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(t).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Ps;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,l,a)),r())})):null};function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(this,arguments)}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ms(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zs(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _s(e,t,r){return t=Ds(t),function(e,t){if(t&&("object"===Es(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Is()?Reflect.construct(t,r||[],Ds(e).constructor):t.apply(e,r))}function Is(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Is=function(){return!!e})()}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rs(e,t){return(Rs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ls(e,t,r){return(t=zs(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zs(e){var t=function(e,t){if("object"!=Es(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Es(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Es(t)?t:t+""}ks.registerSymbol=function(e,t){As["symbol".concat(ho(e))]=t};var Bs=32,$s=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_s(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rs(e,t)}(e,a.PureComponent),Ms(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Bs/6,a=Bs/3,i=e.inactive?t:e.color;if("plainline"===e.type)return c.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Bs,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return c.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Bs,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return c.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Bs,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(c.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach(function(t){Ls(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete o.legendIcon,c.cloneElement(e.legendIcon,o)}return c.createElement(ks,{fill:i,cx:r,cy:r,size:Bs,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,o=t.inactiveColor,s={x:0,y:0,width:Bs,height:Bs},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var a=t.formatter||i,d=Yt(Ls(Ls({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var f=kr(t.value)?null:t.value;Ui(!kr(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?o:t.color;return c.createElement("li",Ts({className:d,style:l,key:"legend-item-".concat(r)},mi(e.props,t,r)),c.createElement(Li,{width:n,height:n,viewBox:s,style:u},e.renderIcon(t)),c.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},a?a(f,t,r):f))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return c.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}();Ls($s,"displayName","Legend"),Ls($s,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qs=Pn;var Us=Pn,Fs=kn,Gs=Gn;var Vs=Pn,Ws=function(){this.__data__=new qs,this.size=0},Hs=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Xs=function(e){return this.__data__.get(e)},Ks=function(e){return this.__data__.has(e)},Ys=function(e,t){var r=this.__data__;if(r instanceof Us){var n=r.__data__;if(!Fs||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Gs(n)}return r.set(e,t),this.size=r.size,this};function Js(e){var t=this.__data__=new Vs(e);this.size=t.size}Js.prototype.clear=Ws,Js.prototype.delete=Hs,Js.prototype.get=Xs,Js.prototype.has=Ks,Js.prototype.set=Ys;var Qs=Js;var Zs=Gn,el=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},tl=function(e){return this.__data__.has(e)};function rl(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Zs;++t<r;)this.add(e[t])}rl.prototype.add=rl.prototype.push=el,rl.prototype.has=tl;var nl=rl;var al=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var il=function(e,t){return e.has(t)},ol=nl,sl=al,ll=il;var cl=function(e,t,r,n,a,i){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,p=2&r?new ol:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var h=e[d],m=t[d];if(n)var g=o?n(m,h,d,t,e,i):n(h,m,d,e,t,i);if(void 0!==g){if(g)continue;f=!1;break}if(p){if(!sl(t,function(e,t){if(!ll(p,t)&&(h===e||a(h,e,r,n,i)))return p.push(t)})){f=!1;break}}else if(h!==m&&!a(h,m,r,n,i)){f=!1;break}}return i.delete(e),i.delete(t),f};var ul=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r},dl=tr.Uint8Array,fl=pn,pl=cl,hl=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r},ml=ul,gl=rr?rr.prototype:void 0,yl=gl?gl.valueOf:void 0;var xl=function(e,t,r,n,a,i,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new dl(e),new dl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=hl;case"[object Set]":var l=1&n;if(s||(s=ml),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=2,o.set(e,t);var u=pl(s(e),s(t),n,a,i,o);return o.delete(e),u;case"[object Symbol]":if(yl)return yl.call(e)==yl.call(t)}return!1};var vl=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},bl=vl,jl=Jt;var wl=function(e,t,r){var n=t(e);return jl(e)?n:bl(n,r(e))};var Nl=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i},Ol=function(){return[]},Sl=Object.prototype.propertyIsEnumerable,Al=Object.getOwnPropertySymbols,Pl=Al?function(e){return null==e?[]:(e=Object(e),Nl(Al(e),function(t){return Sl.call(e,t)}))}:Ol;var kl=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},El=pr,Tl=hr;var Cl,Ml,_l,Il,Dl,Rl,Ll,zl,Bl=function(e){return Tl(e)&&"[object Arguments]"==El(e)},$l=hr,ql=Object.prototype,Ul=ql.hasOwnProperty,Fl=ql.propertyIsEnumerable,Gl=Bl(function(){return arguments}())?Bl:function(e){return $l(e)&&Ul.call(e,"callee")&&!Fl.call(e,"callee")},Vl={exports:{}};Cl=Vl,_l=tr,Il=function(){return!1},Dl=(Ml=Vl.exports)&&!Ml.nodeType&&Ml,Rl=Dl&&Cl&&!Cl.nodeType&&Cl,Ll=Rl&&Rl.exports===Dl?_l.Buffer:void 0,zl=(Ll?Ll.isBuffer:void 0)||Il,Cl.exports=zl;var Wl=Vl.exports,Hl=/^(?:0|[1-9]\d*)$/;var Xl=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Hl.test(e))&&e>-1&&e%1==0&&e<t};var Kl=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Yl=pr,Jl=Kl,Ql=hr,Zl={};Zl["[object Float32Array]"]=Zl["[object Float64Array]"]=Zl["[object Int8Array]"]=Zl["[object Int16Array]"]=Zl["[object Int32Array]"]=Zl["[object Uint8Array]"]=Zl["[object Uint8ClampedArray]"]=Zl["[object Uint16Array]"]=Zl["[object Uint32Array]"]=!0,Zl["[object Arguments]"]=Zl["[object Array]"]=Zl["[object ArrayBuffer]"]=Zl["[object Boolean]"]=Zl["[object DataView]"]=Zl["[object Date]"]=Zl["[object Error]"]=Zl["[object Function]"]=Zl["[object Map]"]=Zl["[object Number]"]=Zl["[object Object]"]=Zl["[object RegExp]"]=Zl["[object Set]"]=Zl["[object String]"]=Zl["[object WeakMap]"]=!1;var ec=function(e){return Ql(e)&&Jl(e.length)&&!!Zl[Yl(e)]};var tc=function(e){return function(t){return e(t)}},rc={exports:{}};!function(e,t){var r=Qt,n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,i=a&&a.exports===n&&r.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o}(rc,rc.exports);var nc=rc.exports,ac=ec,ic=tc,oc=nc&&nc.isTypedArray,sc=oc?ic(oc):ac,lc=kl,cc=Gl,uc=Jt,dc=Wl,fc=Xl,pc=sc,hc=Object.prototype.hasOwnProperty;var mc=function(e,t){var r=uc(e),n=!r&&cc(e),a=!r&&!n&&dc(e),i=!r&&!n&&!a&&pc(e),o=r||n||a||i,s=o?lc(e.length,String):[],l=s.length;for(var c in e)!t&&!hc.call(e,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fc(c,l))||s.push(c);return s},gc=Object.prototype;var yc=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||gc)};var xc=function(e,t){return function(r){return e(t(r))}},vc=xc(Object.keys,Object),bc=yc,jc=vc,wc=Object.prototype.hasOwnProperty;var Nc=Pr,Oc=Kl;var Sc=function(e){return null!=e&&Oc(e.length)&&!Nc(e)},Ac=mc,Pc=function(e){if(!bc(e))return jc(e);var t=[];for(var r in Object(e))wc.call(e,r)&&"constructor"!=r&&t.push(r);return t},kc=Sc;var Ec=function(e){return kc(e)?Ac(e):Pc(e)},Tc=wl,Cc=Pl,Mc=Ec;var _c=function(e){return Tc(e,Mc,Cc)},Ic=Object.prototype.hasOwnProperty;var Dc=function(e,t,r,n,a,i){var o=1&r,s=_c(e),l=s.length;if(l!=_c(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:Ic.call(t,u)))return!1}var d=i.get(e),f=i.get(t);if(d&&f)return d==t&&f==e;var p=!0;i.set(e,t),i.set(t,e);for(var h=o;++c<l;){var m=e[u=s[c]],g=t[u];if(n)var y=o?n(g,m,u,t,e,i):n(m,g,u,e,t,i);if(!(void 0===y?m===g||a(m,g,r,n,i):y)){p=!1;break}h||(h="constructor"==u)}if(p&&!h){var x=e.constructor,v=t.constructor;x==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof v&&v instanceof v||(p=!1)}return i.delete(e),i.delete(t),p},Rc=Hr(tr,"DataView"),Lc=Hr(tr,"Promise"),zc=Hr(tr,"Set"),Bc=Rc,$c=kn,qc=Lc,Uc=zc,Fc=Hr(tr,"WeakMap"),Gc=pr,Vc=Ir,Wc="[object Map]",Hc="[object Promise]",Xc="[object Set]",Kc="[object WeakMap]",Yc="[object DataView]",Jc=Vc(Bc),Qc=Vc($c),Zc=Vc(qc),eu=Vc(Uc),tu=Vc(Fc),ru=Gc;(Bc&&ru(new Bc(new ArrayBuffer(1)))!=Yc||$c&&ru(new $c)!=Wc||qc&&ru(qc.resolve())!=Hc||Uc&&ru(new Uc)!=Xc||Fc&&ru(new Fc)!=Kc)&&(ru=function(e){var t=Gc(e),r="[object Object]"==t?e.constructor:void 0,n=r?Vc(r):"";if(n)switch(n){case Jc:return Yc;case Qc:return Wc;case Zc:return Hc;case eu:return Xc;case tu:return Kc}return t});var nu=Qs,au=cl,iu=xl,ou=Dc,su=ru,lu=Jt,cu=Wl,uu=sc,du="[object Arguments]",fu="[object Array]",pu="[object Object]",hu=Object.prototype.hasOwnProperty;var mu=function(e,t,r,n,a,i){var o=lu(e),s=lu(t),l=o?fu:su(e),c=s?fu:su(t),u=(l=l==du?pu:l)==pu,d=(c=c==du?pu:c)==pu,f=l==c;if(f&&cu(e)){if(!cu(t))return!1;o=!0,u=!1}if(f&&!u)return i||(i=new nu),o||uu(e)?au(e,t,r,n,a,i):iu(e,t,l,r,n,a,i);if(!(1&r)){var p=u&&hu.call(e,"__wrapped__"),h=d&&hu.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,g=h?t.value():t;return i||(i=new nu),a(m,g,r,n,i)}}return!!f&&(i||(i=new nu),ou(e,t,r,n,a,i))},gu=hr;var yu=function e(t,r,n,a,i){return t===r||(null==t||null==r||!gu(t)&&!gu(r)?t!=t&&r!=r:mu(t,r,n,a,e,i))},xu=Qs,vu=yu;var bu=Nr;var ju=function(e){return e==e&&!bu(e)},wu=ju,Nu=Ec;var Ou=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},Su=function(e,t,r,n){var a=r.length,i=a,o=!n;if(null==e)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){var l=(s=r[a])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new xu;if(n)var f=n(c,u,l,e,t,d);if(!(void 0===f?vu(u,c,3,n,d):f))return!1}}return!0},Au=function(e){for(var t=Nu(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,wu(a)]}return t},Pu=Ou;var ku=fa,Eu=Gl,Tu=Jt,Cu=Xl,Mu=Kl,_u=ha;var Iu=function(e,t){return null!=e&&t in Object(e)},Du=function(e,t,r){for(var n=-1,a=(t=ku(t,e)).length,i=!1;++n<a;){var o=_u(t[n]);if(!(i=null!=e&&r(e,o)))break;e=e[o]}return i||++n!=a?i:!!(a=null==e?0:e.length)&&Mu(a)&&Cu(o,a)&&(Tu(e)||Eu(e))};var Ru=yu,Lu=va,zu=function(e,t){return null!=e&&Du(e,t,Iu)},Bu=wr,$u=ju,qu=Ou,Uu=ha;var Fu=function(e){return e};var Gu=ya;var Vu=function(e){return function(t){return null==t?void 0:t[e]}},Wu=function(e){return function(t){return Gu(t,e)}},Hu=wr,Xu=ha;var Ku=function(e){var t=Au(e);return 1==t.length&&t[0][2]?Pu(t[0][0],t[0][1]):function(r){return r===e||Su(r,e,t)}},Yu=function(e,t){return Bu(e)&&$u(t)?qu(Uu(e),t):function(r){var n=Lu(r,e);return void 0===n&&n===t?zu(r,e):Ru(t,n,3)}},Ju=Fu,Qu=Jt,Zu=function(e){return Hu(e)?Vu(Xu(e)):Wu(e)};var ed=function(e){return"function"==typeof e?e:null==e?Ju:"object"==typeof e?Qu(e)?Yu(e[0],e[1]):Ku(e):Zu(e)};var td=function(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1};var rd=td,nd=function(e){return e!=e},ad=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1};var id=function(e,t,r){return t==t?ad(e,t,r):rd(e,nd,r)};var od=function(e,t){return!!(null==e?0:e.length)&&id(e,t,0)>-1};var sd=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1};var ld=zc,cd=function(){},ud=ld&&1/ul(new ld([,-0]))[1]==1/0?function(e){return new ld(e)}:cd,dd=nl,fd=od,pd=sd,hd=il,md=ud,gd=ul;var yd=ed,xd=function(e,t,r){var n=-1,a=fd,i=e.length,o=!0,s=[],l=s;if(r)o=!1,a=pd;else if(i>=200){var c=t?null:md(e);if(c)return gd(c);o=!1,a=hd,l=new dd}else l=t?[]:s;e:for(;++n<i;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,o&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else a(l,d,r)||(l!==s&&l.push(d),s.push(u))}return s};const vd=l(function(e,t){return e&&e.length?xd(e,yd(t)):[]});function bd(e,t,r){return!0===t?vd(e,r):kr(t)?vd(e,t):e}function jd(e){return(jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wd=["ref"];function Nd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(r),!0).forEach(function(t){Td(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cd(n.key),n)}}function Ad(e,t,r){return t=kd(t),function(e,t){if(t&&("object"===jd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pd()?Reflect.construct(t,r||[],kd(e).constructor):t.apply(e,r))}function Pd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Pd=function(){return!!e})()}function kd(e){return(kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ed(e,t){return(Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Td(e,t,r){return(t=Cd(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cd(e){var t=function(e,t){if("object"!=jd(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jd(t)?t:t+""}function Md(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _d(e){return e.value}var Id=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Td(t=Ad(this,e,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ed(e,t)}(e,a.PureComponent),t=e,n=[{key:"getWithHeight",value:function(e,t){var r=Od(Od({},this.defaultProps),e.props).layout;return"vertical"===r&&Za(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,s=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Od(Od({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,o=t.payloadUniqBy,s=t.payload,l=Od(Od({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return c.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(c.isValidElement(e))return c.cloneElement(e,t);if("function"==typeof e)return c.createElement(e,t);t.ref;var r=Md(t,wd);return c.createElement($s,r)}(r,Od(Od({},this.props),{},{payload:bd(s,o,_d)})))}}])&&Sd(t.prototype,r),n&&Sd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Td(Id,"displayName","Legend"),Td(Id,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Dd=Gl,Rd=Jt,Ld=rr?rr.isConcatSpreadable:void 0;var zd=vl,Bd=function(e){return Rd(e)||Dd(e)||!!(Ld&&e&&e[Ld])};var $d=function e(t,r,n,a,i){var o=-1,s=t.length;for(n||(n=Bd),i||(i=[]);++o<s;){var l=t[o];r>0&&n(l)?r>1?e(l,r-1,n,a,i):zd(i,l):a||(i[i.length]=l)}return i};var qd=function(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var l=o[e?s:++a];if(!1===r(i[l],l,i))break}return t}}(),Ud=Ec;var Fd=function(e,t){return e&&qd(e,t,Ud)},Gd=Sc;var Vd=function(e,t){return function(r,n){if(null==r)return r;if(!Gd(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&!1!==n(o[i],i,o););return r}}(Fd),Wd=Vd,Hd=Sc;var Xd=function(e,t){var r=-1,n=Hd(e)?Array(e.length):[];return Wd(e,function(e,a,i){n[++r]=t(e,a,i)}),n};var Kd=yr;var Yd=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,a=e==e,i=Kd(e),o=void 0!==t,s=null===t,l=t==t,c=Kd(t);if(!s&&!c&&!i&&e>t||i&&o&&l&&!s&&!c||n&&o&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||s&&r&&a||!o&&a||!l)return-1}return 0};var Jd=Zn,Qd=ya,Zd=ed,ef=Xd,tf=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e},rf=tc,nf=function(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var l=Yd(a[n],i[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index},af=Fu,of=Jt;var sf=function(e,t,r){t=t.length?Jd(t,function(e){return of(e)?function(t){return Qd(t,1===e.length?e[0]:e)}:e}):[af];var n=-1;t=Jd(t,rf(Zd));var a=ef(e,function(e,r,a){return{criteria:Jd(t,function(t){return t(e)}),index:++n,value:e}});return tf(a,function(e,t){return nf(e,t,r)})};var lf=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},cf=Math.max;var uf=function(e,t,r){return t=cf(void 0===t?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=cf(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),lf(e,this,s)}};var df=function(e){return function(){return e}},ff=Hr,pf=function(){try{var e=ff(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),hf=df,mf=pf,gf=mf?function(e,t){return mf(e,"toString",{configurable:!0,enumerable:!1,value:hf(t),writable:!0})}:Fu,yf=Date.now;var xf=function(e){var t=0,r=0;return function(){var n=yf(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(gf),vf=Fu,bf=uf,jf=xf;var wf=pn,Nf=Sc,Of=Xl,Sf=Nr;var Af=function(e,t,r){if(!Sf(r))return!1;var n=typeof t;return!!("number"==n?Nf(r)&&Of(t,r.length):"string"==n&&t in r)&&wf(r[t],e)},Pf=$d,kf=sf,Ef=Af;const Tf=l(function(e,t){return jf(bf(e,t,vf),e+"")}(function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ef(e,t[0],t[1])?t=[]:r>2&&Ef(t[0],t[1],t[2])&&(t=[t[0]]),kf(e,Pf(t,1),[])}));function Cf(e){return(Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}function _f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return If(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return If(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Df(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Df(Object(r),!0).forEach(function(t){Lf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Df(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lf(e,t,r){var n;return n=function(e,t){if("object"!=Cf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Cf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Cf(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zf(e){return Array.isArray(e)&&ei(e[0])&&ei(e[1])?e.join(" ~ "):e}var Bf=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,a=void 0===n?{}:n,i=e.itemStyle,o=void 0===i?{}:i,s=e.labelStyle,l=void 0===s?{}:s,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,x=void 0!==y&&y,v=Rf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),b=Rf({margin:0},l),j=!ja(m),w=j?m:"",N=Yt("recharts-default-tooltip",p),O=Yt("recharts-tooltip-label",h);j&&g&&null!=u&&(w=g(m,u));var S=x?{role:"status","aria-live":"assertive"}:{};return c.createElement("div",Mf({className:N,style:v},S),c.createElement("p",{className:O,style:b},c.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(f?Tf(u,f):u).map(function(e,t){if("none"===e.type)return null;var n=Rf({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),a=e.formatter||d||zf,i=e.value,s=e.name,l=i,f=s;if(a&&null!=l&&null!=f){var p=a(i,s,e,t,u);if(Array.isArray(p)){var h=_f(p,2);l=h[0],f=h[1]}else l=p}return c.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},ei(f)?c.createElement("span",{className:"recharts-tooltip-item-name"},f):null,ei(f)?c.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,c.createElement("span",{className:"recharts-tooltip-item-value"},l),c.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return c.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function $f(e){return($f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qf(e,t,r){var n;return n=function(e,t){if("object"!=$f(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=$f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==$f(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Uf="recharts-tooltip-wrapper",Ff={visibility:"hidden"};function Gf(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Yt(Uf,qf(qf(qf(qf({},"".concat(Uf,"-right"),Za(r)&&t&&Za(t.x)&&r>=t.x),"".concat(Uf,"-left"),Za(r)&&t&&Za(t.x)&&r<t.x),"".concat(Uf,"-bottom"),Za(n)&&t&&Za(t.y)&&n>=t.y),"".concat(Uf,"-top"),Za(n)&&t&&Za(t.y)&&n<t.y))}function Vf(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Za(i[n]))return i[n];var u=r[n]-s-a,d=r[n]+a;return t[n]?o[n]?u:d:o[n]?u<l[n]?Math.max(d,l[n]):Math.max(u,l[n]):d+s>l[n]+c?Math.max(u,l[n]):Math.max(d,l[n])}function Wf(e){return(Wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hf(Object(r),!0).forEach(function(t){ep(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kf(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tp(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yf(e,t,r){return t=Qf(t),function(e,t){if(t&&("object"===Wf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jf()?Reflect.construct(t,r||[],Qf(e).constructor):t.apply(e,r))}function Jf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Jf=function(){return!!e})()}function Qf(e){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zf(e,t){return(Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ep(e,t,r){return(t=tp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tp(e){var t=function(e,t){if("object"!=Wf(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Wf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Wf(t)?t:t+""}var rp=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ep(t=Yf(this,e,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ep(t,"handleKeyDown",function(e){var r,n,a,i;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=t.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(a=null===(i=t.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==a?a:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}(e,a.PureComponent),Kf(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.children,s=t.coordinate,l=t.hasPayload,u=t.isAnimationActive,d=t.offset,f=t.position,p=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,r,n=e.allowEscapeViewBox,a=e.coordinate,i=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=Vf({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:r=Vf({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Ff,cssClasses:Gf({translateX:t,translateY:r,coordinate:a})}}({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),x=y.cssClasses,v=y.cssProperties,b=Xf(Xf({transition:u&&r?"transform ".concat(a,"ms ").concat(i):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0},g);return c.createElement("div",{tabIndex:-1,className:x,style:b,ref:function(t){e.wrapperNode=t}},o)}}])}(),np=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function ap(e){return(ap="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(r),!0).forEach(function(t){fp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sp(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pp(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lp(e,t,r){return t=up(t),function(e,t){if(t&&("object"===ap(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cp()?Reflect.construct(t,r||[],up(e).constructor):t.apply(e,r))}function cp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cp=function(){return!!e})()}function up(e){return(up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dp(e,t){return(dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fp(e,t,r){return(t=pp(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pp(e){var t=function(e,t){if("object"!=ap(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ap(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ap(t)?t:t+""}function hp(e){return e.dataKey}var mp=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lp(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dp(e,t)}(e,a.PureComponent),sp(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,a=t.animationDuration,i=t.animationEasing,o=t.content,s=t.coordinate,l=t.filterNull,u=t.isAnimationActive,d=t.offset,f=t.payload,p=t.payloadUniqBy,h=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,x=t.wrapperStyle,v=null!=f?f:[];l&&v.length&&(v=bd(f.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,hp));var b=v.length>0;return c.createElement(rp,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:u,active:r,coordinate:s,hasPayload:b,offset:d,position:h,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:x},function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):"function"==typeof e?c.createElement(e,t):c.createElement(Bf,t)}(o,op(op({},this.props),{},{payload:v})))}}])}();fp(mp,"displayName","Tooltip"),fp(mp,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!np,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gp=tr,yp=/\s/;var xp=function(e){for(var t=e.length;t--&&yp.test(e.charAt(t)););return t},vp=/^\s+/;var bp=function(e){return e?e.slice(0,xp(e)+1).replace(vp,""):e},jp=Nr,wp=yr,Np=/^[-+]0x[0-9a-f]+$/i,Op=/^0b[01]+$/i,Sp=/^0o[0-7]+$/i,Ap=parseInt;var Pp=function(e){if("number"==typeof e)return e;if(wp(e))return NaN;if(jp(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jp(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=bp(e);var r=Op.test(e);return r||Sp.test(e)?Ap(e.slice(2),r?2:8):Np.test(e)?NaN:+e},kp=Nr,Ep=function(){return gp.Date.now()},Tp=Pp,Cp=Math.max,Mp=Math.min;var _p=function(e,t,r){var n,a,i,o,s,l,c=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var r=n,i=a;return n=a=void 0,c=t,o=e.apply(i,r)}function h(e){var r=e-l;return void 0===l||r>=t||r<0||d&&e-c>=i}function m(){var e=Ep();if(h(e))return g(e);s=setTimeout(m,function(e){var r=t-(e-l);return d?Mp(r,i-(e-c)):r}(e))}function g(e){return s=void 0,f&&n?p(e):(n=a=void 0,o)}function y(){var e=Ep(),r=h(e);if(n=arguments,a=this,l=e,r){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?p(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=Tp(t)||0,kp(r)&&(u=!!r.leading,i=(d="maxWait"in r)?Cp(Tp(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f),y.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=a=s=void 0},y.flush=function(){return void 0===s?o:g(Ep())},y},Ip=Nr;const Dp=l(function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Ip(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),_p(e,t,{leading:n,maxWait:t,trailing:a})});function Rp(e){return(Rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lp(Object(r),!0).forEach(function(t){Bp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bp(e,t,r){var n;return n=function(e,t){if("object"!=Rp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Rp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Rp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Up=a.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=void 0===n?{width:-1,height:-1}:n,o=e.width,s=void 0===o?"100%":o,l=e.height,u=void 0===l?"100%":l,d=e.minWidth,f=void 0===d?0:d,p=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,y=void 0===g?0:g,x=e.id,v=e.className,b=e.onResize,j=e.style,w=void 0===j?{}:j,N=a.useRef(null),O=a.useRef();O.current=b,a.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return N.current},configurable:!0})});var S=$p(a.useState({containerWidth:i.width,containerHeight:i.height}),2),A=S[0],P=S[1],k=a.useCallback(function(e,t){P(function(r){var n=Math.round(e),a=Math.round(t);return r.containerWidth===n&&r.containerHeight===a?r:{containerWidth:n,containerHeight:a}})},[]);a.useEffect(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,a=r.height;k(n,a),null===(t=O.current)||void 0===t||t.call(O,n,a)};y>0&&(e=Dp(e,y,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=N.current.getBoundingClientRect(),n=r.width,a=r.height;return k(n,a),t.observe(N.current),function(){t.disconnect()}},[k,y]);var E=a.useMemo(function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;Ui(Qa(s)||Qa(u),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,u),Ui(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=Qa(s)?e:s,i=Qa(u)?t:u;r&&r>0&&(n?i=n/r:i&&(n=i*r),h&&i>h&&(i=h)),Ui(n>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,i,s,u,f,p,r);var o=!Array.isArray(m)&&ji(m.type).endsWith("Chart");return c.Children.map(m,function(e){return c.isValidElement(e)?a.cloneElement(e,zp({width:n,height:i},o?{style:zp({height:"100%",width:"100%",maxHeight:i,maxWidth:n},e.props.style)}:{})):e})},[r,m,u,h,p,f,A,s]);return c.createElement("div",{id:x?"".concat(x):void 0,className:Yt("recharts-responsive-container",v),style:zp(zp({},w),{},{width:s,height:u,minWidth:f,minHeight:p,maxHeight:h}),ref:N},E)}),Fp=function(e){return null};function Gp(e){return(Gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vp(Object(r),!0).forEach(function(t){Hp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hp(e,t,r){var n;return n=function(e,t){if("object"!=Gp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Gp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Gp(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Fp.displayName="Cell";var Xp={widthCache:{},cacheCount:0},Kp={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Yp="recharts_measurement_span";var Jp=function(e){if(null==e||np)return{width:0,height:0};var t,r=(t=Wp({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),n=JSON.stringify({text:e,copyStyle:r});if(Xp.widthCache[n])return Xp.widthCache[n];try{var a=document.getElementById(Yp);a||((a=document.createElement("span")).setAttribute("id",Yp),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=Wp(Wp({},Kp),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),s={width:o.width,height:o.height};return Xp.widthCache[n]=s,++Xp.cacheCount>2e3&&(Xp.cacheCount=0,Xp.widthCache={}),s}catch(l){return{width:0,height:0}}};function Qp(e){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return eh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function th(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rh(n.key),n)}}function rh(e){var t=function(e,t){if("object"!=Qp(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Qp(t)?t:t+""}var nh=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ah=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ih=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oh=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sh={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},lh=Object.keys(sh),ch="NaN";var uh=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||ih.test(r)||(this.num=NaN,this.unit=""),lh.includes(r)&&(this.num=function(e,t){return e*sh[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=Zp(null!==(r=oh.exec(t))&&void 0!==r?r:[],3),a=n[1],i=n[2];return new e(parseFloat(a),null!=i?i:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&th(t.prototype,r),n&&th(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function dh(e){if(e.includes(ch))return ch;for(var t=e;t.includes("*")||t.includes("/");){var r,n=Zp(null!==(r=nh.exec(t))&&void 0!==r?r:[],4),a=n[1],i=n[2],o=n[3],s=uh.parse(null!=a?a:""),l=uh.parse(null!=o?o:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return ch;t=t.replace(nh,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=Zp(null!==(u=ah.exec(t))&&void 0!==u?u:[],4),f=d[1],p=d[2],h=d[3],m=uh.parse(null!=f?f:""),g=uh.parse(null!=h?h:""),y="+"===p?m.add(g):m.subtract(g);if(y.isNaN())return ch;t=t.replace(ah,y.toString())}return t}var fh=/\(([^()]*)\)/;function ph(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=Zp(fh.exec(t),2)[1];t=t.replace(fh,dh(r))}return t}(t),t=dh(t)}function hh(e){var t=function(e){try{return ph(e)}catch(t){return ch}}(e.slice(5,-1));return t===ch?"":t}var mh=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gh=["dx","dy","angle","className","breakAll"];function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(this,arguments)}function xh(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bh(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jh=/[ \f\n\r\t\v\u2028\u2029]+/,wh=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];return ja(t)||(a=r?t.toString().split(""):t.toString().split(jh)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:Jp(e,n).width}}),spaceWidth:r?0:Jp(" ",n).width}}catch(i){return null}},Nh=function(e){return[{words:ja(e)?[]:e.toString().split(jh)}]},Oh=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!np){var s=wh({breakAll:i,children:n,style:a});return s?function(e,t,r,n,a){var i=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Za(i),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var i=t.word,o=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+o+r<Number(n)))s.words.push(i),s.width+=o+r;else{var l={words:[i],width:o};e.push(l)}return e},[])},f=d(t);if(!c)return f;for(var p,h=function(e){var t=u.slice(0,e),r=wh({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,a=d(r),o=a.length>i||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(n);return[o,a]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var x=Math.floor((m+g)/2),v=vh(h(x-1),2),b=v[0],j=v[1],w=vh(h(x),1)[0];if(b||w||(m=x+1),b&&w&&(g=x-1),!b&&w){p=j;break}y++}return p||f}({breakAll:i,children:n,maxLines:o,style:a},s.wordsWithComputedWidth,s.spaceWidth,t,r):Nh(n)}return Nh(n)},Sh="#808080",Ah=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,i=void 0===n?0:n,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,u=void 0===l?"0.71em":l,d=e.scaleToFit,f=void 0!==d&&d,p=e.textAnchor,h=void 0===p?"start":p,m=e.verticalAnchor,g=void 0===m?"end":m,y=e.fill,x=void 0===y?Sh:y,v=xh(e,mh),b=a.useMemo(function(){return Oh({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),j=v.dx,w=v.dy,N=v.angle,O=v.className,S=v.breakAll,A=xh(v,gh);if(!ei(r)||!ei(i))return null;var P,k=r+(Za(j)?j:0),E=i+(Za(w)?w:0);switch(g){case"start":P=hh("calc(".concat(u,")"));break;case"middle":P=hh("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=hh("calc(".concat(b.length-1," * -").concat(s,")"))}var T=[];if(f){var C=b[0].width,M=v.width;T.push("scale(".concat((Za(M)?M/C:1)/C,")"))}return N&&T.push("rotate(".concat(N,", ").concat(k,", ").concat(E,")")),T.length&&(A.transform=T.join(" ")),c.createElement("text",yh({},Ti(A,!0),{x:k,y:E,className:Yt("recharts-text",O),textAnchor:h,fill:x.includes("url")?Sh:x}),b.map(function(e,t){var r=e.words.join(S?"":" ");return c.createElement("tspan",{x:k,dy:0===t?P:s,key:"".concat(r,"-").concat(t)},r)}))};function Ph(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kh(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Eh(e){let t,r,n;function a(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<0?a=t+1:i=t}while(a<i)}return a}return 2!==e.length?(t=Ph,r=(t,r)=>Ph(e(t),r),n=(t,r)=>e(t)-r):(t=e===Ph||e===kh?e:Th,r=e,n=e),{left:a,center:function(e,t,r=0,i=e.length){const o=a(e,t,r,i-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,a=0,i=e.length){if(a<i){if(0!==t(n,n))return i;do{const t=a+i>>>1;r(e[t],n)<=0?a=t+1:i=t}while(a<i)}return a}}}function Th(){return 0}function Ch(e){return null===e?NaN:+e}const Mh=Eh(Ph).right;Eh(Ch).center;class _h extends Map{constructor(e,t=Dh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Ih(this,e))}has(e){return super.has(Ih(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function Ih({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Dh(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Rh(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Lh=Math.sqrt(50),zh=Math.sqrt(10),Bh=Math.sqrt(2);function $h(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Lh?10:i>=zh?5:i>=Bh?2:1;let s,l,c;return a<0?(c=Math.pow(10,-a)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?$h(e,t,2*r):[s,l,c]}function qh(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,i,o]=n?$h(t,e,r):$h(e,t,r);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(i-c)/-o;else for(let c=0;c<s;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(a+c)/-o;else for(let c=0;c<s;++c)l[c]=(a+c)*o;return l}function Uh(e,t,r){return $h(e=+e,t=+t,r=+r)[2]}function Fh(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Uh(t,e,r):Uh(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Gh(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function Vh(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function Wh(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Rh:function(e=Ph){if(e===Ph)return Rh;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(a);n>r;){if(n-r>600){const i=n-r+1,o=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(o-i/2<0?-1:1);Wh(e,t,Math.max(r,Math.floor(t-o*l/i+c)),Math.min(n,Math.floor(t+(i-o)*l/i+c)),a)}const i=e[t];let o=r,s=n;for(Hh(e,r,t),a(e[n],i)>0&&Hh(e,r,n);o<s;){for(Hh(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}0===a(e[r],i)?Hh(e,r,s):(++s,Hh(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Hh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Xh(e,t,r=Ch){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e);return o+(+r(e[i+1],i+1,e)-o)*(a-i)}}function Kh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Yh(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Jh=Symbol("implicit");function Qh(){var e=new _h,t=[],r=[],n=Jh;function a(a){let i=e.get(a);if(void 0===i){if(n!==Jh)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new _h;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return Qh(t,r).unknown(n)},Kh.apply(a,arguments),a}function Zh(){var e,t,r=Qh().unknown(void 0),n=r.domain,a=r.range,i=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<i,f=d?o:i,p=d?i:o;e=(p-f)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),f+=(p-f-e*(r-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var h=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),i=new Array(a);++n<a;)i[n]=e+n*r;return i}(r).map(function(t){return f+e*t});return a(d?h.reverse():h)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([i,o]=e,i=+i,o=+o,d()):[i,o]},r.rangeRound=function(e){return[i,o]=e,i=+i,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return Zh(n(),[i,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},Kh.apply(d(),arguments)}function em(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return em(t())},e}function tm(){return em(Zh.apply(null,arguments).paddingInner(1))}function rm(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function am(){}var im=.7,om=1/im,sm="\\s*([+-]?\\d+)\\s*",lm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",um=/^#([0-9a-f]{3,8})$/,dm=new RegExp(`^rgb\\(${sm},${sm},${sm}\\)$`),fm=new RegExp(`^rgb\\(${cm},${cm},${cm}\\)$`),pm=new RegExp(`^rgba\\(${sm},${sm},${sm},${lm}\\)$`),hm=new RegExp(`^rgba\\(${cm},${cm},${cm},${lm}\\)$`),mm=new RegExp(`^hsl\\(${lm},${cm},${cm}\\)$`),gm=new RegExp(`^hsla\\(${lm},${cm},${cm},${lm}\\)$`),ym={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xm(){return this.rgb().formatHex()}function vm(){return this.rgb().formatRgb()}function bm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=um.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?jm(t):3===r?new Om(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?wm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?wm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dm.exec(e))?new Om(t[1],t[2],t[3],1):(t=fm.exec(e))?new Om(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=pm.exec(e))?wm(t[1],t[2],t[3],t[4]):(t=hm.exec(e))?wm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=mm.exec(e))?Tm(t[1],t[2]/100,t[3]/100,1):(t=gm.exec(e))?Tm(t[1],t[2]/100,t[3]/100,t[4]):ym.hasOwnProperty(e)?jm(ym[e]):"transparent"===e?new Om(NaN,NaN,NaN,0):null}function jm(e){return new Om(e>>16&255,e>>8&255,255&e,1)}function wm(e,t,r,n){return n<=0&&(e=t=r=NaN),new Om(e,t,r,n)}function Nm(e,t,r,n){return 1===arguments.length?((a=e)instanceof am||(a=bm(a)),a?new Om((a=a.rgb()).r,a.g,a.b,a.opacity):new Om):new Om(e,t,r,null==n?1:n);var a}function Om(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Sm(){return`#${Em(this.r)}${Em(this.g)}${Em(this.b)}`}function Am(){const e=Pm(this.opacity);return`${1===e?"rgb(":"rgba("}${km(this.r)}, ${km(this.g)}, ${km(this.b)}${1===e?")":`, ${e})`}`}function Pm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function km(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Em(e){return((e=km(e))<16?"0":"")+e.toString(16)}function Tm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mm(e,t,r,n)}function Cm(e){if(e instanceof Mm)return new Mm(e.h,e.s,e.l,e.opacity);if(e instanceof am||(e=bm(e)),!e)return new Mm;if(e instanceof Mm)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,l=(i+a)/2;return s?(o=t===i?(r-n)/s+6*(r<n):r===i?(n-t)/s+2:(t-r)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Mm(o,s,l,e.opacity)}function Mm(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function _m(e){return(e=(e||0)%360)<0?e+360:e}function Im(e){return Math.max(0,Math.min(1,e||0))}function Dm(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}rm(am,bm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xm,formatHex:xm,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Cm(this).formatHsl()},formatRgb:vm,toString:vm}),rm(Om,Nm,nm(am,{brighter(e){return e=null==e?om:Math.pow(om,e),new Om(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?im:Math.pow(im,e),new Om(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Om(km(this.r),km(this.g),km(this.b),Pm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sm,formatHex:Sm,formatHex8:function(){return`#${Em(this.r)}${Em(this.g)}${Em(this.b)}${Em(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Am,toString:Am})),rm(Mm,function(e,t,r,n){return 1===arguments.length?Cm(e):new Mm(e,t,r,null==n?1:n)},nm(am,{brighter(e){return e=null==e?om:Math.pow(om,e),new Mm(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?im:Math.pow(im,e),new Mm(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Om(Dm(e>=240?e-240:e+120,a,n),Dm(e,a,n),Dm(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Mm(_m(this.h),Im(this.s),Im(this.l),Pm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Pm(this.opacity);return`${1===e?"hsl(":"hsla("}${_m(this.h)}, ${100*Im(this.s)}%, ${100*Im(this.l)}%${1===e?")":`, ${e})`}`}}));const Rm=e=>()=>e;function Lm(e){return 1===(e=+e)?zm:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Rm(isNaN(t)?r:t)}}function zm(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):Rm(isNaN(e)?t:e)}const Bm=function e(t){var r=Lm(t);function n(e,t){var n=r((e=Nm(e)).r,(t=Nm(t)).r),a=r(e.g,t.g),i=r(e.b,t.b),o=zm(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function $m(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(i){for(r=0;r<n;++r)a[r]=e[r]*(1-i)+t[r]*i;return a}}function qm(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,i=new Array(a),o=new Array(n);for(r=0;r<a;++r)i[r]=Xm(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<a;++r)o[r]=i[r](e);return o}}function Um(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Gm(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Xm(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Vm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wm=new RegExp(Vm.source,"g");function Hm(e,t){var r,n,a,i=Vm.lastIndex=Wm.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=Vm.exec(e))&&(n=Wm.exec(t));)(a=n.index)>i&&(a=t.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:Fm(r,n)})),i=Wm.lastIndex;return i<t.length&&(a=t.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function Xm(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?Rm(t):("number"===a?Fm:"string"===a?(r=bm(t))?(t=r,Bm):Hm:t instanceof bm?Bm:t instanceof Date?Um:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?qm:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Gm:Fm:$m))(e,t)}function Km(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ym(e){return+e}var Jm=[0,1];function Qm(e){return e}function Zm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function eg(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Zm(a,n),i=r(o,i)):(n=Zm(n,a),i=r(i,o)),function(e){return i(n(e))}}function tg(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Zm(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(t){var r=Mh(e,t,1,n)-1;return i[r](a[r](t))}}function rg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ng(){var e,t,r,n,a,i,o=Jm,s=Jm,l=Xm,c=Qm;function u(){var e,t,r,l=Math.min(o.length,s.length);return c!==Qm&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?tg:eg,a=i=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((i||(i=n(s,o.map(e),Fm)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,Ym),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=Km,u()},d.clamp=function(e){return arguments.length?(c=!!e||Qm,u()):c!==Qm},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function ag(){return ng()(Qm,Qm)}function ig(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function og(e){return(e=ig(Math.abs(e)))?e[1]:NaN}var sg,lg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cg(e){if(!(t=lg.exec(e)))throw new Error("invalid format: "+e);var t;return new ug({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ug(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function dg(e,t){var r=ig(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}cg.prototype=ug.prototype,ug.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const fg={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dg(100*e,t),r:dg,s:function(e,t){var r=ig(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(sg=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ig(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pg(e){return e}var hg,mg,gg,yg=Array.prototype.map,xg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vg(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?pg:(t=yg.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,i=[],o=0,s=t[0],l=0;a>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(a-=s,a+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return i.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?pg:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(yg.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=cg(e)).fill,r=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,m=e.comma,g=e.precision,y=e.trim,x=e.type;"n"===x?(m=!0,x="g"):fg[x]||(void 0===g&&(g=12),y=!0,x="g"),(p||"0"===t&&"="===r)&&(p=!0,t="0",r="=");var v="$"===f?a:"#"===f&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",b="$"===f?i:/[%p]/.test(x)?l:"",j=fg[x],w=/[defgprs%]/.test(x);function N(e){var a,i,l,f=v,N=b;if("c"===x)N=j(e)+N,e="";else{var O=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:j(Math.abs(e),g),y&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),O&&0===+e&&"+"!==d&&(O=!1),f=(O?"("===d?d:c:"-"===d||"("===d?"":d)+f,N=("s"===x?xg[8+sg/3]:"")+N+(O&&"("===d?")":""),w)for(a=-1,i=e.length;++a<i;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?o+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}m&&!p&&(e=n(e,1/0));var S=f.length+e.length+N.length,A=S<h?new Array(h-S+1).join(t):"";switch(m&&p&&(e=n(A+e,A.length?h-N.length:1/0),A=""),r){case"<":e=f+e+N+A;break;case"=":e=f+A+e+N;break;case"^":e=A.slice(0,S=A.length>>1)+f+e+N+A.slice(S);break;default:e=A+f+e+N}return s(e)}return g=void 0===g?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),N.toString=function(){return e+""},N}return{format:d,formatPrefix:function(e,t){var r=d(((e=cg(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(og(t)/3))),a=Math.pow(10,-n),i=xg[8+n/3];return function(e){return r(a*e)+i}}}}function bg(e,t,r,n){var a,i=Fh(e,t,r);switch((n=cg(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(og(t)/3)))-og(Math.abs(e)))}(i,o))||(n.precision=a),gg(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,og(t)-og(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-og(Math.abs(e)))}(i))||(n.precision=a-2*("%"===n.type))}return mg(n)}function jg(e){var t=e.domain;return e.ticks=function(e){var r=t();return qh(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return bg(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,i=t(),o=0,s=i.length-1,l=i[o],c=i[s],u=10;for(c<l&&(a=l,l=c,c=a,a=o,o=s,s=a);u-- >0;){if((a=Uh(l,c,r))===n)return i[o]=l,i[s]=c,t(i);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}n=a}return e},e}function wg(){var e=ag();return e.copy=function(){return rg(e,wg())},Kh.apply(e,arguments),jg(e)}function Ng(e,t){var r,n=0,a=(e=e.slice()).length-1,i=e[n],o=e[a];return o<i&&(r=n,n=a,a=r,r=i,i=o,o=r),e[n]=t.floor(i),e[a]=t.ceil(o),e}function Og(e){return Math.log(e)}function Sg(e){return Math.exp(e)}function Ag(e){return-Math.log(-e)}function Pg(e){return-Math.exp(-e)}function kg(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Eg(e){return(t,r)=>-e(-t,r)}function Tg(e){const t=e(Og,Sg),r=t.domain;let n,a,i=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),a=function(e){return 10===e?kg:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),r()[0]<0?(n=Eg(n),a=Eg(a),e(Ag,Pg)):e(Og,Sg),t}return t.base=function(e){return arguments.length?(i=+e,o()):i},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),f=n(s);const p=null==e?10:+e;let h=[];if(!(i%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),o>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;h.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/a(-d):c*a(d),!(u<o)){if(u>s)break;h.push(u)}2*h.length<p&&(h=qh(o,s,p))}else h=qh(d,f,Math.min(f-d,p)).map(a);return l?h.reverse():h},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===i?"s":","),"function"!=typeof r&&(i%1||null!=(r=cg(r)).precision||(r.trim=!0),r=mg(r)),e===1/0)return r;const o=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*i<i-.5&&(t*=i),t<=o?r(e):""}},t.nice=()=>r(Ng(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function Cg(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Mg(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _g(e){var t=1,r=e(Cg(t),Mg(t));return r.constant=function(r){return arguments.length?e(Cg(t=+r),Mg(t)):t},jg(r)}function Ig(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Dg(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rg(e){return e<0?-e*e:e*e}function Lg(e){var t=e(Qm,Qm),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Qm,Qm):.5===r?e(Dg,Rg):e(Ig(r),Ig(1/r)):r},jg(t)}function zg(){var e=Lg(ng());return e.copy=function(){return rg(e,zg()).exponent(e.exponent())},Kh.apply(e,arguments),e}function Bg(e){return Math.sign(e)*e*e}hg=vg({thousands:",",grouping:[3],currency:["$",""]}),mg=hg.format,gg=hg.formatPrefix;const $g=new Date,qg=new Date;function Ug(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,i)=>{const o=[];if(r=a.ceil(r),i=null==i?1:Math.floor(i),!(r<n&&i>0))return o;let s;do{o.push(s=new Date(+r)),t(r,i),e(r)}while(s<r&&r<n);return o},a.filter=r=>Ug(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(a.count=(t,n)=>($g.setTime(+t),qg.setTime(+n),e($g),e(qg),Math.floor(r($g,qg))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const Fg=Ug(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fg.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Ug(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fg:null),Fg.range;const Gg=1e3,Vg=6e4,Wg=36e5,Hg=864e5,Xg=6048e5,Kg=2592e6,Yg=31536e6,Jg=Ug(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gg)},(e,t)=>(t-e)/Gg,e=>e.getUTCSeconds());Jg.range;const Qg=Ug(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gg)},(e,t)=>{e.setTime(+e+t*Vg)},(e,t)=>(t-e)/Vg,e=>e.getMinutes());Qg.range;const Zg=Ug(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vg)},(e,t)=>(t-e)/Vg,e=>e.getUTCMinutes());Zg.range;const ey=Ug(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gg-e.getMinutes()*Vg)},(e,t)=>{e.setTime(+e+t*Wg)},(e,t)=>(t-e)/Wg,e=>e.getHours());ey.range;const ty=Ug(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wg)},(e,t)=>(t-e)/Wg,e=>e.getUTCHours());ty.range;const ry=Ug(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vg)/Hg,e=>e.getDate()-1);ry.range;const ny=Ug(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hg,e=>e.getUTCDate()-1);ny.range;const ay=Ug(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hg,e=>Math.floor(e/Hg));function iy(e){return Ug(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vg)/Xg)}ay.range;const oy=iy(0),sy=iy(1),ly=iy(2),cy=iy(3),uy=iy(4),dy=iy(5),fy=iy(6);function py(e){return Ug(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/Xg)}oy.range,sy.range,ly.range,cy.range,uy.range,dy.range,fy.range;const hy=py(0),my=py(1),gy=py(2),yy=py(3),xy=py(4),vy=py(5),by=py(6);hy.range,my.range,gy.range,yy.range,xy.range,vy.range,by.range;const jy=Ug(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());jy.range;const wy=Ug(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());wy.range;const Ny=Ug(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ny.every=e=>isFinite(e=Math.floor(e))&&e>0?Ug(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,Ny.range;const Oy=Ug(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Sy(e,t,r,n,a,i){const o=[[Jg,1,Gg],[Jg,5,5e3],[Jg,15,15e3],[Jg,30,3e4],[i,1,Vg],[i,5,3e5],[i,15,9e5],[i,30,18e5],[a,1,Wg],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,Hg],[n,2,1728e5],[r,1,Xg],[t,1,Kg],[t,3,7776e6],[e,1,Yg]];function s(t,r,n){const a=Math.abs(r-t)/n,i=Eh(([,,e])=>e).right(o,a);if(i===o.length)return e.every(Fh(t/Yg,r/Yg,n));if(0===i)return Fg.every(Math.max(Fh(t,r,n),1));const[s,l]=o[a/o[i-1][2]<o[i][2]/a?i-1:i];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:s(e,t,r),i=a?a.range(e,+t+1):[];return n?i.reverse():i},s]}Oy.every=e=>isFinite(e=Math.floor(e))&&e>0?Ug(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,Oy.range;const[Ay,Py]=Sy(Oy,wy,hy,ay,ty,Zg),[ky,Ey]=Sy(Ny,jy,oy,ry,ey,Qg);function Ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function My(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var _y,Iy,Dy,Ry={"-":"",_:" ",0:"0"},Ly=/^\s*\d+/,zy=/^%/,By=/[\\^$*+?|[\]().{}]/g;function $y(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function qy(e){return e.replace(By,"\\$&")}function Uy(e){return new RegExp("^(?:"+e.map(qy).join("|")+")","i")}function Fy(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Gy(e,t,r){var n=Ly.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Vy(e,t,r){var n=Ly.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Wy(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Hy(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Xy(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ky(e,t,r){var n=Ly.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Yy(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Jy(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qy(e,t,r){var n=Ly.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function Zy(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ex(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function tx(e,t,r){var n=Ly.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function rx(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nx(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ax(e,t,r){var n=Ly.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ix(e,t,r){var n=Ly.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ox(e,t,r){var n=Ly.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sx(e,t,r){var n=zy.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function lx(e,t,r){var n=Ly.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function cx(e,t,r){var n=Ly.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ux(e,t){return $y(e.getDate(),t,2)}function dx(e,t){return $y(e.getHours(),t,2)}function fx(e,t){return $y(e.getHours()%12||12,t,2)}function px(e,t){return $y(1+ry.count(Ny(e),e),t,3)}function hx(e,t){return $y(e.getMilliseconds(),t,3)}function mx(e,t){return hx(e,t)+"000"}function gx(e,t){return $y(e.getMonth()+1,t,2)}function yx(e,t){return $y(e.getMinutes(),t,2)}function xx(e,t){return $y(e.getSeconds(),t,2)}function vx(e){var t=e.getDay();return 0===t?7:t}function bx(e,t){return $y(oy.count(Ny(e)-1,e),t,2)}function jx(e){var t=e.getDay();return t>=4||0===t?uy(e):uy.ceil(e)}function wx(e,t){return e=jx(e),$y(uy.count(Ny(e),e)+(4===Ny(e).getDay()),t,2)}function Nx(e){return e.getDay()}function Ox(e,t){return $y(sy.count(Ny(e)-1,e),t,2)}function Sx(e,t){return $y(e.getFullYear()%100,t,2)}function Ax(e,t){return $y((e=jx(e)).getFullYear()%100,t,2)}function Px(e,t){return $y(e.getFullYear()%1e4,t,4)}function kx(e,t){var r=e.getDay();return $y((e=r>=4||0===r?uy(e):uy.ceil(e)).getFullYear()%1e4,t,4)}function Ex(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$y(t/60|0,"0",2)+$y(t%60,"0",2)}function Tx(e,t){return $y(e.getUTCDate(),t,2)}function Cx(e,t){return $y(e.getUTCHours(),t,2)}function Mx(e,t){return $y(e.getUTCHours()%12||12,t,2)}function _x(e,t){return $y(1+ny.count(Oy(e),e),t,3)}function Ix(e,t){return $y(e.getUTCMilliseconds(),t,3)}function Dx(e,t){return Ix(e,t)+"000"}function Rx(e,t){return $y(e.getUTCMonth()+1,t,2)}function Lx(e,t){return $y(e.getUTCMinutes(),t,2)}function zx(e,t){return $y(e.getUTCSeconds(),t,2)}function Bx(e){var t=e.getUTCDay();return 0===t?7:t}function $x(e,t){return $y(hy.count(Oy(e)-1,e),t,2)}function qx(e){var t=e.getUTCDay();return t>=4||0===t?xy(e):xy.ceil(e)}function Ux(e,t){return e=qx(e),$y(xy.count(Oy(e),e)+(4===Oy(e).getUTCDay()),t,2)}function Fx(e){return e.getUTCDay()}function Gx(e,t){return $y(my.count(Oy(e)-1,e),t,2)}function Vx(e,t){return $y(e.getUTCFullYear()%100,t,2)}function Wx(e,t){return $y((e=qx(e)).getUTCFullYear()%100,t,2)}function Hx(e,t){return $y(e.getUTCFullYear()%1e4,t,4)}function Xx(e,t){var r=e.getUTCDay();return $y((e=r>=4||0===r?xy(e):xy.ceil(e)).getUTCFullYear()%1e4,t,4)}function Kx(){return"+0000"}function Yx(){return"%"}function Jx(e){return+e}function Qx(e){return Math.floor(+e/1e3)}function Zx(e){return new Date(e)}function ev(e){return e instanceof Date?+e:+new Date(+e)}function tv(e,t,r,n,a,i,o,s,l,c){var u=ag(),d=u.invert,f=u.domain,p=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),x=c("%b %d"),v=c("%B"),b=c("%Y");function j(e){return(l(e)<e?p:s(e)<e?h:o(e)<e?m:i(e)<e?g:n(e)<e?a(e)<e?y:x:r(e)<e?v:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,ev)):f().map(Zx)},u.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?j:c(t)},u.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(Ng(r,e)):u},u.copy=function(){return rg(u,tv(e,t,r,n,a,i,o,s,l,c))},u}function rv(){var e,t,r,n,a,i=0,o=1,s=Qm,l=!1;function c(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(a){return arguments.length?([i,o]=a,e=n(i=+i),t=n(o=+o),r=e===t?0:1/(t-e),c):[i,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(Xm),c.rangeRound=u(Km),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return n=a,e=a(i),t=a(o),r=e===t?0:1/(t-e),c}}function nv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function av(){var e=Lg(rv());return e.copy=function(){return nv(e,av()).exponent(e.exponent())},Yh.apply(e,arguments)}function iv(){var e,t,r,n,a,i,o,s=0,l=.5,c=1,u=1,d=Qm,f=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+i(e))-t)*(u*e<u*t?n:a),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Xm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return i[t](e-t)}}(e,[r,n,a]),p):[d(0),d(.5),d(1)]}}return p.domain=function(o){return arguments.length?([s,l,c]=o,e=i(s=+s),t=i(l=+l),r=i(c=+c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(Xm),p.rangeRound=h(Km),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return i=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,p}}function ov(){var e=Lg(iv());return e.copy=function(){return nv(e,ov()).exponent(e.exponent())},Yh.apply(e,arguments)}!function(e){_y=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Uy(a),u=Fy(a),d=Uy(i),f=Fy(i),p=Uy(o),h=Fy(o),m=Uy(s),g=Fy(s),y=Uy(l),x=Fy(l),v={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ux,e:ux,f:mx,g:Ax,G:kx,H:dx,I:fx,j:px,L:hx,m:gx,M:yx,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Jx,s:Qx,S:xx,u:vx,U:bx,V:wx,w:Nx,W:Ox,x:null,X:null,y:Sx,Y:Px,Z:Ex,"%":Yx},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Tx,e:Tx,f:Dx,g:Wx,G:Xx,H:Cx,I:Mx,j:_x,L:Ix,m:Rx,M:Lx,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Jx,s:Qx,S:zx,u:Bx,U:$x,V:Ux,w:Fx,W:Gx,x:null,X:null,y:Vx,Y:Hx,Z:Kx,"%":Yx},j={a:function(e,t,r){var n=p.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return O(e,t,r,n)},d:ex,e:ex,f:ox,g:Yy,G:Ky,H:rx,I:rx,j:tx,L:ix,m:Zy,M:nx,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:Qy,Q:lx,s:cx,S:ax,u:Vy,U:Wy,V:Hy,w:Gy,W:Xy,x:function(e,t,n){return O(e,r,t,n)},X:function(e,t,r){return O(e,n,t,r)},y:Yy,Y:Ky,Z:Jy,"%":sx};function w(e,t){return function(r){var n,a,i,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(a=Ry[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(i=t[n])&&(n=i(r,a)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function N(e,t){return function(r){var n,a,i=My(1900,void 0,1);if(O(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(n=Cy(My(i.y,0,1))).getUTCDay(),n=a>4||0===a?my.ceil(n):my(n),n=ny.offset(n,7*(i.V-1)),i.y=n.getUTCFullYear(),i.m=n.getUTCMonth(),i.d=n.getUTCDate()+(i.w+6)%7):(a=(n=Ty(My(i.y,0,1))).getDay(),n=a>4||0===a?sy.ceil(n):sy(n),n=ry.offset(n,7*(i.V-1)),i.y=n.getFullYear(),i.m=n.getMonth(),i.d=n.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Cy(My(i.y,0,1)).getUTCDay():Ty(My(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Cy(i)):Ty(i)}}function O(e,t,r,n){for(var a,i,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(a=t.charCodeAt(o++))){if(a=t.charAt(o++),!(i=j[a in Ry?t.charAt(o++):a])||(n=i(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),Iy=_y.format,_y.parse,Dy=_y.utcFormat,_y.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const sv=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zh,scaleDiverging:function e(){var t=jg(iv()(Qm));return t.copy=function(){return nv(t,e())},Yh.apply(t,arguments)},scaleDivergingLog:function e(){var t=Tg(iv()).domain([.1,1,10]);return t.copy=function(){return nv(t,e()).base(t.base())},Yh.apply(t,arguments)},scaleDivergingPow:ov,scaleDivergingSqrt:function(){return ov.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=_g(iv());return t.copy=function(){return nv(t,e()).constant(t.constant())},Yh.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,Ym),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,Ym):[0,1],jg(n)},scaleImplicit:Jh,scaleLinear:wg,scaleLog:function e(){const t=Tg(ng()).domain([1,10]);return t.copy=()=>rg(t,e()).base(t.base()),Kh.apply(t,arguments),t},scaleOrdinal:Qh,scalePoint:tm,scalePow:zg,scaleQuantile:function e(){var t,r=[],n=[],a=[];function i(){var e=0,t=Math.max(1,n.length);for(a=new Array(t-1);++e<t;)a[e-1]=Xh(r,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:n[Mh(a,e)]}return o.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},o.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(Ph),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return a.slice()},o.copy=function(){return e().domain(r).range(n).unknown(t)},Kh.apply(o,arguments)},scaleQuantize:function e(){var t,r=0,n=1,a=1,i=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[Mh(i,e,0,a)]:t}function l(){var e=-1;for(i=new Array(a);++e<a;)i[e]=((e+1)*n-(e-a)*r)/(a+1);return s}return s.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},s.range=function(e){return arguments.length?(a=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,i[0]]:t>=a?[i[a-1],n]:[i[t-1],i[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return e().domain([r,n]).range(o).unknown(t)},Kh.apply(jg(s),arguments)},scaleRadial:function e(){var t,r=ag(),n=[0,1],a=!1;function i(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:a?Math.round(n):n}return i.invert=function(e){return r.invert(Bg(e))},i.domain=function(e){return arguments.length?(r.domain(e),i):r.domain()},i.range=function(e){return arguments.length?(r.range((n=Array.from(e,Ym)).map(Bg)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(a=!!e,i):a},i.clamp=function(e){return arguments.length?(r.clamp(e),i):r.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(r.domain(),n).round(a).clamp(r.clamp()).unknown(t)},Kh.apply(i,arguments),jg(i)},scaleSequential:function e(){var t=jg(rv()(Qm));return t.copy=function(){return nv(t,e())},Yh.apply(t,arguments)},scaleSequentialLog:function e(){var t=Tg(rv()).domain([1,10]);return t.copy=function(){return nv(t,e()).base(t.base())},Yh.apply(t,arguments)},scaleSequentialPow:av,scaleSequentialQuantile:function e(){var t=[],r=Qm;function n(e){if(null!=e&&!isNaN(e=+e))return r((Mh(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Ph),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return Vh(e);if(t>=1)return Gh(e);var r,n=(r-1)*t,a=Math.floor(n),i=Gh(Wh(e,a).subarray(0,a+1));return i+(Vh(e.subarray(a+1))-i)*(n-a)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},Yh.apply(n,arguments)},scaleSequentialSqrt:function(){return av.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=_g(rv());return t.copy=function(){return nv(t,e()).constant(t.constant())},Yh.apply(t,arguments)},scaleSqrt:function(){return zg.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=_g(ng());return t.copy=function(){return rg(t,e()).constant(t.constant())},Kh.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],a=1;function i(e){return null!=e&&e<=e?n[Mh(r,e,0,a)]:t}return i.domain=function(e){return arguments.length?(r=Array.from(e),a=Math.min(r.length,n.length-1),i):r.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),a=Math.min(r.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e().domain(r).range(n).unknown(t)},Kh.apply(i,arguments)},scaleTime:function(){return Kh.apply(tv(ky,Ey,Ny,jy,oy,ry,ey,Qg,Jg,Iy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Kh.apply(tv(Ay,Py,Oy,wy,hy,ny,ty,Zg,Jg,Dy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:bg},Symbol.toStringTag,{value:"Module"}));var lv=yr;var cv=function(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(null!=o&&(void 0===s?o==o&&!lv(o):r(o,s)))var s=o,l=i}return l};var uv=function(e,t){return e>t},dv=cv,fv=uv,pv=Fu;const hv=l(function(e){return e&&e.length?dv(e,pv,fv):void 0});var mv=function(e,t){return e<t},gv=cv,yv=mv,xv=Fu;const vv=l(function(e){return e&&e.length?gv(e,xv,yv):void 0});var bv=Zn,jv=ed,wv=Xd,Nv=Jt;var Ov=$d,Sv=function(e,t){return(Nv(e)?bv:wv)(e,jv(t))};const Av=l(function(e,t){return Ov(Sv(e,t),1)});var Pv=yu;const kv=l(function(e,t){return Pv(e,t)});var Ev,Tv=1e9,Cv=!0,Mv="[DecimalError] ",_v=Mv+"Invalid argument: ",Iv=Mv+"Exponent out of range: ",Dv=Math.floor,Rv=Math.pow,Lv=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zv=1e7,Bv=9007199254740991,$v=Dv(1286742750677284.5),qv={};function Uv(e,t){var r,n,a,i,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Cv?Qv(t,d):t;if(l=e.d,c=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a){for(i<0?(n=l,i=-i,s=c.length):(n=c,a=o,s=l.length),i>(s=(o=Math.ceil(d/7))>s?o+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=l.length)-(i=c.length)<0&&(i=s,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/zv|0,l[i]%=zv;for(r&&(l.unshift(r),++a),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=a,Cv?Qv(t,d):t}function Fv(e,t,r){if(e!==~~e||e<t||e>r)throw Error(_v+e)}function Gv(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(i+=Kv(r)),i+=n;(r=7-(n=(o=e[t])+"").length)&&(i+=Kv(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return i+o}qv.absoluteValue=qv.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},qv.comparedTo=qv.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,r=(n=i.d.length)<(a=e.d.length)?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1},qv.decimalPlaces=qv.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},qv.dividedBy=qv.div=function(e){return Vv(this,new this.constructor(e))},qv.dividedToIntegerBy=qv.idiv=function(e){var t=this.constructor;return Qv(Vv(this,new t(e),0,1),t.precision)},qv.equals=qv.eq=function(e){return!this.cmp(e)},qv.exponent=function(){return Hv(this)},qv.greaterThan=qv.gt=function(e){return this.cmp(e)>0},qv.greaterThanOrEqualTo=qv.gte=function(e){return this.cmp(e)>=0},qv.isInteger=qv.isint=function(){return this.e>this.d.length-2},qv.isNegative=qv.isneg=function(){return this.s<0},qv.isPositive=qv.ispos=function(){return this.s>0},qv.isZero=function(){return 0===this.s},qv.lessThan=qv.lt=function(e){return this.cmp(e)<0},qv.lessThanOrEqualTo=qv.lte=function(e){return this.cmp(e)<1},qv.logarithm=qv.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(Ev))throw Error(Mv+"NaN");if(r.s<1)throw Error(Mv+(r.s?"NaN":"-Infinity"));return r.eq(Ev)?new n(0):(Cv=!1,t=Vv(Yv(r,i),Yv(e,i),i),Cv=!0,Qv(t,a))},qv.minus=qv.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Zv(t,e):Uv(t,(e.s=-e.s,e))},qv.modulo=qv.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(Mv+"NaN");return r.s?(Cv=!1,t=Vv(r,e,0,1).times(e),Cv=!0,r.minus(t)):Qv(new n(r),a)},qv.naturalExponential=qv.exp=function(){return Wv(this)},qv.naturalLogarithm=qv.ln=function(){return Yv(this)},qv.negated=qv.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},qv.plus=qv.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Uv(t,e):Zv(t,(e.s=-e.s,e))},qv.precision=qv.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(_v+e);if(t=Hv(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},qv.squareRoot=qv.sqrt=function(){var e,t,r,n,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Mv+"NaN")}for(e=Hv(s),Cv=!1,0==(a=Math.sqrt(+s))||a==1/0?(((t=Gv(s.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Dv((e+1)/2)-(e<0||e%2),n=new l(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(a.toString()),a=o=(r=l.precision)+3;;)if(n=(i=n).plus(Vv(s,i,o+2)).times(.5),Gv(i.d).slice(0,o)===(t=Gv(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&"4999"==t){if(Qv(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if("9999"!=t)break;o+=4}return Cv=!0,Qv(n,r)},qv.times=qv.mul=function(e){var t,r,n,a,i,o,s,l,c,u=this,d=u.constructor,f=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,(l=f.length)<(c=p.length)&&(i=f,f=p,p=i,o=l,l=c,c=o),i=[],n=o=l+c;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)s=i[a]+p[n]*f[a-n-1]+t,i[a--]=s%zv|0,t=s/zv|0;i[a]=(i[a]+t)%zv|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Cv?Qv(e,d.precision):e},qv.toDecimalPlaces=qv.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(Fv(e,0,Tv),void 0===t?t=n.rounding:Fv(t,0,8),Qv(r,e+Hv(r)+1,t))},qv.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=eb(n,!0):(Fv(e,0,Tv),void 0===t?t=a.rounding:Fv(t,0,8),r=eb(n=Qv(new a(n),e+1,t),!0,e+1)),r},qv.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?eb(a):(Fv(e,0,Tv),void 0===t?t=i.rounding:Fv(t,0,8),r=eb((n=Qv(new i(a),e+Hv(a)+1,t)).abs(),!1,e+Hv(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},qv.toInteger=qv.toint=function(){var e=this,t=e.constructor;return Qv(new t(e),Hv(e)+1,t.rounding)},qv.toNumber=function(){return+this},qv.toPower=qv.pow=function(e){var t,r,n,a,i,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(Ev);if(!(s=new l(s)).s){if(e.s<1)throw Error(Mv+"Infinity");return s}if(s.eq(Ev))return s;if(n=l.precision,e.eq(Ev))return Qv(s,n);if(o=(t=e.e)>=(r=e.d.length-1),i=s.s,o){if((r=c<0?-c:c)<=Bv){for(a=new l(Ev),t=Math.ceil(n/7+4),Cv=!1;r%2&&tb((a=a.times(s)).d,t),0!==(r=Dv(r/2));)tb((s=s.times(s)).d,t);return Cv=!0,e.s<0?new l(Ev).div(a):Qv(a,n)}}else if(i<0)throw Error(Mv+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,Cv=!1,a=e.times(Yv(s,n+12)),Cv=!0,(a=Wv(a)).s=i,a},qv.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=eb(a,(r=Hv(a))<=i.toExpNeg||r>=i.toExpPos):(Fv(e,1,Tv),void 0===t?t=i.rounding:Fv(t,0,8),n=eb(a=Qv(new i(a),e,t),e<=(r=Hv(a))||r<=i.toExpNeg,e)),n},qv.toSignificantDigits=qv.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(Fv(e,1,Tv),void 0===t?t=r.rounding:Fv(t,0,8)),Qv(new r(this),e,t)},qv.toString=qv.valueOf=qv.val=qv.toJSON=qv[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hv(e),r=e.constructor;return eb(e,t<=r.toExpNeg||t>=r.toExpPos)};var Vv=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%zv|0,n=r/zv|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,i;if(r!=n)i=r>n?1:-1;else for(a=i=0;a<r;a++)if(e[a]!=t[a]){i=e[a]>t[a]?1:-1;break}return i}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*zv+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,i,o){var s,l,c,u,d,f,p,h,m,g,y,x,v,b,j,w,N,O,S=n.constructor,A=n.s==a.s?1:-1,P=n.d,k=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Mv+"Division by zero");for(l=n.e-a.e,N=k.length,j=P.length,h=(p=new S(A)).d=[],c=0;k[c]==(P[c]||0);)++c;if(k[c]>(P[c]||0)&&--l,(x=null==i?i=S.precision:o?i+(Hv(n)-Hv(a))+1:i)<0)return new S(0);if(x=x/7+2|0,c=0,1==N)for(u=0,k=k[0],x++;(c<j||u)&&x--;c++)v=u*zv+(P[c]||0),h[c]=v/k|0,u=v%k|0;else{for((u=zv/(k[0]+1)|0)>1&&(k=e(k,u),P=e(P,u),N=k.length,j=P.length),b=N,g=(m=P.slice(0,N)).length;g<N;)m[g++]=0;(O=k.slice()).unshift(0),w=k[0],k[1]>=zv/2&&++w;do{u=0,(s=t(k,m,N,g))<0?(y=m[0],N!=g&&(y=y*zv+(m[1]||0)),(u=y/w|0)>1?(u>=zv&&(u=zv-1),1==(s=t(d=e(k,u),m,f=d.length,g=m.length))&&(u--,r(d,N<f?O:k,f))):(0==u&&(s=u=1),d=k.slice()),(f=d.length)<g&&d.unshift(0),r(m,d,g),-1==s&&(s=t(k,m,N,g=m.length))<1&&(u++,r(m,N<g?O:k,g)),g=m.length):0===s&&(u++,m=[0]),h[c++]=u,s&&m[0]?m[g++]=P[b]||0:(m=[P[b]],g=1)}while((b++<j||void 0!==m[0])&&x--)}return h[0]||h.shift(),p.e=l,Qv(p,o?i+Hv(p)+1:i)}}();function Wv(e,t){var r,n,a,i,o,s=0,l=0,c=e.constructor,u=c.precision;if(Hv(e)>16)throw Error(Iv+Hv(e));if(!e.s)return new c(Ev);for(Cv=!1,o=u,i=new c(.03125);e.abs().gte(.1);)e=e.times(i),l+=5;for(o+=Math.log(Rv(2,l))/Math.LN10*2+5|0,r=n=a=new c(Ev),c.precision=o;;){if(n=Qv(n.times(e),o),r=r.times(++s),Gv((i=a.plus(Vv(n,r,o))).d).slice(0,o)===Gv(a.d).slice(0,o)){for(;l--;)a=Qv(a.times(a),o);return c.precision=u,null==t?(Cv=!0,Qv(a,u)):a}a=i}}function Hv(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function Xv(e,t,r){if(t>e.LN10.sd())throw Cv=!0,r&&(e.precision=r),Error(Mv+"LN10 precision limit exceeded");return Qv(new e(e.LN10),t)}function Kv(e){for(var t="";e--;)t+="0";return t}function Yv(e,t){var r,n,a,i,o,s,l,c,u,d=1,f=e,p=f.d,h=f.constructor,m=h.precision;if(f.s<1)throw Error(Mv+(f.s?"NaN":"-Infinity"));if(f.eq(Ev))return new h(0);if(null==t?(Cv=!1,c=m):c=t,f.eq(10))return null==t&&(Cv=!0),Xv(h,c);if(c+=10,h.precision=c,n=(r=Gv(p)).charAt(0),i=Hv(f),!(Math.abs(i)<15e14))return l=Xv(h,c+2,m).times(i+""),f=Yv(new h(n+"."+r.slice(1)),c-10).plus(l),h.precision=m,null==t?(Cv=!0,Qv(f,m)):f;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Gv((f=f.times(e)).d)).charAt(0),d++;for(i=Hv(f),n>1?(f=new h("0."+r),i++):f=new h(n+"."+r.slice(1)),s=o=f=Vv(f.minus(Ev),f.plus(Ev),c),u=Qv(f.times(f),c),a=3;;){if(o=Qv(o.times(u),c),Gv((l=s.plus(Vv(o,new h(a),c))).d).slice(0,c)===Gv(s.d).slice(0,c))return s=s.times(2),0!==i&&(s=s.plus(Xv(h,c+2,m).times(i+""))),s=Vv(s,new h(d),c),h.precision=m,null==t?(Cv=!0,Qv(s,m)):s;s=l,a+=2}}function Jv(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=Dv(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Cv&&(e.e>$v||e.e<-$v))throw Error(Iv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Qv(e,t,r){var n,a,i,o,s,l,c,u,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if((n=t-o)<0)n+=7,a=t,c=d[u=0];else{if((u=Math.ceil((n+1)/7))>=(i=d.length))return e;for(c=i=d[u],o=1;i>=10;i/=10)o++;a=(n%=7)-7+o}if(void 0!==r&&(s=c/(i=Rv(10,o-a-1))%10|0,l=t<0||void 0!==d[u+1]||c%i,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(n>0?a>0?c/Rv(10,o-a):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(i=Hv(e),d.length=1,t=t-i-1,d[0]=Rv(10,(7-t%7)%7),e.e=Dv(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,i=1,u--):(d.length=u+1,i=Rv(10,7-n),d[u]=a>0?(c/Rv(10,o-a)%Rv(10,a)|0)*i:0),l)for(;;){if(0==u){(d[0]+=i)==zv&&(d[0]=1,++e.e);break}if(d[u]+=i,d[u]!=zv)break;d[u--]=0,i=1}for(n=d.length;0===d[--n];)d.pop();if(Cv&&(e.e>$v||e.e<-$v))throw Error(Iv+Hv(e));return e}function Zv(e,t){var r,n,a,i,o,s,l,c,u,d,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),Cv?Qv(t,p):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((u=o<0)?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),o>(a=Math.max(Math.ceil(p/7),s)+2)&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for((u=(a=l.length)<(s=d.length))&&(s=a),a=0;a<s;a++)if(l[a]!=d[a]){u=l[a]<d[a];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,a=d.length-s;a>0;--a)l[s++]=0;for(a=d.length;a>o;){if(l[--a]<d[a]){for(i=a;i&&0===l[--i];)l[i]=zv-1;--l[i],l[a]+=zv}l[a]-=d[a]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,Cv?Qv(t,p):t):new f(0)}function eb(e,t,r){var n,a=Hv(e),i=Gv(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Kv(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Kv(-a-1)+i,r&&(n=r-o)>0&&(i+=Kv(n))):a>=o?(i+=Kv(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Kv(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Kv(n))),e.s<0?"-"+i:i}function tb(e,t){if(e.length>t)return e.length=t,!0}function rb(e){if(!e||"object"!=typeof e)throw Error(Mv+"Object expected");var t,r,n,a=["precision",1,Tv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(Dv(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(_v+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(_v+r+": "+n);this[r]=new this(n)}return this}var nb=function e(t){var r,n,a;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(_v+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Jv(t,e.toString())}if("string"!=typeof e)throw Error(_v+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Lv.test(e))throw Error(_v+e);Jv(t,e)}if(i.prototype=qv,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=rb,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return i.config(t),i}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Ev=new nb(1);const ab=nb;function ib(e){return function(e){if(Array.isArray(e))return ob(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ob(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ob(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ob(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sb=function(e){return e},lb={},cb=function(e){return e===lb},ub=function(e){return function t(){return 0===arguments.length||1===arguments.length&&cb(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},db=function e(t,r){return 1===t?r:ub(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(e){return e!==lb}).length;return o>=t?r.apply(void 0,a):e(t-o,ub(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=a.map(function(e){return cb(e)?t.shift():e});return r.apply(void 0,ib(i).concat(t))}))})},fb=function(e){return db(e.length,e)},pb=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},hb=fb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),mb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},gb=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(e,r){return e===t[r]})?r:(t=a,r=e.apply(void 0,a))}};const yb={rangeStep:function(e,t,r){for(var n=new ab(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new ab(e).abs().log(10).toNumber())+1},interpolateNumber:fb(function(e,t,r){var n=+e;return n+r*(+t-n)}),uninterpolateNumber:fb(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),uninterpolateTruncation:fb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))})};function xb(e){return function(e){if(Array.isArray(e))return jb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||bb(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,i=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||bb(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bb(e,t){if(e){if("string"==typeof e)return jb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jb(e,t):void 0}}function jb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wb(e){var t=vb(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Nb(e,t,r){if(e.lte(0))return new ab(0);var n=yb.getDigitCount(e.toNumber()),a=new ab(10).pow(n),i=e.div(a),o=1!==n?.05:.1,s=new ab(Math.ceil(i.div(o).toNumber())).add(r).mul(o).mul(a);return t?s:new ab(Math.ceil(s))}function Ob(e,t,r){var n=1,a=new ab(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ab(10).pow(yb.getDigitCount(e)-1),a=new ab(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ab(Math.floor(e)))}else 0===e?a=new ab(Math.floor((t-1)/2)):r||(a=new ab(Math.floor(e)));var o=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return sb;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}}(hb(function(e){return a.add(new ab(e-o).mul(n)).toNumber()}),pb);return s(0,t)}function Sb(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ab(0),tickMin:new ab(0),tickMax:new ab(0)};var i,o=Nb(new ab(t).sub(e).div(r-1),n,a);i=e<=0&&t>=0?new ab(0):(i=new ab(e).add(t).div(2)).sub(new ab(i).mod(o));var s=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new ab(t).sub(i).div(o).toNumber()),c=s+l+1;return c>r?Sb(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:i.sub(new ab(s).mul(o)),tickMax:i.add(new ab(l).mul(o))})}var Ab=gb(function(e){var t=vb(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),s=vb(wb([r,n]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(xb(pb(0,a-1).map(function(){return 1/0}))):[].concat(xb(pb(0,a-1).map(function(){return-1/0})),[c]);return r>n?mb(u):u}if(l===c)return Ob(l,a,i);var d=Sb(l,c,o,i),f=d.step,p=d.tickMin,h=d.tickMax,m=yb.rangeStep(p,h.add(new ab(.1).mul(f)),f);return r>n?mb(m):m}),Pb=gb(function(e,t){var r=vb(e,2),n=r[0],a=r[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=vb(wb([n,a]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[n,a];if(s===l)return[s];var c=Math.max(t,2),u=Nb(new ab(l).sub(s).div(c-1),i,0),d=[].concat(xb(yb.rangeStep(new ab(s),new ab(l).sub(new ab(.99).mul(u)),u)),[l]);return n>a?mb(d):d});function kb(e,t){throw new Error("Invariant failed")}var Eb=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tb(e){return(Tb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function Mb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ib(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Db(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qb(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rb(e,t,r){return t=zb(t),function(e,t){if(t&&("object"===Tb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lb()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function Lb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Lb=function(){return!!e})()}function zb(e){return(zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bb(e,t){return(Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $b(e,t,r){return(t=qb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qb(e){var t=function(e,t){if("object"!=Tb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Tb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Tb(t)?t:t+""}var Ub=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rb(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bb(e,t)}(e,c.Component),Db(e,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,o=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,u=Ib(e,Eb),d=Ti(u,!1);"x"===this.props.direction&&"number"!==s.type&&kb();var f=i.map(function(e){var i=o(e,a),u=i.x,f=i.y,p=i.value,h=i.errorVal;if(!h)return null;var m,g,y=[];if(Array.isArray(h)){var x=Mb(h,2);m=x[0],g=x[1]}else m=g=h;if("vertical"===r){var v=s.scale,b=f+t,j=b+n,w=b-n,N=v(p-m),O=v(p+g);y.push({x1:O,y1:j,x2:O,y2:w}),y.push({x1:N,y1:b,x2:O,y2:b}),y.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var S=l.scale,A=u+t,P=A-n,k=A+n,E=S(p-m),T=S(p+g);y.push({x1:P,y1:T,x2:k,y2:T}),y.push({x1:A,y1:E,x2:A,y2:T}),y.push({x1:P,y1:E,x2:k,y2:E})}return c.createElement(qi,Cb({className:"recharts-errorBar",key:"bar-".concat(y.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),y.map(function(e){return c.createElement("line",Cb({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return c.createElement(qi,{className:"recharts-errorBars"},f)}}])}();function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(t){Wb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wb(e,t,r){var n;return n=function(e,t){if("object"!=Fb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Fb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$b(Ub,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),$b(Ub,"displayName","ErrorBar");var Hb=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=Ai(t,Id);if(!i)return null;var o,s=Id.defaultProps,l=void 0!==s?Vb(Vb({},s),i.props):{};return o=i.props&&i.props.payload?i.props&&i.props.payload:"children"===a?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map(function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?Vb(Vb({},r),t.props):{},a=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:a,type:l.iconType||o||"square",color:rj(t),value:i||a,payload:n}}),Vb(Vb(Vb({},l),Id.getWithHeight(i,n)),{},{payload:o,item:i})};function Xb(e){return(Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kb(e){return function(e){if(Array.isArray(e))return Yb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Yb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jb(Object(r),!0).forEach(function(t){Zb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Zb(e,t,r){var n;return n=function(e,t){if("object"!=Xb(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Xb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Xb(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ej(e,t,r){return ja(e)||ja(t)?r:ei(t)?ba(e,t,r):kr(t)?t(e):r}function tj(e,t,r,n){var a=Av(e,function(e){return ej(e,t)});if("number"===r){var i=a.filter(function(e){return Za(e)||parseFloat(e)});return i.length?[vv(i),hv(i)]:[1/0,-1/0]}return(n?a.filter(function(e){return!ja(e)}):a).map(function(e){return ei(e)||e instanceof Date?e:""})}var rj=function(e){var t,r,n=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Qb(Qb({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill;switch(n){case"Line":r=i;break;case"Area":case"Radar":r=i&&"none"!==i?i:o;break;default:r=o}return r},nj=function(e,t,r,n,a){var i=Si(t.props.children,Ub).filter(function(e){return function(e,t,r){return!!ja(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)});if(i&&i.length){var o=i.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=ej(t,r);if(ja(n))return e;var a=Array.isArray(n)?[vv(n),hv(n)]:[n,n],i=o.reduce(function(e,r){var n=ej(t,r,0),i=a[0]-Math.abs(Array.isArray(n)?n[0]:n),o=a[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(i,e[0]),Math.max(o,e[1])]},[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]},[1/0,-1/0])}return null},aj=function(e,t,r,n,a){var i=t.map(function(t){var i=t.props.dataKey;return"number"===r&&i&&nj(e,t,i,n)||tj(e,i,r,a)});if("number"===r)return i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var o={};return i.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)o[t[r]]||(o[t[r]]=!0,e.push(t[r]));return e},[])},ij=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},oj=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var a,i,o=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===r&&(i=!0),e.coordinate});return a||o.push(t),i||o.push(r),o},sj=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===i&&n.bandwidth?n.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==o?void 0:o.length)>=2?2*Ja(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!Ya(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:a?a[e]:e,index:t,offset:l}})},lj=new WeakMap,cj=function(e,t){if("function"!=typeof t)return e;lj.has(e)||lj.set(e,new WeakMap);var r=lj.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},uj=function(e,t,r){var n=e.scale,a=e.type,i=e.layout,o=e.axisType;if("auto"===n)return"radial"===i&&"radiusAxis"===o?{scale:Zh(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:wg(),realScaleType:"linear"}:"category"===a&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:tm(),realScaleType:"point"}:"category"===a?{scale:Zh(),realScaleType:"band"}:{scale:wg(),realScaleType:"linear"};if(Sa(n)){var s="scale".concat(ho(n));return{scale:(sv[s]||tm)(),realScaleType:sv[s]?s:"point"}}return kr(n)?{scale:n}:{scale:tm(),realScaleType:"point"}},dj=1e-4,fj=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-dj,i=Math.max(n[0],n[1])+dj,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},pj={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var s=Ya(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+s,i=e[o][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,i=0,o=e[0].length;i<o;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}ms(e,t)}},none:ms,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],i=a.length;n<i;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;a[n][1]+=a[n][0]=-s/2}ms(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,i=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<a;++s){for(var u=e[t[s]],d=u[o][1]||0,f=(d-(u[o-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];f+=(h[o][1]||0)-(h[o-1][1]||0)}l+=d,c+=f*d}r[o-1][1]+=r[o-1][0]=i,l&&(i-=c/l)}r[o-1][1]+=r[o-1][0]=i,ms(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Ya(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}}},hj=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),a=pj[r],i=function(){var e=mo([]),t=gs,r=ms,n=ys;function a(a){var i,o,s=Array.from(e.apply(this,arguments),xs),l=s.length,c=-1;for(const e of a)for(i=0,++c;i<l;++i)(s[i][c]=[0,+n(e,s[i].key,c,a)]).data=e;for(i=0,o=ko(t(s));i<l;++i)s[o[i]].index=i;return r(s,o),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:mo(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:mo(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?gs:"function"==typeof e?e:mo(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?ms:e,a):r},a}().keys(n).value(function(e,t){return+ej(e,t,0)}).order(gs).offset(a);return i(e)},mj=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=Ab(l,a,o);return e.domain([vv(c),hv(c)]),{niceTicks:c}}if(a&&"number"===n){var u=e.domain();return{niceTicks:Pb(u,a,o)}}return null};function gj(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!ja(a[t.dataKey])){var s=oi(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=ej(a,ja(o)?t.dataKey:o);return ja(l)?null:t.scale(l)}var yj=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if("category"===t.type)return r[o]?r[o].coordinate+n:null;var s=ej(i,t.dataKey,t.domain[o]);return ja(s)?null:t.scale(s)-a/2+n},xj=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a].stackedData.reduce(function(e,n){var a=n.slice(t,r+1).reduce(function(e,t){return[vv(t.concat([e[0]]).filter(Za)),hv(t.concat([e[1]]).filter(Za))]},[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(i[0],n[0]),Math.max(i[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},vj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jj=function(e,t,r){if(kr(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(Za(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(vj.test(e[0])){var a=+vj.exec(e[0])[1];n[0]=t[0]-a}else kr(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Za(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(bj.test(e[1])){var i=+bj.exec(e[1])[1];n[1]=t[1]+i}else kr(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},wj=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Tf(t,function(e){return e.coordinate}),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],c=a[o-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},Nj=function(e,t,r){return e&&e.length?kv(e,ba(r,"type.defaultProps.domain"))?t:e:t},Oj=function(e,t){var r=e.type.defaultProps?Qb(Qb({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,s=r.tooltipType,l=r.chartType,c=r.hide;return Qb(Qb({},Ti(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:rj(e),value:ej(t,n),type:s,payload:t,chartType:l,hide:c})};function Sj(e){return(Sj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(t){kj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kj(e,t,r){var n;return n=function(e,t){if("object"!=Sj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Sj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Sj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ej(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Cj=Math.PI/180,Mj=function(e){return 180*e/Math.PI},_j=function(e,t,r,n){return{x:e+Math.cos(-Cj*n)*r,y:t+Math.sin(-Cj*n)*r}},Ij=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Dj=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))}({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var s=(r-a)/o,l=Math.acos(s);return n>i&&(l=2*Math.PI-l),{radius:o,angle:Mj(l),angleInRadian:l}},Rj=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360);return e+360*Math.min(a,i)},Lj=function(e,t){var r=e.x,n=e.y,a=Dj({x:r,y:n},t),i=a.radius,o=a.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-360*i,endAngle:r-360*i}}(t),d=u.startAngle,f=u.endAngle,p=o;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;c=p>=f&&p<=d}return c?Pj(Pj({},t),{},{radius:i,angle:Rj(p,t)}):null},zj=function(e){return a.isValidElement(e)||kr(e)||"boolean"==typeof e?"":e.className};function Bj(e){return(Bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $j=["offset"];function qj(e){return function(e){if(Array.isArray(e))return Uj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(t){Wj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wj(e,t,r){var n;return n=function(e,t){if("object"!=Bj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Bj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Bj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hj(){return Hj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hj.apply(this,arguments)}var Xj=function(e,t,r){var n,a,i=e.position,o=e.viewBox,s=e.offset,l=e.className,u=o,d=u.cx,f=u.cy,p=u.innerRadius,h=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,x=(p+h)/2,v=function(e,t){return Ja(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=v>=0?1:-1;"insideStart"===i?(n=m+b*s,a=y):"insideEnd"===i?(n=g-b*s,a=!y):"end"===i&&(n=g+b*s,a=y),a=v<=0?a:!a;var j=_j(d,f,x,n),w=_j(d,f,x,n+359*(a?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(a?0:1,",\n    ").concat(w.x,",").concat(w.y),O=ja(e.id)?ri("recharts-radial-line-"):e.id;return c.createElement("text",Hj({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",l)}),c.createElement("defs",null,c.createElement("path",{id:O,d:N})),c.createElement("textPath",{xlinkHref:"#".concat(O)},t))};function Kj(e){var t,r=e.offset,n=Vj({offset:void 0===r?5:r},Fj(e,$j)),i=n.viewBox,o=n.position,s=n.value,l=n.children,u=n.content,d=n.className,f=void 0===d?"":d,p=n.textBreakAll;if(!i||ja(s)&&ja(l)&&!a.isValidElement(u)&&!kr(u))return null;if(a.isValidElement(u))return a.cloneElement(u,n);if(kr(u)){if(t=a.createElement(u,n),a.isValidElement(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=ja(e.children)?t:e.children;return kr(r)?r(n):n}(n);var h=function(e){return"cx"in e&&Za(e.cx)}(i),m=Ti(n,!0);if(h&&("insideStart"===o||"insideEnd"===o||"end"===o))return Xj(n,t,m);var g=h?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,s=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=_j(i,o,l+r,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var f=_j(i,o,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",p=u>0?"start":"end",h=l>=0?1:-1,m=h*n,g=h>0?"end":"start",y=h>0?"start":"end";if("top"===a)return Vj(Vj({},{x:o+l/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return Vj(Vj({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p}),r?{height:Math.max(r.y+r.height-(s+c),0),width:l}:{});if("left"===a){var x={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return Vj(Vj({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if("right"===a){var v={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return Vj(Vj({},v),r?{width:Math.max(r.x+r.width-v.x,0),height:c}:{})}var b=r?{width:l,height:c}:{};return"insideLeft"===a?Vj({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===a?Vj({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===a?Vj({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===a?Vj({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},b):"insideTopLeft"===a?Vj({x:o+m,y:s+d,textAnchor:y,verticalAnchor:p},b):"insideTopRight"===a?Vj({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:p},b):"insideBottomLeft"===a?Vj({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:f},b):"insideBottomRight"===a?Vj({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:f},b):Or(a)&&(Za(a.x)||Qa(a.x))&&(Za(a.y)||Qa(a.y))?Vj({x:o+ni(a.x,l),y:s+ni(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):Vj({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(n);return c.createElement(Ah,Hj({className:Yt("recharts-label",f)},m,g,{breakAll:p}),t)}Kj.displayName="Label";var Yj=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,p=e.left,h=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Za(h)&&Za(m)){if(Za(u)&&Za(d))return{x:u,y:d,width:h,height:m};if(Za(f)&&Za(p))return{x:f,y:p,width:h,height:m}}return Za(u)&&Za(d)?{x:u,y:d,width:0,height:0}:Za(t)&&Za(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};Kj.parseViewBox=Yj,Kj.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Yj(e),o=Si(n,Kj).map(function(e,r){return a.cloneElement(e,{viewBox:t||i,key:"label-".concat(r)})});if(!r)return o;var s=function(e,t){return e?!0===e?c.createElement(Kj,{key:"label-implicit",viewBox:t}):ei(e)?c.createElement(Kj,{key:"label-implicit",viewBox:t,value:e}):a.isValidElement(e)?e.type===Kj?a.cloneElement(e,{key:"label-implicit",viewBox:t}):c.createElement(Kj,{key:"label-implicit",content:e,viewBox:t}):kr(e)?c.createElement(Kj,{key:"label-implicit",content:e,viewBox:t}):Or(e)?c.createElement(Kj,Hj({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(qj(o))};const Jj=l(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0});function Qj(e){return(Qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Zj=["valueAccessor"],ew=["data","dataKey","clockWise","id","textBreakAll"];function tw(e){return function(e){if(Array.isArray(e))return rw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(t){ow(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ow(e,t,r){var n;return n=function(e,t){if("object"!=Qj(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Qj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Qj(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var lw=function(e){return Array.isArray(e.value)?Jj(e.value):e.value};function cw(e){var t=e.valueAccessor,r=void 0===t?lw:t,n=sw(e,Zj),a=n.data,i=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=sw(n,ew);return a&&a.length?c.createElement(qi,{className:"recharts-label-list"},a.map(function(e,t){var n=ja(i)?r(e,t):ej(e&&e.payload,i),a=ja(s)?{}:{id:"".concat(s,"-").concat(t)};return c.createElement(Kj,nw({},Ti(e,!0),u,a,{parentViewBox:e.parentViewBox,value:n,textBreakAll:l,viewBox:Kj.parseViewBox(ja(o)?e:iw(iw({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}function uw(e){return(uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(t){hw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hw(e,t,r){var n;return n=function(e,t){if("object"!=uw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=uw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cw.displayName="LabelList",cw.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=Si(e.children,cw).map(function(e,r){return a.cloneElement(e,{data:t,key:"labelList-".concat(r)})});return r?[function(e,t){return e?!0===e?c.createElement(cw,{key:"labelList-implicit",data:t}):c.isValidElement(e)||kr(e)?c.createElement(cw,{key:"labelList-implicit",data:t,content:e}):Or(e)?c.createElement(cw,nw({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(tw(n)):n};var mw=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Cj,d=l?a:a+i*u,f=l?a-i*u:a;return{center:_j(t,r,c,d),circleTangency:_j(t,r,n,d),lineTangency:_j(t,r,c*Math.cos(u*Cj),f),theta:u}},gw=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=function(e,t){return Ja(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+o,l=_j(t,r,a,i),c=_j(t,r,a,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var d=_j(t,r,n,i),f=_j(t,r,n,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},yw={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xw=function(e){var t=pw(pw({},yw),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(i<a||u===d)return null;var p,h=Yt("recharts-sector",f),m=i-a,g=ni(o,m,0,!0);return p=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=Ja(c-l),d=mw({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,p=d.lineTangency,h=d.theta,m=mw({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,x=m.theta,v=s?Math.abs(l-c):Math.abs(l-c)-h-x;if(v<0)return o?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):gw({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(n>0){var j=mw({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=j.circleTangency,N=j.lineTangency,O=j.theta,S=mw({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),A=S.circleTangency,P=S.lineTangency,k=S.theta,E=s?Math.abs(l-c):Math.abs(l-c)-O-k;if(E<0&&0===i)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(P.x,",").concat(P.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b}({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):gw({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),c.createElement("path",dw({},Ti(t,!0),{className:h,d:p,role:"img"}))};function vw(e){return(vw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bw.apply(this,arguments)}function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(t){Nw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nw(e,t,r){var n;return n=function(e,t){if("object"!=vw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=vw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==vw(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ow={curveBasisClosed:function(e){return new rs(e)},curveBasisOpen:function(e){return new ns(e)},curveBasis:function(e){return new ts(e)},curveBumpX:function(e){return new Do(e,!0)},curveBumpY:function(e){return new Do(e,!1)},curveLinearClosed:function(e){return new as(e)},curveLinear:To,curveMonotoneX:function(e){return new cs(e)},curveMonotoneY:function(e){return new us(e)},curveNatural:function(e){return new fs(e)},curveStep:function(e){return new hs(e,.5)},curveStepAfter:function(e){return new hs(e,1)},curveStepBefore:function(e){return new hs(e,0)}},Sw=function(e){return e.x===+e.x&&e.y===+e.y},Aw=function(e){return e.x},Pw=function(e){return e.y},kw=function(e){var t,r=e.type,n=void 0===r?"linear":r,a=e.points,i=void 0===a?[]:a,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(kr(e))return e;var r="curve".concat(ho(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?Ow[r]||To:Ow["".concat(r).concat("vertical"===t?"Y":"X")]}(n,s),d=c?i.filter(function(e){return Sw(e)}):i;if(Array.isArray(o)){var f=c?o.filter(function(e){return Sw(e)}):o,p=d.map(function(e,t){return ww(ww({},e),{},{base:f[t]})});return(t="vertical"===s?Io().y(Pw).x1(Aw).x0(function(e){return e.base.x}):Io().x(Aw).y1(Pw).y0(function(e){return e.base.y})).defined(Sw).curve(u),t(p)}return(t="vertical"===s&&Za(o)?Io().y(Pw).x1(Aw).x0(o):Za(o)?Io().x(Aw).y1(Pw).y0(o):_o().x(Aw).y(Pw)).defined(Sw).curve(u),t(d)},Ew=function(e){var t=e.className,r=e.points,n=e.path,i=e.pathRef;if(!(r&&r.length||n))return null;var o=r&&r.length?kw(e):n;return a.createElement("path",bw({},Ti(e,!1),hi(e),{className:Yt("recharts-curve",t),d:o,ref:i}))},Tw={exports:{}};function Cw(){}function Mw(){}Mw.resetWarningCache=Cw;Tw.exports=function(){function e(e,t,r,n,a,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Mw,resetWarningCache:Cw};return r.PropTypes=r,r}();const _w=l(Tw.exports);var Iw=Object.getOwnPropertyNames,Dw=Object.getOwnPropertySymbols,Rw=Object.prototype.hasOwnProperty;function Lw(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function zw(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function Bw(e){return Iw(e).concat(Dw(e))}var $w=Object.hasOwn||function(e,t){return Rw.call(e,t)};function qw(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var Uw=Object.getOwnPropertyDescriptor,Fw=Object.keys;function Gw(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Vw(e,t){return qw(e.getTime(),t.getTime())}function Ww(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Hw(e,t){return e===t}function Xw(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.entries(),l=0;(a=s.next())&&!a.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(o[d])d++;else{var f=a.value,p=i.value;if(r.equals(f[0],p[0],l,d,e,t,r)&&r.equals(f[1],p[1],f[0],p[0],e,t,r)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var Kw=qw;function Yw(e,t,r){var n=Fw(e),a=n.length;if(Fw(t).length!==a)return!1;for(;a-- >0;)if(!nN(e,t,r,n[a]))return!1;return!0}function Jw(e,t,r){var n,a,i,o=Bw(e),s=o.length;if(Bw(t).length!==s)return!1;for(;s-- >0;){if(!nN(e,t,r,n=o[s]))return!1;if(a=Uw(e,n),i=Uw(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable))return!1}return!0}function Qw(e,t){return qw(e.valueOf(),t.valueOf())}function Zw(e,t){return e.source===t.source&&e.flags===t.flags}function eN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,i,o=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!o[u]&&r.equals(a.value,i.value,a.value,i.value,e,t,r)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function tN(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function rN(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function nN(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||$w(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var aN=Array.isArray,iN="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,oN=Object.assign,sN=Object.prototype.toString.call.bind(Object.prototype.toString);var lN=cN();function cN(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,i=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Jw:Gw,areDatesEqual:Vw,areErrorsEqual:Ww,areFunctionsEqual:Hw,areMapsEqual:n?Lw(Xw,Jw):Xw,areNumbersEqual:Kw,areObjectsEqual:n?Jw:Yw,arePrimitiveWrappersEqual:Qw,areRegExpsEqual:Zw,areSetsEqual:n?Lw(eN,Jw):eN,areTypedArraysEqual:n?Jw:tN,areUrlsEqual:rN};if(r&&(a=oN({},a,r(a))),t){var i=zw(a.areArraysEqual),o=zw(a.areMapsEqual),s=zw(a.areObjectsEqual),l=zw(a.areSetsEqual);a=oN({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e),c=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?o(e,p,h):"function"===m&&a(e,p,h);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return s(e,p,h);if(aN(e))return t(e,p,h);if(null!=iN&&iN(e))return d(e,p,h);if(g===Date)return r(e,p,h);if(g===RegExp)return c(e,p,h);if(g===Map)return i(e,p,h);if(g===Set)return u(e,p,h);var y=sN(e);return"[object Date]"===y?r(e,p,h):"[object RegExp]"===y?c(e,p,h):"[object Map]"===y?i(e,p,h):"[object Set]"===y?u(e,p,h):"[object Object]"===y?"function"!=typeof e.then&&"function"!=typeof p.then&&s(e,p,h):"[object URL]"===y?f(e,p,h):"[object Error]"===y?n(e,p,h):"[object Arguments]"===y?s(e,p,h):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,p,h)}}(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return r(e,o,{cache:c,equals:a,meta:u,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:n,comparator:c,createState:i,equals:a?a(c):(t=c,function(e,r,n,a,i,o,s){return t(e,r,s)}),strict:s})}function uN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function dN(e){return(dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fN(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hN(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=fN(n),i=a[0],o=a.slice(1);return"number"==typeof i?void uN(r.bind(null,o),i):(r(i),void uN(r.bind(null,o)))}"object"===dN(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function mN(e){return(mN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(t){xN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==mN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cN({strict:!0}),cN({circular:!0}),cN({circular:!0,strict:!0}),cN({createInternalComparator:function(){return qw}}),cN({strict:!0,createInternalComparator:function(){return qw}}),cN({circular:!0,createInternalComparator:function(){return qw}}),cN({circular:!0,createInternalComparator:function(){return qw},strict:!0});var vN=function(e){return e},bN=function(e,t){return Object.keys(t).reduce(function(r,n){return yN(yN({},r),{},xN({},n,e(n,t[n])))},{})},jN=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function wN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||ON(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NN(e){return function(e){if(Array.isArray(e))return SN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ON(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ON(e,t){if(e){if("string"==typeof e)return SN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?SN(e,t):void 0}}function SN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var AN=1e-4,PN=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},kN=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},EN=function(e,t){return function(r){var n=PN(e,t);return kN(n,r)}},TN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=wN(s[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],a=l[1],i=l[2],o=l[3]}}var c,u,d=EN(n,i),f=EN(a,o),p=(c=n,u=i,function(e){var t=PN(c,u),r=[].concat(NN(t.map(function(e,t){return e*t}).slice(1)),[0]);return kN(r,e)}),h=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,i=p(r);if(Math.abs(a-t)<AN||i<AN)return f(r);r=h(r-a/i)}return f(r)};return m.isStepper=!1,m},CN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TN(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,i=e.dt,o=void 0===i?17:i,s=function(e,t,n){var i=n+(-(e-t)*r-n*a)*o/1e3,s=n*o/1e3+e;return Math.abs(s-t)<AN&&Math.abs(i)<AN?[t,0]:[s,i]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===n.split("(")[0])return TN(n)}return"function"==typeof n?n:null};function MN(e){return(MN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _N(e){return function(e){if(Array.isArray(e))return BN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||zN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(t){RN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==MN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==MN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===MN(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||zN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zN(e,t){if(e){if("string"==typeof e)return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BN(e,t):void 0}}function BN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $N=function(e,t,r){return e+(t-e)*r},qN=function(e){return e.from!==e.to},UN=function e(t,r,n){var a=bN(function(e,r){if(qN(r)){var n=LN(t(r.from,r.to,r.velocity),2),a=n[0],i=n[1];return DN(DN({},r),{},{from:a,velocity:i})}return r},r);return n<1?bN(function(e,t){return qN(t)?DN(DN({},t),{},{velocity:$N(t.velocity,a[e].velocity,n),from:$N(t.from,a[e].from,n)}):t},r):e(t,a,n-1)};const FN=function(e,t,r,n,a){var i,o,s,l,c=(i=e,o=t,[Object.keys(i),Object.keys(o)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),u=c.reduce(function(r,n){return DN(DN({},r),{},RN({},n,[e[n],t[n]]))},{}),d=c.reduce(function(r,n){return DN(DN({},r),{},RN({},n,{from:e[n],velocity:0,to:t[n]}))},{}),f=-1,p=function(){return null};return p=r.isStepper?function(n){s||(s=n);var i=(n-s)/r.dt;d=UN(r,d,i),a(DN(DN(DN({},e),t),bN(function(e,t){return t.from},d))),s=n,Object.values(d).filter(qN).length&&(f=requestAnimationFrame(p))}:function(i){l||(l=i);var o=(i-l)/n,s=bN(function(e,t){return $N.apply(void 0,_N(t).concat([r(o)]))},u);if(a(DN(DN(DN({},e),t),s)),o<1)f=requestAnimationFrame(p);else{var c=bN(function(e,t){return $N.apply(void 0,_N(t).concat([r(1)]))},u);a(DN(DN(DN({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function GN(e){return(GN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var VN=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function WN(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HN(e){return function(e){if(Array.isArray(e))return XN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(t){JN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JN(e,t,r){return(t=ZN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QN(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZN(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZN(e){var t=function(e,t){if("object"!==GN(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==GN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===GN(t)?t:String(t)}function eO(e,t){return(eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=aO(e);if(t){var a=aO(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return rO(this,r)}}function rO(e,t){if(t&&("object"===GN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nO(e)}function nO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aO(e){return(aO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var iO=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eO(e,t)}(t,a.PureComponent);var e=tO(t);function t(r,n){var a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=(a=e.call(this,r,n)).props,o=i.isActive,s=i.attributeName,l=i.from,c=i.to,u=i.steps,d=i.children,f=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(nO(a)),a.changeStyle=a.changeStyle.bind(nO(a)),!o||f<=0)return a.state={style:{}},"function"==typeof d&&(a.state={style:c}),rO(a);if(u&&u.length)a.state={style:u[0].style};else if(l){if("function"==typeof d)return a.state={style:l},rO(a);a.state={style:s?JN({},s,l):l}}else a.state={style:{}};return a}return QN(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,i=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(n)if(r){if(!(lN(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:a?JN({},a,u):u};(a&&l[a]!==u||!a&&l!==u)&&this.setState(d)}this.runAnimation(YN(YN({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?JN({},a,o):o};this.state&&l&&(a&&l[a]!==o||!a&&l!==o)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,i=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=FN(r,n,CN(i),a,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,i=r[0],o=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([a].concat(HN(r.reduce(function(e,n,a){if(0===a)return e;var i=n.duration,o=n.easing,s=void 0===o?"ease":o,l=n.style,c=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,f=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(HN(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var p=jN(f,i,s),h=YN(YN(YN({},d.style),l),{},{transition:p});return[].concat(HN(e),[h,i,u]).filter(vN)},[o,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=hN());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,i=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=n?JN({},n,a):a,f=jN(Object.keys(d),r,i);u.start([o,t,YN(YN({},d),{},{transition:f}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var r=e.duration;e.attributeName,e.easing;var n=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var i=WN(e,VN),o=a.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!n||0===o||r<=0)return t;var l=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,o=t.className;return a.cloneElement(e,YN(YN({},i),{},{style:YN(YN({},n),s),className:o}))};return 1===o?l(a.Children.only(t)):c.createElement("div",null,a.Children.map(t,function(e){return l(e)}))}}]),t}();function oO(e){return(oO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sO(){return sO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sO.apply(this,arguments)}function lO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function dO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(t){fO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fO(e,t,r){var n;return n=function(e,t){if("object"!=oO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=oO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==oO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}iO.displayName="Animate",iO.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},iO.propTypes={from:_w.oneOfType([_w.object,_w.string]),to:_w.oneOfType([_w.object,_w.string]),attributeName:_w.string,duration:_w.number,begin:_w.number,easing:_w.oneOfType([_w.string,_w.func]),steps:_w.arrayOf(_w.shape({duration:_w.number.isRequired,style:_w.object.isRequired,easing:_w.oneOfType([_w.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_w.func]),properties:_w.arrayOf("string"),onAnimationEnd:_w.func})),children:_w.oneOfType([_w.node,_w.func]),isActive:_w.bool,canBegin:_w.bool,onAnimationEnd:_w.func,shouldReAnimate:_w.bool,onAnimationStart:_w.func,onAnimationReStart:_w.func};var pO=function(e,t,r,n,a){var i,o=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(o>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>o?o:a[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+r-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+s*u[1])),i+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+r-l*u[2],",").concat(t+n)),i+="L ".concat(e+l*u[3],",").concat(t+n),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-s*u[3])),i+="Z"}else if(o>0&&a===+a&&a>0){var f=Math.min(o,a);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+r-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*f,"\n            L ").concat(e+r,",").concat(t+n-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+r-l*f,",").concat(t+n,"\n            L ").concat(e+l*f,",").concat(t+n,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return i},hO=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(a,a+o),c=Math.max(a,a+o),u=Math.min(i,i+s),d=Math.max(i,i+s);return r>=l&&r<=c&&n>=u&&n<=d}return!1},mO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gO=function(e){var t=dO(dO({},mO),e),r=a.useRef(),n=lO(a.useState(-1),2),i=n[0],o=n[1];a.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.width,d=t.height,f=t.radius,p=t.className,h=t.animationEasing,m=t.animationDuration,g=t.animationBegin,y=t.isAnimationActive,x=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||d!==+d||0===u||0===d)return null;var v=Yt("recharts-rectangle",p);return x?c.createElement(iO,{canBegin:i>0,from:{width:u,height:d,x:s,y:l},to:{width:u,height:d,x:s,y:l},duration:m,animationEasing:h,isActive:x},function(e){var n=e.width,a=e.height,o=e.x,s=e.y;return c.createElement(iO,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:h},c.createElement("path",sO({},Ti(t,!0),{className:v,d:pO(o,s,n,a,f),ref:r})))}):c.createElement("path",sO({},Ti(t,!0),{className:v,d:pO(s,l,u,d,f)}))},yO=["points","className","baseLinePoints","connectNulls"];function xO(){return xO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xO.apply(this,arguments)}function vO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bO(e){return function(e){if(Array.isArray(e))return jO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wO=function(e){return e&&e.x===+e.x&&e.y===+e.y},NO=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){wO(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),wO(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(bO(e),bO(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},OO=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=vO(e,yO);if(!t||!t.length)return null;var o=Yt("recharts-polygon",r);if(n&&n.length){var s=i.stroke&&"none"!==i.stroke,l=function(e,t,r){var n=NO(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(NO(t.reverse(),r).slice(1))}(t,n,a);return c.createElement("g",{className:o},c.createElement("path",xO({},Ti(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),s?c.createElement("path",xO({},Ti(i,!0),{fill:"none",d:NO(t,a)})):null,s?c.createElement("path",xO({},Ti(i,!0),{fill:"none",d:NO(n,a)})):null)}var u=NO(t,a);return c.createElement("path",xO({},Ti(i,!0),{fill:"Z"===u.slice(-1)?i.fill:"none",className:o,d:u}))};function SO(){return SO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SO.apply(this,arguments)}var AO=function(e){var t=e.cx,r=e.cy,n=e.r,i=Yt("recharts-dot",e.className);return t===+t&&r===+r&&n===+n?a.createElement("circle",SO({},Ti(e,!1),hi(e),{className:i,cx:t,cy:r,r:n})):null};function PO(e){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kO=["x","y","top","left","width","height","className"];function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EO.apply(this,arguments)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CO(e,t,r){var n;return n=function(e,t){if("object"!=PO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=PO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var _O=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},IO=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,i=e.top,o=void 0===i?0:i,s=e.left,l=void 0===s?0:s,u=e.width,d=void 0===u?0:u,f=e.height,p=void 0===f?0:f,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(t){CO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:a,top:o,left:l,width:d,height:p},MO(e,kO));return Za(r)&&Za(a)&&Za(d)&&Za(p)&&Za(o)&&Za(l)?c.createElement("path",EO({},Ti(m,!0),{className:Yt("recharts-cross",h),d:_O(r,a,d,p,o,l)})):null},DO=cv,RO=uv,LO=ed;const zO=l(function(e,t){return e&&e.length?DO(e,LO(t),RO):void 0});var BO=cv,$O=ed,qO=mv;const UO=l(function(e,t){return e&&e.length?BO(e,$O(t),qO):void 0});var FO=["cx","cy","angle","ticks","axisLine"],GO=["ticks","tick","angle","tickFormatter","stroke"];function VO(e){return(VO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WO.apply(this,arguments)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(t){tS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KO(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rS(n.key),n)}}function JO(e,t,r){return t=ZO(t),function(e,t){if(t&&("object"===VO(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QO()?Reflect.construct(t,r||[],ZO(e).constructor):t.apply(e,r))}function QO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(QO=function(){return!!e})()}function ZO(e){return(ZO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eS(e,t){return(eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tS(e,t,r){return(t=rS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rS(e){var t=function(e,t){if("object"!=VO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=VO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==VO(t)?t:t+""}var nS=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),JO(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}(e,a.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return c.isValidElement(e)?c.cloneElement(e,t):kr(e)?e(t):c.createElement(Ah,WO({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,i=r.cy;return _j(a,i,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=zO(a,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:UO(a,function(e){return e.coordinate||0}).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,o=KO(e,FO),s=a.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=_j(t,r,s[0],n),u=_j(t,r,s[1],n),d=XO(XO(XO({},Ti(o,!1)),{},{fill:"none"},Ti(i,!1)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return c.createElement("line",WO({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.angle,o=r.tickFormatter,s=r.stroke,l=KO(r,GO),u=this.getTickTextAnchor(),d=Ti(l,!1),f=Ti(a,!1),p=n.map(function(r,n){var l=t.getTickValueCoord(r),p=XO(XO(XO(XO({textAnchor:u,transform:"rotate(".concat(90-i,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:s},f),{},{index:n},l),{},{payload:r});return c.createElement(qi,WO({className:Yt("recharts-polar-radius-axis-tick",zj(a)),key:"tick-".concat(r.coordinate)},mi(t.props,r,n)),e.renderTickItem(a,p,o?o(r.value,n):r.value))});return c.createElement(qi,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?c.createElement(qi,{className:Yt("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),Kj.renderCallByParent(this.props,this.getViewBox())):null}}])&&YO(t.prototype,r),n&&YO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function aS(e){return(aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iS(){return iS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iS.apply(this,arguments)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(t){pS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hS(n.key),n)}}function cS(e,t,r){return t=dS(t),function(e,t){if(t&&("object"===aS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uS()?Reflect.construct(t,r||[],dS(e).constructor):t.apply(e,r))}function uS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uS=function(){return!!e})()}function dS(e){return(dS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fS(e,t){return(fS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pS(e,t,r){return(t=hS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hS(e){var t=function(e,t){if("object"!=aS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==aS(t)?t:t+""}tS(nS,"displayName","PolarRadiusAxis"),tS(nS,"axisType","radiusAxis"),tS(nS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var mS=Math.PI/180,gS=1e-5,yS=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cS(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fS(e,t)}(e,a.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return c.isValidElement(e)?c.cloneElement(e,t):kr(e)?e(t):c.createElement(Ah,iS({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,i=t.orientation,o=t.tickSize||8,s=_j(r,n,a,e.coordinate),l=_j(r,n,a+("inner"===i?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*mS);return r>gS?"outer"===t?"start":"end":r<-gS?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,o=sS(sS({},Ti(this.props,!1)),{},{fill:"none"},Ti(a,!1));if("circle"===i)return c.createElement(AO,iS({className:"recharts-polar-angle-axis-line"},o,{cx:t,cy:r,r:n}));var s=this.props.ticks.map(function(e){return _j(t,r,n,e.coordinate)});return c.createElement(OO,iS({className:"recharts-polar-angle-axis-line"},o,{points:s}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,a=r.tick,i=r.tickLine,o=r.tickFormatter,s=r.stroke,l=Ti(this.props,!1),u=Ti(a,!1),d=sS(sS({},l),{},{fill:"none"},Ti(i,!1)),f=n.map(function(r,n){var f=t.getTickLineCoord(r),p=sS(sS(sS({textAnchor:t.getTickTextAnchor(r)},l),{},{stroke:"none",fill:s},u),{},{index:n,payload:r,x:f.x2,y:f.y2});return c.createElement(qi,iS({className:Yt("recharts-polar-angle-axis-tick",zj(a)),key:"tick-".concat(r.coordinate)},mi(t.props,r,n)),i&&c.createElement("line",iS({className:"recharts-polar-angle-axis-tick-line"},d,f)),a&&e.renderTickItem(a,p,o?o(r.value,n):r.value))});return c.createElement(qi,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:c.createElement(qi,{className:Yt("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&lS(t.prototype,r),n&&lS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();pS(yS,"displayName","PolarAngleAxis"),pS(yS,"axisType","angleAxis"),pS(yS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xS=xc(Object.getPrototypeOf,Object),vS=pr,bS=xS,jS=hr,wS=Function.prototype,NS=Object.prototype,OS=wS.toString,SS=NS.hasOwnProperty,AS=OS.call(Object);const PS=l(function(e){if(!jS(e)||"[object Object]"!=vS(e))return!1;var t=bS(e);if(null===t)return!0;var r=SS.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&OS.call(r)==AS});var kS=pr,ES=hr;const TS=l(function(e){return!0===e||!1===e||ES(e)&&"[object Boolean]"==kS(e)});function CS(e){return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MS(){return MS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MS.apply(this,arguments)}function _S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return IS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(t){LS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LS(e,t,r){var n;return n=function(e,t){if("object"!=CS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=CS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zS,BS=function(e,t,r,n,a){var i,o=r-n;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-o/2,",").concat(t+a),i+="L ".concat(e+r-o/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z")},$S={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qS=function(e){var t=RS(RS({},$S),e),r=a.useRef(),n=_S(a.useState(-1),2),i=n[0],o=n[1];a.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&o(e)}catch(t){}},[]);var s=t.x,l=t.y,u=t.upperWidth,d=t.lowerWidth,f=t.height,p=t.className,h=t.animationEasing,m=t.animationDuration,g=t.animationBegin,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||u!==+u||d!==+d||f!==+f||0===u&&0===d||0===f)return null;var x=Yt("recharts-trapezoid",p);return y?c.createElement(iO,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:l},to:{upperWidth:u,lowerWidth:d,height:f,x:s,y:l},duration:m,animationEasing:h,isActive:y},function(e){var n=e.upperWidth,a=e.lowerWidth,o=e.height,s=e.x,l=e.y;return c.createElement(iO,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:h},c.createElement("path",MS({},Ti(t,!0),{className:x,d:BS(s,l,n,a,o),ref:r})))}):c.createElement("g",null,c.createElement("path",MS({},Ti(t,!0),{className:x,d:BS(s,l,u,d,f)})))},US=["option","shapeType","propTransformer","activeClassName","isActive"];function FS(e){return(FS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GS(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(t){HS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HS(e,t,r){var n;return n=function(e,t){if("object"!=FS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=FS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==FS(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XS(e,t){return WS(WS({},t),e)}function KS(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return c.createElement(gO,r);case"trapezoid":return c.createElement(qS,r);case"sector":return c.createElement(xw,r);case"symbols":if(function(e){return"symbols"===e}(t))return c.createElement(ks,r);break;default:return null}}function YS(e){var t,r=e.option,n=e.shapeType,i=e.propTransformer,o=void 0===i?XS:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,u=e.isActive,d=GS(e,US);if(a.isValidElement(r))t=a.cloneElement(r,WS(WS({},d),function(e){return a.isValidElement(e)?e.props:e}(r)));else if(kr(r))t=r(d);else if(PS(r)&&!TS(r)){var f=o(r,d);t=c.createElement(KS,{shapeType:n,elementProps:f})}else{var p=d;t=c.createElement(KS,{shapeType:n,elementProps:p})}return u?c.createElement(qi,{className:l},t):t}function JS(e,t){return null!=t&&"trapezoids"in e.props}function QS(e,t){return null!=t&&"sectors"in e.props}function ZS(e,t){return null!=t&&"points"in e.props}function eA(e,t){var r,n,a=e.x===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,i=e.y===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return a&&i}function tA(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function rA(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function nA(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=function(e,t){var r;return JS(e,t)?r="trapezoids":QS(e,t)?r="sectors":ZS(e,t)&&(r="points"),r}(r,t),i=function(e,t){var r,n;return JS(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:QS(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ZS(e,t)?t.payload:{}}(r,t),o=n.filter(function(e,n){var o=kv(i,e),s=r.props[a].filter(function(e){var n=function(e,t){var r;return JS(e,t)?r=eA:QS(e,t)?r=tA:ZS(e,t)&&(r=rA),r}(r,t);return n(e,t)}),l=r.props[a].indexOf(s[s.length-1]);return o&&n===l});return n.indexOf(o[o.length-1])}function aA(e){return(aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iA(){return iA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iA.apply(this,arguments)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(t){pA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hA(n.key),n)}}function cA(e,t,r){return t=dA(t),function(e,t){if(t&&("object"===aA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uA()?Reflect.construct(t,r||[],dA(e).constructor):t.apply(e,r))}function uA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(uA=function(){return!!e})()}function dA(e){return(dA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fA(e,t){return(fA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pA(e,t,r){return(t=hA(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hA(e){var t=function(e,t){if("object"!=aA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==aA(t)?t:t+""}var mA=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pA(r=cA(this,e,[t]),"pieRef",null),pA(r,"sectorRefs",[]),pA(r,"id",ri("recharts-pie-")),pA(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),kr(e)&&e()}),pA(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),kr(e)&&e()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fA(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(c.isValidElement(e))return c.cloneElement(e,t);if(kr(e))return e(t);var n=Yt("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return c.createElement(Ew,iA({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(c.isValidElement(e))return c.cloneElement(e,t);var n=r;if(kr(e)&&(n=e(t),c.isValidElement(n)))return n;var a=Yt("recharts-pie-label-text","boolean"==typeof e||kr(e)?"":e.className);return c.createElement(Ah,iA({},t,{alignmentBaseline:"middle",className:a}),n)}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,a=r.labelLine,i=r.dataKey,o=r.valueKey,s=Ti(this.props,!1),l=Ti(n,!1),u=Ti(a,!1),d=n&&n.offsetRadius||20,f=t.map(function(t,r){var f=(t.startAngle+t.endAngle)/2,p=_j(t.cx,t.cy,t.outerRadius+d,f),h=sA(sA(sA(sA({},s),t),{},{stroke:"none"},l),{},{index:r,textAnchor:e.getTextAnchor(p.x,t.cx)},p),m=sA(sA(sA(sA({},s),t),{},{fill:"none",stroke:t.fill},u),{},{index:r,points:[_j(t.cx,t.cy,t.outerRadius,f),p]}),g=i;return ja(i)&&ja(o)?g="value":ja(i)&&(g=o),c.createElement(qi,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(r)},a&&e.renderLabelLineItem(a,m,"line"),e.renderLabelItem(n,h,ej(t,g)))});return c.createElement(qi,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,i=r.inactiveShape;return e.map(function(r,o){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var s=t.isActiveIndex(o),l=i&&t.hasActiveIndex()?i:null,u=s?n:l,d=sA(sA({},r),{},{stroke:a?r.fill:r.stroke,tabIndex:-1});return c.createElement(qi,iA({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},mi(t.props,r,o),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(o)}),c.createElement(YS,iA({option:u,isActive:s,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,o=t.animationEasing,s=t.animationId,l=this.state,u=l.prevSectors,d=l.prevIsAnimationActive;return c.createElement(iO,{begin:a,duration:i,isActive:n,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(s,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,a=[],i=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=u&&u[t],o=t>0?ba(e,"paddingAngle",0):0;if(r){var s=ii(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=sA(sA({},e),{},{startAngle:i+o,endAngle:i+s(n)+o});a.push(l),i=l.endAngle}else{var c=e.endAngle,d=e.startAngle,f=ii(0,c-d)(n),p=sA(sA({},e),{},{startAngle:i+o,endAngle:i+f+o});a.push(p),i=p.endAngle}}),c.createElement(qi,null,e.renderSectorsStatically(a))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&kv(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,i=t.label,o=t.cx,s=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(r||!n||!n.length||!Za(o)||!Za(s)||!Za(l)||!Za(u))return null;var p=Yt("recharts-pie",a);return c.createElement(qi,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),Kj.renderCallByParent(this.props,null,!1),(!d||f)&&cw.renderCallByParent(this.props,n,!1))}}])&&lA(t.prototype,r),n&&lA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();zS=mA,pA(mA,"displayName","Pie"),pA(mA,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!np,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),pA(mA,"parseDeltaAngle",function(e,t){return Ja(t-e)*Math.min(Math.abs(t-e),360)}),pA(mA,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ti(e,!1),a=Si(r,Fp);return t&&t.length?t.map(function(e,t){return sA(sA(sA({payload:e},n),e),a&&a[t]&&a[t].props)}):a&&a.length?a.map(function(e){return sA(sA({},n),e.props)}):[]}),pA(mA,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Ij(a,i);return{cx:n+ni(e.cx,a,a/2),cy:r+ni(e.cy,i,i/2),innerRadius:ni(e.innerRadius,o,0),outerRadius:ni(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(a*a+i*i)/2}}),pA(mA,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?sA(sA({},t.type.defaultProps),t.props):t.props,a=zS.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,c=n.dataKey,u=n.nameKey,d=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),h=zS.parseCoordinateOfPie(n,r),m=zS.parseDeltaAngle(o,s),g=Math.abs(m),y=c;ja(c)&&ja(d)?(Ui(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):ja(c)&&(Ui(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var x,v,b=a.filter(function(e){return 0!==ej(e,y,0)}).length,j=g-b*p-(g>=360?b:b-1)*l,w=a.reduce(function(e,t){var r=ej(t,y,0);return e+(Za(r)?r:0)},0);w>0&&(x=a.map(function(e,t){var r,n=ej(e,y,0),a=ej(e,u,t),s=(Za(n)?n:0)/w,c=(r=t?v.endAngle+Ja(m)*l*(0!==n?1:0):o)+Ja(m)*((0!==n?p:0)+s*j),d=(r+c)/2,g=(h.innerRadius+h.outerRadius)/2,x=[{name:a,value:n,payload:e,dataKey:y,type:f}],b=_j(h.cx,h.cy,g,d);return v=sA(sA(sA({percent:s,cornerRadius:i,name:a,tooltipPayload:x,midAngle:d,middleRadius:g,tooltipPosition:b},e),h),{},{value:ej(e,y),startAngle:r,endAngle:c,payload:e,paddingAngle:Ja(m)*l})}));return sA(sA({},h),{},{sectors:x,data:a})});var gA=Math.ceil,yA=Math.max;var xA=Pp,vA=1/0;var bA=function(e){return e?(e=xA(e))===vA||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},jA=function(e,t,r,n){for(var a=-1,i=yA(gA((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o},wA=Af,NA=bA;const OA=l(function(e){return function(t,r,n){return n&&"number"!=typeof n&&wA(t,r,n)&&(r=n=void 0),t=NA(t),void 0===r?(r=t,t=0):r=NA(r),n=void 0===n?t<r?1:-1:NA(n),jA(t,r,n,e)}}());function SA(e){return(SA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(t){kA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kA(e,t,r){var n;return n=function(e,t){if("object"!=SA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=SA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==SA(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EA=["Webkit","Moz","O","ms"];function TA(e){return(TA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CA(){return CA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CA.apply(this,arguments)}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(t){BA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function IA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$A(n.key),n)}}function DA(e,t,r){return t=LA(t),function(e,t){if(t&&("object"===TA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,RA()?Reflect.construct(t,r||[],LA(e).constructor):t.apply(e,r))}function RA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(RA=function(){return!!e})()}function LA(e){return(LA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zA(e,t){return(zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function BA(e,t,r){return(t=$A(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $A(e){var t=function(e,t){if("object"!=TA(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=TA(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==TA(t)?t:t+""}var qA=function(e){return e.changedTouches&&!!e.changedTouches.length},UA=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BA(r=DA(this,e,[t]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),BA(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),BA(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,a=e.startIndex;null==n||n({endIndex:t,startIndex:a})}),r.detachDragEndListener()}),BA(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),BA(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),BA(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),BA(r,"handleSlideDragStart",function(e){var t=qA(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}(e,a.PureComponent),t=e,n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,o=Math.floor(r+a/2)-1;return c.createElement(c.Fragment,null,c.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),c.createElement("line",{x1:t+1,y1:o,x2:t+n-1,y2:o,fill:"none",stroke:"#fff"}),c.createElement("line",{x1:t+1,y1:o+2,x2:t+n-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,r){return c.isValidElement(t)?c.cloneElement(t,r):kr(t)?t(r):e.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,i=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(r!==t.prevData||o!==t.prevUpdateId)return _A({prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=tm().domain(OA(0,s)).range([a,a+i-o]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:a,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([a,a+n-i]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:i,prevUpdateId:o,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],(r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var r=t.startX,n=t.endX,a=this.state.scaleValues,i=this.props,o=i.gap,s=i.data.length-1,l=Math.min(r,n),c=Math.max(r,n),u=e.getIndexInRange(a,l),d=e.getIndexInRange(a,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,i=ej(r[e],a,e);return kr(n)?n(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,i=this.props,o=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-r;f>0?f=Math.min(f,o+s-l-a,o+s-l-n):f<0&&(f=Math.max(f,o-n,o-a));var p=this.getIndex({startX:n+f,endX:a+f});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:n+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=qA(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,a=t.endX,i=t.startX,o=this.state[n],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,p=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-r;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),h[n]=o+m;var g=this.getIndex(h),y=g.startIndex,x=g.endIndex;this.setState(BA(BA({},n,o+m),"brushMoveStartX",e.pageX),function(){var e;d&&(e=p.length-1,("startX"===n&&(a>i?y%f===0:x%f===0)||a<i&&x===e||"endX"===n&&(a>i?x%f===0:y%f===0)||a>i&&x===e)&&d(g))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,a=n.scaleValues,i=n.startX,o=n.endX,s=this.state[t],l=a.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var u=a[c];"startX"===t&&u>=o||"endX"===t&&u<=i||this.setState(BA({},t,u),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,o=e.stroke;return c.createElement("rect",{stroke:o,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,i=e.height,o=e.data,s=e.children,l=e.padding,u=a.Children.only(s);return u?c.cloneElement(u,{x:t,y:r,width:n,height:i,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(t,r){var n,a,i=this,o=this.props,s=o.y,l=o.travellerWidth,u=o.height,d=o.traveller,f=o.ariaLabel,p=o.data,h=o.startIndex,m=o.endIndex,g=Math.max(t,this.props.x),y=_A(_A({},Ti(this.props,!1)),{},{x:g,y:s,width:l,height:u}),x=f||"Min value: ".concat(null===(n=p[h])||void 0===n?void 0:n.name,", Max value: ").concat(null===(a=p[m])||void 0===a?void 0:a.name);return c.createElement(qi,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,o=r.travellerWidth,s=Math.min(e,t)+o,l=Math.max(Math.abs(t-e)-o,0);return c.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:s,y:n,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,o=e.stroke,s=this.state,l=s.startX,u=s.endX,d={pointerEvents:"none",fill:o};return c.createElement(qi,{className:"recharts-brush-texts"},c.createElement(Ah,CA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:n+a/2},d),this.getTextOfTick(t)),c.createElement(Ah,CA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+i+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,o=e.width,s=e.height,l=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,p=u.isTextActive,h=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!Za(a)||!Za(i)||!Za(o)||!Za(s)||o<=0||s<=0)return null;var y,x,v,b,j=Yt("recharts-brush",r),w=1===c.Children.count(n),N=(x="none",v=(y="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(b=EA.reduce(function(e,t){return PA(PA({},e),{},kA({},t+v,x))},{}))[y]=x,b);return c.createElement(qi,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(p||h||m||g||l)&&this.renderText())}}])&&IA(t.prototype,r),n&&IA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();BA(UA,"displayName","Brush"),BA(UA,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FA=Vd;var GA=al,VA=ed,WA=function(e,t){var r;return FA(e,function(e,n,a){return!(r=t(e,n,a))}),!!r},HA=Jt,XA=Af;const KA=l(function(e,t,r){var n=HA(e)?GA:WA;return r&&XA(e,t,r)&&(t=void 0),n(e,VA(t))});var YA=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},JA=pf;var QA=function(e,t,r){"__proto__"==t&&JA?JA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},ZA=Fd,eP=ed;const tP=l(function(e,t){var r={};return t=eP(t),ZA(e,function(e,n,a){QA(r,n,t(e,n,a))}),r});var rP=Vd;var nP=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0},aP=function(e,t){var r=!0;return rP(e,function(e,n,a){return r=!!t(e,n,a)}),r},iP=ed,oP=Jt,sP=Af;const lP=l(function(e,t,r){var n=oP(e)?nP:aP;return r&&sP(e,t,r)&&(t=void 0),n(e,iP(t))});var cP=["x","y"];function uP(e){return(uP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dP(){return dP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dP.apply(this,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(t){hP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hP(e,t,r){var n;return n=function(e,t){if("object"!=uP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=uP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uP(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gP(e,t){var r=e.x,n=e.y,a=mP(e,cP),i="".concat(r),o=parseInt(i,10),s="".concat(n),l=parseInt(s,10),c="".concat(t.height||a.height),u=parseInt(c,10),d="".concat(t.width||a.width),f=parseInt(d,10);return pP(pP(pP(pP(pP({},t),a),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function yP(e){return c.createElement(YS,dP({shapeType:"rectangle",propTransformer:gP,activeClassName:"recharts-active-bar"},e))}var xP,vP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"==typeof e)return e;var a=Za(r)||function(e){return ja(e)}(r);return a?e(r,n):(a||kb(),t)}},bP=["value","background"];function jP(e){return(jP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wP(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NP(){return NP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NP.apply(this,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(t){CP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MP(n.key),n)}}function PP(e,t,r){return t=EP(t),function(e,t){if(t&&("object"===jP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kP()?Reflect.construct(t,r||[],EP(e).constructor):t.apply(e,r))}function kP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(kP=function(){return!!e})()}function EP(e){return(EP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function TP(e,t){return(TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function CP(e,t,r){return(t=MP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MP(e){var t=function(e,t){if("object"!=jP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jP(t)?t:t+""}var _P=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return CP(t=PP(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),CP(t,"id",ri("recharts-bar-")),CP(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),CP(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TP(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,a=r.dataKey,i=r.activeIndex,o=r.activeBar,s=Ti(this.props,!1);return e&&e.map(function(e,r){var l=r===i,u=l?o:n,d=SP(SP(SP({},s),e),{},{isActive:l,option:u,index:r,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return c.createElement(qi,NP({className:"recharts-bar-rectangle"},mi(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),c.createElement(yP,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,u=this.state.prevData;return c.createElement(iO,{begin:i,duration:o,isActive:a,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,i=r.map(function(e,t){var r=u&&u[t];if(r){var i=ii(r.x,e.x),o=ii(r.y,e.y),s=ii(r.width,e.width),l=ii(r.height,e.height);return SP(SP({},e),{},{x:i(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===n){var c=ii(0,e.height)(a);return SP(SP({},e),{},{y:e.y+e.height-c,height:c})}var d=ii(0,e.width)(a);return SP(SP({},e),{},{width:d})});return c.createElement(qi,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&kv(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,a=t.activeIndex,i=Ti(this.props.background,!1);return r.map(function(t,r){t.value;var o=t.background,s=wP(t,bP);if(!o)return null;var l=SP(SP(SP(SP(SP({},s),{},{fill:"#eee"},o),i),mi(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return c.createElement(yP,NP({key:"background-bar-".concat(r),option:e.props.background,isActive:r===a},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,o=r.layout,s=Si(r.children,Ub);if(!s)return null;var l="vertical"===o?n[0].height/2:n[0].width/2,u=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ej(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return c.createElement(qi,d,s.map(function(e){return c.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:o,offset:l,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,o=e.left,s=e.top,l=e.width,u=e.height,d=e.isAnimationActive,f=e.background,p=e.id;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,m=Yt("recharts-bar",n),g=a&&a.allowDataOverflow,y=i&&i.allowDataOverflow,x=g||y,v=ja(p)?this.id:p;return c.createElement(qi,{className:m},g||y?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(v)},c.createElement("rect",{x:g?o:o-l/2,y:y?s:s-u/2,width:g?l:2*l,height:y?u:2*u}))):null,c.createElement(qi,{className:"recharts-bar-rectangles",clipPath:x?"url(#clipPath-".concat(v,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(x,v),(!d||h)&&cw.renderCallByParent(this.props,r))}}])&&AP(t.prototype,r),n&&AP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function IP(e){return(IP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BP(n.key),n)}}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(t){zP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zP(e,t,r){return(t=BP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BP(e){var t=function(e,t){if("object"!=IP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=IP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IP(t)?t:t+""}xP=_P,CP(_P,"displayName","Bar"),CP(_P,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!np,animationBegin:0,animationDuration:400,animationEasing:"ease"}),CP(_P,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,p=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!p)return null;var h=t.layout,m=r.type.defaultProps,g=void 0!==m?SP(SP({},m),r.props):r.props,y=g.dataKey,x=g.children,v=g.minPointSize,b="horizontal"===h?o:i,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),N=Si(x,Fp),O=d.map(function(e,t){var n,d,f,m,g,x;c?n=function(e,t){if(!t||2!==t.length||!Za(t[0])||!Za(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Za(e[0])||e[0]<r)&&(a[0]=r),(!Za(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(c[u+t],j):(n=ej(e,y),Array.isArray(n)||(n=[w,n]));var b=vP(v,xP.defaultProps.minPointSize)(n[1],t);if("horizontal"===h){var O,S=[o.scale(n[0]),o.scale(n[1])],A=S[0],P=S[1];d=yj({axis:i,ticks:s,bandSize:a,offset:p.offset,entry:e,index:t}),f=null!==(O=null!=P?P:A)&&void 0!==O?O:void 0,m=p.size;var k=A-P;if(g=Number.isNaN(k)?0:k,x={x:d,y:o.y,width:m,height:o.height},Math.abs(b)>0&&Math.abs(g)<Math.abs(b)){var E=Ja(g||b)*(Math.abs(b)-Math.abs(g));f-=E,g+=E}}else{var T=[i.scale(n[0]),i.scale(n[1])],C=T[0],M=T[1];if(d=C,f=yj({axis:o,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),m=M-C,g=p.size,x={x:i.x,y:f,width:i.width,height:g},Math.abs(b)>0&&Math.abs(m)<Math.abs(b))m+=Ja(m||b)*(Math.abs(b)-Math.abs(m))}return SP(SP(SP({},e),{},{x:d,y:f,width:m,height:g,value:c?n:n[1],payload:e,background:x},N&&N[t]&&N[t].props),{},{tooltipPayload:[Oj(r,e)],tooltipPosition:{x:d+m/2,y:f+g/2}})});return SP({data:O,layout:h},f)});var $P=function(e,t,r,n,a){var i=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!Ai(l,_P);return c.reduce(function(i,o){var l,c,f,p,h,m=t[o],g=m.orientation,y=m.domain,x=m.padding,v=void 0===x?{}:x,b=m.mirror,j=m.reversed,w="".concat(g).concat(b?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var N=y[1]-y[0],O=1/0,S=m.categoricalDomain.sort(si);if(S.forEach(function(e,t){t>0&&(O=Math.min((e||0)-(S[t-1]||0),O))}),Number.isFinite(O)){var A=O/N,P="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(l=A*P/2),"no-gap"===m.padding){var k=ni(e.barCategoryGap,A*P),E=A*P/2;l=E-k-(E-k)/P*k}}}c="xAxis"===n?[r.left+(v.left||0)+(l||0),r.left+r.width-(v.right||0)-(l||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(v.bottom||0),r.top+(v.top||0)]:[r.top+(v.top||0)+(l||0),r.top+r.height-(v.bottom||0)-(l||0)]:m.range,j&&(c=[c[1],c[0]]);var T=uj(m,a,d),C=T.scale,M=T.realScaleType;C.domain(y).range(c),fj(C);var _=mj(C,LP(LP({},m),{},{realScaleType:M}));"xAxis"===n?(h="top"===g&&!b||"bottom"===g&&b,f=r.left,p=u[w]-h*m.height):"yAxis"===n&&(h="left"===g&&!b||"right"===g&&b,f=u[w]-h*m.width,p=r.top);var I=LP(LP(LP({},m),_),{},{realScaleType:M,x:f,y:p,scale:C,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return I.bandSize=wj(I,_),m.hide||"xAxis"!==n?m.hide||(u[w]+=(h?-1:1)*I.width):u[w]+=(h?-1:1)*I.height,LP(LP({},i),{},zP({},o,I))},{})},qP=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},UP=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&DP(t.prototype,r),n&&DP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();zP(UP,"EPS",1e-4);var FP=function(e){var t=Object.keys(e).reduce(function(t,r){return LP(LP({},t),{},zP({},r,UP.create(e[r])))},{});return LP(LP({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return tP(e,function(e,r){return t[r].apply(e,{bandAware:n,position:a})})},isInRange:function(e){return lP(e,function(e,r){return t[r].isInRange(e)})}})};var GP=ed,VP=Sc,WP=Ec;var HP=function(e){return function(t,r,n){var a=Object(t);if(!VP(t)){var i=GP(r);t=WP(t),r=function(e){return i(a[e],e,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}},XP=bA;var KP=td,YP=ed,JP=function(e){var t=XP(e),r=t%1;return t==t?r?t-r:t:0},QP=Math.max;const ZP=l(HP(function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:JP(r);return a<0&&(a=QP(n+a,0)),KP(e,YP(t),a)}));var ek=Xn(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),tk=a.createContext(void 0),rk=a.createContext(void 0),nk=a.createContext(void 0),ak=a.createContext({}),ik=a.createContext(void 0),ok=a.createContext(0),sk=a.createContext(0),lk=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,o=e.children,s=e.width,l=e.height,u=ek(a);return c.createElement(tk.Provider,{value:r},c.createElement(rk.Provider,{value:n},c.createElement(ak.Provider,{value:a},c.createElement(nk.Provider,{value:u},c.createElement(ik.Provider,{value:i},c.createElement(ok.Provider,{value:l},c.createElement(sk.Provider,{value:s},o)))))))},ck=function(e){var t=a.useContext(tk);null==t&&kb();var r=t[e];return null==r&&kb(),r},uk=function(e){var t=a.useContext(rk);null==t&&kb();var r=t[e];return null==r&&kb(),r},dk=function(){return a.useContext(sk)},fk=function(){return a.useContext(ok)};function pk(e){return(pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mk(e,t,r){return t=yk(t),function(e,t){if(t&&("object"===pk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gk()?Reflect.construct(t,r||[],yk(e).constructor):t.apply(e,r))}function gk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gk=function(){return!!e})()}function yk(e){return(yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xk(e,t){return(xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(t){jk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jk(e,t,r){return(t=wk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wk(e){var t=function(e,t){if("object"!=pk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=pk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==pk(t)?t:t+""}function Nk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ok(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sk(){return Sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sk.apply(this,arguments)}function Ak(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,u=e.alwaysShow,d=a.useContext(ik),f=ck(i),p=uk(o),h=a.useContext(nk);if(!d||!h)return null;Ui(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=function(e,t,r,n,a,i,o,s,l){var c=a.x,u=a.y,d=a.width,f=a.height;if(r){var p=l.y,h=e.y.apply(p,{position:i});if(YA(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:c+d,y:h},{x:c,y:h}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:i});if(YA(l,"discard")&&!e.x.isInRange(y))return null;var x=[{x:y,y:u+f},{x:y,y:u}];return"top"===o?x.reverse():x}if(n){var v=l.segment.map(function(t){return e.apply(t,{position:i})});return YA(l,"discard")&&KA(v,function(t){return!e.isInRange(t)})?null:v}return null}(FP({x:f.scale,y:p.scale}),ei(t),ei(r),n&&2===n.length,h,e.position,f.orientation,p.orientation,e);if(!m)return null;var g=Nk(m,2),y=g[0],x=y.x,v=y.y,b=g[1],j=b.x,w=b.y,N=bk(bk({clipPath:YA(e,"hidden")?"url(#".concat(d,")"):void 0},Ti(e,!0)),{},{x1:x,y1:v,x2:j,y2:w});return c.createElement(qi,{className:Yt("recharts-reference-line",l)},function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):kr(e)?e(t):c.createElement("line",Sk({},t,{className:"recharts-reference-line-line"}))}(s,N),Kj.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return qP({x:t,y:r},{x:n,y:a})}({x1:x,y1:v,x2:j,y2:w})))}var Pk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}(e,c.Component),hk(e,[{key:"render",value:function(){return c.createElement(Ak,this.props)}}])}();function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}function Ek(e){return(Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ck(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(t){Lk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _k(e,t,r){return t=Dk(t),function(e,t){if(t&&("object"===Ek(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ik()?Reflect.construct(t,r||[],Dk(e).constructor):t.apply(e,r))}function Ik(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ik=function(){return!!e})()}function Dk(e){return(Dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rk(e,t){return(Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lk(e,t,r){return(t=zk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zk(e){var t=function(e,t){if("object"!=Ek(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ek(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ek(t)?t:t+""}jk(Pk,"displayName","ReferenceLine"),jk(Pk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var Bk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_k(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}(e,c.Component),Mk(e,[{key:"render",value:function(){var t=this.props,r=t.x,n=t.y,a=t.r,i=t.alwaysShow,o=t.clipPathId,s=ei(r),l=ei(n);if(Ui(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=FP({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return YA(e,"discard")&&!i.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,f=u.y,p=this.props,h=p.shape,m=p.className,g=Ck(Ck({clipPath:YA(this.props,"hidden")?"url(#".concat(o,")"):void 0},Ti(this.props,!0)),{},{cx:d,cy:f});return c.createElement(qi,{className:Yt("recharts-reference-dot",m)},e.renderDot(h,g),Kj.renderCallByParent(this.props,{x:d-a,y:f-a,width:2*a,height:2*a}))}}])}();function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function qk(e){return(qk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Fk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(t){Kk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vk(e,t,r){return t=Hk(t),function(e,t){if(t&&("object"===qk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wk()?Reflect.construct(t,r||[],Hk(e).constructor):t.apply(e,r))}function Wk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Wk=function(){return!!e})()}function Hk(e){return(Hk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xk(e,t){return(Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Kk(e,t,r){return(t=Yk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yk(e){var t=function(e,t){if("object"!=qk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=qk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==qk(t)?t:t+""}Lk(Bk,"displayName","ReferenceDot"),Lk(Bk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),Lk(Bk,"renderDot",function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):kr(e)?e(t):c.createElement(AO,kk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var Jk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Vk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xk(e,t)}(e,c.Component),Gk(e,[{key:"render",value:function(){var t=this.props,r=t.x1,n=t.x2,a=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,l=t.clipPathId;Ui(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ei(r),d=ei(n),f=ei(a),p=ei(i),h=this.props.shape;if(!(u||d||f||p||h))return null;var m=function(e,t,r,n,a){var i=a.x1,o=a.x2,s=a.y1,l=a.y2,c=a.xAxis,u=a.yAxis;if(!c||!u)return null;var d=FP({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!YA(a,"discard")||d.isInRange(f)&&d.isInRange(p)?qP(f,p):null}(u,d,f,p,this.props);if(!m&&!h)return null;var g=YA(this.props,"hidden")?"url(#".concat(l,")"):void 0;return c.createElement(qi,{className:Yt("recharts-reference-area",o)},e.renderRect(h,Fk(Fk({clipPath:g},Ti(this.props,!0)),m)),Kj.renderCallByParent(this.props,m))}}])}();function Qk(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Zk(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=n*Math.PI/180,i=Math.atan(r/t),o=a>i&&a<Math.PI-i?r/Math.sin(a):t/Math.cos(a);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function eE(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(t){aE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aE(e,t,r){var n;return n=function(e,t){if("object"!=tE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=tE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==tE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iE(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!a||!a.length||!n)return[];if(Za(l)||np)return function(e,t){return Qk(e,t+1)}(a,"number"==typeof l&&Za(l)?l:0);var f=[],p="top"===s||"bottom"===s?"width":"height",h=u&&"width"===p?Jp(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(e,n){var a=kr(c)?c(e.value,n):e.value;return"width"===p?Zk(Jp(a,{fontSize:t,letterSpacing:r}),h,d):Jp(a,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?Ja(a[1].coordinate-a[0].coordinate):1,y=function(e,t,r){var n="width"===r,a=e.x,i=e.y,o=e.width,s=e.height;return 1===t?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}(i,g,p);return"equidistantPreserveStart"===l?function(e,t,r,n,a){for(var i,o=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:Qk(n,u)};var i,o=c,f=function(){return void 0===i&&(i=r(t,o)),i},p=t.coordinate,h=0===c||eE(e,p,f,d,l);h||(c=0,d=s,u+=1),h&&(d=p+e*(f()/2+a),c+=u)};u<=o.length;)if(i=f())return i.v;return[]}(g,y,m,a,o):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,l=t.start,c=t.end;if(i){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);o[s-1]=u=nE(nE({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),eE(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+a),o[s-1]=nE(nE({},u),{},{isShow:!0}))}for(var p=i?s-1:s,h=function(t){var n,i=o[t],s=function(){return void 0===n&&(n=r(i,t)),n};if(0===t){var u=e*(i.coordinate-e*s()/2-l);o[t]=i=nE(nE({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else o[t]=i=nE(nE({},i),{},{tickCoord:i.coordinate});eE(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+a),o[t]=nE(nE({},i),{},{isShow:!0}))},m=0;m<p;m++)h(m);return o}(g,y,m,a,o,"preserveStartEnd"===l):function(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,s=t.start,l=t.end,c=function(t){var n,c=i[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=nE(nE({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=nE(nE({},c),{},{tickCoord:c.coordinate});eE(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+a),i[t]=nE(nE({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return i}(g,y,m,a,o),f.filter(function(e){return e.isShow}))}Kk(Jk,"displayName","ReferenceArea"),Kk(Jk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Kk(Jk,"renderRect",function(e,t){return c.isValidElement(e)?c.cloneElement(e,t):kr(e)?e(t):c.createElement(gO,$k({},t,{className:"recharts-reference-area-rect"}))});var oE=["viewBox"],sE=["viewBox"],lE=["ticks"];function cE(e){return(cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uE.apply(this,arguments)}function dE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dE(Object(r),!0).forEach(function(t){vE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bE(n.key),n)}}function mE(e,t,r){return t=yE(t),function(e,t){if(t&&("object"===cE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gE()?Reflect.construct(t,r||[],yE(e).constructor):t.apply(e,r))}function gE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gE=function(){return!!e})()}function yE(e){return(yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xE(e,t){return(xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vE(e,t,r){return(t=bE(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bE(e){var t=function(e,t){if("object"!=cE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=cE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==cE(t)?t:t+""}var jE=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=mE(this,e,[t])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}(e,a.Component),t=e,n=[{key:"renderTickItem",value:function(e,t,r){var n=Yt(t.className,"recharts-cartesian-axis-tick-value");return c.isValidElement(e)?c.cloneElement(e,fE(fE({},t),{},{className:n})):kr(e)?e(fE(fE({},t),{},{className:n})):c.createElement(Ah,uE({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=pE(e,oE),a=this.props,i=a.viewBox,o=pE(a,sE);return!li(r,i)||!li(n,o)||!li(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,i,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,h=s.mirror,m=s.tickMargin,g=h?-1:1,y=e.tickSize||p,x=Za(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=r=e.coordinate,o=(n=(a=c+ +!h*d)-g*y)-g*m,i=x;break;case"left":n=a=e.coordinate,i=(t=(r=l+ +!h*u)-g*y)-g*m,o=x;break;case"right":n=a=e.coordinate,i=(t=(r=l+ +h*u)+g*y)+g*m,o=x;break;default:t=r=e.coordinate,o=(n=(a=c+ +h*d)+g*y)+g*m,i=x}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:i,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,o=e.mirror,s=e.axisLine,l=fE(fE(fE({},Ti(this.props,!1)),Ti(s,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!o||"bottom"===i&&o);l=fE(fE({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+("left"===i&&!o||"right"===i&&o);l=fE(fE({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return c.createElement("line",uE({},l,{className:Yt("recharts-cartesian-axis-line",ba(s,"className"))}))}},{key:"renderTicks",value:function(t,r,n){var a=this,i=this.props,o=i.tickLine,s=i.stroke,l=i.tick,u=i.tickFormatter,d=i.unit,f=iE(fE(fE({},this.props),{},{ticks:t}),r,n),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ti(this.props,!1),g=Ti(l,!1),y=fE(fE({},m),{},{fill:"none"},Ti(o,!1)),x=f.map(function(t,r){var n=a.getTickLineCoord(t),i=n.line,x=n.tick,v=fE(fE(fE(fE({textAnchor:p,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),x),{},{index:r,payload:t,visibleTicksCount:f.length,tickFormatter:u});return c.createElement(qi,uE({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},mi(a.props,t,r)),o&&c.createElement("line",uE({},y,i,{className:Yt("recharts-cartesian-axis-tick-line",ba(o,"className"))})),l&&e.renderTickItem(l,v,"".concat(kr(u)?u(t.value,r):t.value).concat(d||"")))});return c.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,o=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,u=pE(s,lE),d=l;return kr(i)&&(d=l&&l.length>0?i(this.props):i(u)),n<=0||a<=0||!d||!d.length?null:c.createElement(qi,{className:Yt("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),Kj.renderCallByParent(this.props))}}])&&hE(t.prototype,r),n&&hE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();vE(jE,"displayName","CartesianAxis"),vE(jE,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wE=["x1","y1","x2","y2","key"],NE=["offset"];function OE(e){return(OE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function AE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SE(Object(r),!0).forEach(function(t){PE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PE(e,t,r){var n;return n=function(e,t){if("object"!=OE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=OE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OE(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(this,arguments)}function EE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var TE=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.ry;return c.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function CE(e,t){var r;if(c.isValidElement(e))r=c.cloneElement(e,t);else if(kr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,s=t.key,l=EE(t,wE),u=Ti(l,!1);u.offset;var d=EE(u,NE);r=c.createElement("line",kE({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:s}))}return r}function ME(e){var t=e.x,r=e.width,n=e.horizontal,a=void 0===n||n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(n,i){var o=AE(AE({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i});return CE(a,o)});return c.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _E(e){var t=e.y,r=e.height,n=e.vertical,a=void 0===n||n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(n,i){var o=AE(AE({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i});return CE(a,o)});return c.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function IE(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var u=s.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==u[0]&&u.unshift(0);var d=u.map(function(e,s){var l=!u[s+1]?a+o-e:u[s+1]-e;if(l<=0)return null;var d=s%t.length;return c.createElement("rect",{key:"react-".concat(s),y:e,x:n,height:l,width:i,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DE(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==d[0]&&d.unshift(0);var f=d.map(function(e,t){var r=!d[t+1]?i+s-e:d[t+1]-e;if(r<=0)return null;var u=t%n.length;return c.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:r,height:l,stroke:"none",fill:n[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return c.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var RE=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return oj(iE(AE(AE(AE({},jE.defaultProps),r),{},{ticks:sj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},LE=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return oj(iE(AE(AE(AE({},jE.defaultProps),r),{},{ticks:sj(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},zE={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function BE(e){var t,r,n,i,o,s,l,u,d=dk(),f=fk(),p=a.useContext(ak),h=AE(AE({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:zE.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:zE.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:zE.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:zE.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:zE.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:zE.verticalFill,x:Za(e.x)?e.x:p.left,y:Za(e.y)?e.y:p.top,width:Za(e.width)?e.width:p.width,height:Za(e.height)?e.height:p.height}),m=h.x,g=h.y,y=h.width,x=h.height,v=h.syncWithTicks,b=h.horizontalValues,j=h.verticalValues,w=(l=a.useContext(tk),ai(l)),N=(u=a.useContext(rk),ZP(u,function(e){return lP(e.domain,Number.isFinite)})||ai(u));if(!Za(y)||y<=0||!Za(x)||x<=0||!Za(m)||m!==+m||!Za(g)||g!==+g)return null;var O=h.verticalCoordinatesGenerator||RE,S=h.horizontalCoordinatesGenerator||LE,A=h.horizontalPoints,P=h.verticalPoints;if((!A||!A.length)&&kr(S)){var k=b&&b.length,E=S({yAxis:N?AE(AE({},N),{},{ticks:k?b:N.ticks}):void 0,width:d,height:f,offset:p},!!k||v);Ui(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(OE(E),"]")),Array.isArray(E)&&(A=E)}if((!P||!P.length)&&kr(O)){var T=j&&j.length,C=O({xAxis:w?AE(AE({},w),{},{ticks:T?j:w.ticks}):void 0,width:d,height:f,offset:p},!!T||v);Ui(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(OE(C),"]")),Array.isArray(C)&&(P=C)}return c.createElement("g",{className:"recharts-cartesian-grid"},c.createElement(TE,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),c.createElement(ME,kE({},h,{offset:p,horizontalPoints:A,xAxis:w,yAxis:N})),c.createElement(_E,kE({},h,{offset:p,verticalPoints:P,xAxis:w,yAxis:N})),c.createElement(IE,kE({},h,{horizontalPoints:A})),c.createElement(DE,kE({},h,{verticalPoints:P})))}BE.displayName="CartesianGrid";var $E=["type","layout","connectNulls","ref"],qE=["key"];function UE(e){return(UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FE(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(t){eT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HE(e){return function(e){if(Array.isArray(e))return XE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return XE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tT(n.key),n)}}function YE(e,t,r){return t=QE(t),function(e,t){if(t&&("object"===UE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JE()?Reflect.construct(t,r||[],QE(e).constructor):t.apply(e,r))}function JE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(JE=function(){return!!e})()}function QE(e){return(QE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZE(e,t){return(ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eT(e,t,r){return(t=tT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tT(e){var t=function(e,t){if("object"!=UE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=UE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==UE(t)?t:t+""}var rT=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return eT(t=YE(this,e,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),eT(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),eT(t,"getStrokeDasharray",function(r,n,a){var i=a.reduce(function(e,t){return e+t});if(!i)return t.generateSimpleStrokeDasharray(n,r);for(var o=Math.floor(r/i),s=r%i,l=n-r,c=[],u=0,d=0;u<a.length;d+=a[u],++u)if(d+a[u]>s){c=[].concat(HE(a.slice(0,u)),[s-d]);break}var f=c.length%2==0?[0,l]:[l];return[].concat(HE(e.repeat(a,o)),HE(c),f).map(function(e){return"".concat(e,"px")}).join(", ")}),eT(t,"id",ri("recharts-line-")),eT(t,"pathRef",function(e){t.mainCurve=e}),eT(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),eT(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(HE(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(HE(n),HE(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(c.isValidElement(e))r=c.cloneElement(e,t);else if(kr(e))r=e(t);else{var n=t.key,a=FE(t,qE),i=Yt("recharts-line-dot","boolean"!=typeof e?e.className:"");r=c.createElement(AO,GE({key:n},a,{className:i}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,i=r.yAxis,o=r.layout,s=Si(r.children,Ub);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:ej(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return c.createElement(qi,u,s.map(function(e){return c.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:i,layout:o,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,o=a.points,s=a.dataKey,l=Ti(this.props,!1),u=Ti(i,!0),d=o.map(function(t,r){var n=WE(WE(WE({key:"dot-".concat(r),r:3},l),u),{},{index:r,cx:t.x,cy:t.y,value:t.value,dataKey:s,payload:t.payload,points:o});return e.renderDotItem(i,n)}),f={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return c.createElement(qi,GE({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,i=a.type,o=a.layout,s=a.connectNulls;a.ref;var l=FE(a,$E),u=WE(WE(WE({},Ti(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:o,connectNulls:s});return c.createElement(Ew,GE({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.strokeDasharray,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,u=n.animationEasing,d=n.animationId,f=n.animateNewValues,p=n.width,h=n.height,m=this.state,g=m.prevPoints,y=m.totalLength;return c.createElement(iO,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t;if(g){var s=g.length/a.length,l=a.map(function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],a=ii(n.x,e.x),i=ii(n.y,e.y);return WE(WE({},e),{},{x:a(o),y:i(o)})}if(f){var l=ii(2*p,e.x),c=ii(h/2,e.y);return WE(WE({},e),{},{x:l(o),y:c(o)})}return WE(WE({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,u=ii(0,y)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(u,y,d)}else c=r.generateSimpleStrokeDasharray(y,u);return r.renderCurveStatically(a,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,o=i.prevPoints,s=i.totalLength;return a&&n&&n.length&&(!o&&s>0||!kv(o,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,o=t.xAxis,s=t.yAxis,l=t.top,u=t.left,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Yt("recharts-line",i),x=o&&o.allowDataOverflow,v=s&&s.allowDataOverflow,b=x||v,j=ja(h)?this.id:h,w=null!==(e=Ti(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,O=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,P=(Ei(n)?n:{}).clipDot,k=void 0===P||P,E=2*O+A;return c.createElement(qi,{className:y},x||v?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(j)},c.createElement("rect",{x:x?u:u-d/2,y:v?l:l-f/2,width:x?d:2*d,height:v?f:2*f})),!k&&c.createElement("clipPath",{id:"clipPath-dots-".concat(j)},c.createElement("rect",{x:u-E/2,y:l-E/2,width:d+E,height:f+E}))):null,!g&&this.renderCurve(b,j),this.renderErrorBar(b,j),(g||n)&&this.renderDots(b,k,j),(!p||m)&&cw.renderCallByParent(this.props,a))}}])&&KE(t.prototype,r),n&&KE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();eT(rT,"displayName","Line"),eT(rT,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!np,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),eT(rT,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout;return WE({points:l.map(function(e,t){var l=ej(e,o);return"horizontal"===u?{x:gj({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:ja(l)?null:n.scale(l),value:l,payload:e}:{x:ja(l)?null:r.scale(l),y:gj({axis:n,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}),layout:u},c)});var nT,aT=["layout","type","stroke","connectNulls","isRange","ref"],iT=["key"];function oT(e){return(oT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sT(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lT(){return lT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lT.apply(this,arguments)}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(t){gT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yT(n.key),n)}}function fT(e,t,r){return t=hT(t),function(e,t){if(t&&("object"===oT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pT()?Reflect.construct(t,r||[],hT(e).constructor):t.apply(e,r))}function pT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pT=function(){return!!e})()}function hT(e){return(hT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mT(e,t){return(mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gT(e,t,r){return(t=yT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(e){var t=function(e,t){if("object"!=oT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=oT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==oT(t)?t:t+""}var xT=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return gT(t=fT(this,e,[].concat(n)),"state",{isAnimationFinished:!0}),gT(t,"id",ri("recharts-area-")),gT(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),kr(e)&&e()}),gT(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),kr(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}(e,a.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(r=[{key:"renderDots",value:function(t,r,n){var a=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(a&&!i)return null;var o=this.props,s=o.dot,l=o.points,u=o.dataKey,d=Ti(this.props,!1),f=Ti(s,!0),p=l.map(function(t,r){var n=uT(uT(uT({key:"dot-".concat(r),r:3},d),f),{},{index:r,cx:t.x,cy:t.y,dataKey:u,value:t.value,payload:t.payload,points:l});return e.renderDotItem(s,n)}),h={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return c.createElement(qi,lT({className:"recharts-area-dots"},h),p)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].x,o=n[n.length-1].x,s=e*Math.abs(i-o),l=hv(n.map(function(e){return e.y||0}));return Za(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(hv(r.map(function(e){return e.y||0})),l)),Za(l)?c.createElement("rect",{x:i<o?i:i-s,y:0,width:s,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,a=t.strokeWidth,i=n[0].y,o=n[n.length-1].y,s=e*Math.abs(i-o),l=hv(n.map(function(e){return e.x||0}));return Za(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(hv(r.map(function(e){return e.x||0})),l)),Za(l)?c.createElement("rect",{x:0,y:i<o?i:i-s,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(s)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var a=this.props,i=a.layout,o=a.type,s=a.stroke,l=a.connectNulls,u=a.isRange;a.ref;var d=sT(a,aT);return c.createElement(qi,{clipPath:r?"url(#clipPath-".concat(n,")"):null},c.createElement(Ew,lT({},Ti(d,!0),{points:e,connectNulls:l,type:o,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==s&&c.createElement(Ew,lT({},Ti(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:e})),"none"!==s&&u&&c.createElement(Ew,lT({},Ti(this.props,!1),{className:"recharts-area-curve",layout:i,type:o,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.baseLine,o=n.isAnimationActive,s=n.animationBegin,l=n.animationDuration,u=n.animationEasing,d=n.animationId,f=this.state,p=f.prevPoints,h=f.prevBaseLine;return c.createElement(iO,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var o=n.t;if(p){var s,l=p.length/a.length,u=a.map(function(e,t){var r=Math.floor(t*l);if(p[r]){var n=p[r],a=ii(n.x,e.x),i=ii(n.y,e.y);return uT(uT({},e),{},{x:a(o),y:i(o)})}return e});return s=Za(i)&&"number"==typeof i?ii(h,i)(o):ja(i)||Ya(i)?ii(h,0)(o):i.map(function(e,t){var r=Math.floor(t*l);if(h[r]){var n=h[r],a=ii(n.x,e.x),i=ii(n.y,e.y);return uT(uT({},e),{},{x:a(o),y:i(o)})}return e}),r.renderAreaStatically(u,s,e,t)}return c.createElement(qi,null,c.createElement("defs",null,c.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(o))),c.createElement(qi,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(a,i,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,a=r.baseLine,i=r.isAnimationActive,o=this.state,s=o.prevPoints,l=o.prevBaseLine,c=o.totalLength;return i&&n&&n.length&&(!s&&c>0||!kv(s,n)||!kv(l,a))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,a,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,i=t.className,o=t.top,s=t.left,l=t.xAxis,u=t.yAxis,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=Yt("recharts-area",i),x=l&&l.allowDataOverflow,v=u&&u.allowDataOverflow,b=x||v,j=ja(h)?this.id:h,w=null!==(e=Ti(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,O=void 0===N?3:N,S=w.strokeWidth,A=void 0===S?2:S,P=(Ei(n)?n:{}).clipDot,k=void 0===P||P,E=2*O+A;return c.createElement(qi,{className:y},x||v?c.createElement("defs",null,c.createElement("clipPath",{id:"clipPath-".concat(j)},c.createElement("rect",{x:x?s:s-d/2,y:v?o:o-f/2,width:x?d:2*d,height:v?f:2*f})),!k&&c.createElement("clipPath",{id:"clipPath-dots-".concat(j)},c.createElement("rect",{x:s-E/2,y:o-E/2,width:d+E,height:f+E}))):null,g?null:this.renderArea(b,j),(n||g)&&this.renderDots(b,k,j),(!p||m)&&cw.renderCallByParent(this.props,a))}}])&&dT(t.prototype,r),n&&dT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function vT(e){return(vT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jT(e,t,r){return t=NT(t),function(e,t){if(t&&("object"===vT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wT()?Reflect.construct(t,r||[],NT(e).constructor):t.apply(e,r))}function wT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wT=function(){return!!e})()}function NT(e){return(NT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OT(e,t){return(OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ST(e,t,r){return(t=AT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT(e){var t=function(e,t){if("object"!=vT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=vT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==vT(t)?t:t+""}function PT(){return PT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PT.apply(this,arguments)}function kT(e){var t=e.xAxisId,r=dk(),n=fk(),i=ck(t);return null==i?null:a.createElement(jE,PT({},i,{className:Yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return sj(e,!0)}}))}nT=xT,gT(xT,"displayName","Area"),gT(xT,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!np,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),gT(xT,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,s=null!=o?o:i;if(Za(s)&&"number"==typeof s)return s;var l="horizontal"===a?n:r,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]}),gT(xT,"getComposedData",function(e){var t,r=e.props,n=e.item,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=r.layout,m=u&&u.length,g=nT.getBaseValue(r,n,a,i),y="horizontal"===h,x=!1,v=f.map(function(e,t){var r;m?r=u[d+t]:(r=ej(e,c),Array.isArray(r)?x=!0:r=[g,r]);var n=null==r[1]||m&&null==ej(e,c);return y?{x:gj({axis:a,ticks:o,bandSize:l,entry:e,index:t}),y:n?null:i.scale(r[1]),value:r,payload:e}:{x:n?null:a.scale(r[1]),y:gj({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=m||x?v.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return y?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?a.scale(t):null,y:e.y}}):y?i.scale(g):a.scale(g),uT({points:v,baseLine:t,layout:h,isRange:x},p)}),gT(xT,"renderDotItem",function(e,t){var r;if(c.isValidElement(e))r=c.cloneElement(e,t);else if(kr(e))r=e(t);else{var n=Yt("recharts-area-dot","boolean"!=typeof e?e.className:""),a=t.key,i=sT(t,iT);r=c.createElement(AO,lT({},i,{key:a,className:n}))}return r});var ET=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OT(e,t)}(e,a.Component),bT(e,[{key:"render",value:function(){return a.createElement(kT,this.props)}}])}();function TT(e){return(TT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MT(e,t,r){return t=IT(t),function(e,t){if(t&&("object"===TT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_T()?Reflect.construct(t,r||[],IT(e).constructor):t.apply(e,r))}function _T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_T=function(){return!!e})()}function IT(e){return(IT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function DT(e,t){return(DT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function RT(e,t,r){return(t=LT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LT(e){var t=function(e,t){if("object"!=TT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=TT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==TT(t)?t:t+""}function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}ST(ET,"displayName","XAxis"),ST(ET,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var BT=function(e){var t=e.yAxisId,r=dk(),n=fk(),i=uk(t);return null==i?null:a.createElement(jE,zT({},i,{className:Yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return sj(e,!0)}}))},$T=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),MT(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DT(e,t)}(e,a.Component),CT(e,[{key:"render",value:function(){return a.createElement(BT,this.props)}}])}();function qT(e){return function(e){if(Array.isArray(e))return UT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return UT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UT(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}RT($T,"displayName","YAxis"),RT($T,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var FT=function(e,t,r,n,a){var i=Si(e,Pk),o=Si(e,Bk),s=[].concat(qT(i),qT(o)),l=Si(e,Jk),c="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce(function(e,t){if(t.props[c]===r&&YA(t.props,"extendDomain")&&Za(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},d)),l.length){var f="".concat(u,"1"),p="".concat(u,"2");d=l.reduce(function(e,t){if(t.props[c]===r&&YA(t.props,"extendDomain")&&Za(t.props[f])&&Za(t.props[p])){var n=t.props[f],a=t.props[p];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e},d)}return a&&a.length&&(d=a.reduce(function(e,t){return Za(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},d)),d},GT={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,i=n.length,o=new Array(i);a<i;a++)o[a]=n[a].fn;return o},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,i,o){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,i),!0;case 6:return u.fn.call(u.context,t,n,a,i,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,a);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return o(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||o(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||a&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:o(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(GT);var VT=new(l(GT.exports)),WT="recharts.syncMouseEvents";function HT(e){return(HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XT(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YT(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KT(e,t,r){return(t=YT(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YT(e){var t=function(e,t){if("object"!=HT(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=HT(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==HT(t)?t:t+""}var JT=function(){return XT(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KT(this,"activeIndex",0),KT(this,"coordinateList",[]),KT(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,a=e.container,i=void 0===a?null:a,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,a=r.y,i=r.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+o+s,u=a+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])}();function QT(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle;return{points:[_j(t,r,n,a),_j(t,r,n,i)],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function ZT(e,t,r){var n,a,i,o;if("horizontal"===e)i=n=t.x,a=r.top,o=r.top+r.height;else if("vertical"===e)o=a=t.y,n=r.left,i=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return QT(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=_j(s,l,c,d),p=_j(s,l,u,d);n=f.x,a=f.y,i=p.x,o=p.y}return[{x:n,y:a},{x:i,y:o}]}function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(t){nC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nC(e,t,r){var n;return n=function(e,t){if("object"!=eC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=eC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eC(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aC(e){var t,r,n,i=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!s||!l||"ScatterChart"!==h&&"axis"!==o)return null;var g=Ew;if("ScatterChart"===h)n=l,g=IO;else if("BarChart"===h)n=function(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-a,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(p,l,u,f),g=gO;else if("radial"===p){var y=QT(l),x=y.cx,v=y.cy,b=y.radius;n={cx:x,cy:v,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:b,outerRadius:b},g=xw}else n={points:ZT(p,l,u)},g=Ew;var j=rC(rC(rC(rC({stroke:"#ccc",pointerEvents:"none"},u),n),Ti(m,!1)),{},{payload:c,payloadIndex:d,className:Yt("recharts-tooltip-cursor",m.className)});return a.isValidElement(m)?a.cloneElement(m,j):a.createElement(g,j)}var iC=["item"],oC=["children","className","width","height","style","compact","title","desc"];function sC(e){return(sC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lC(){return lC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lC.apply(this,arguments)}function cC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,s=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(l=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw a}}return s}}(e,t)||yC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uC(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dC(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wC(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fC(e,t,r){return t=hC(t),function(e,t){if(t&&("object"===sC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pC()?Reflect.construct(t,r||[],hC(e).constructor):t.apply(e,r))}function pC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pC=function(){return!!e})()}function hC(e){return(hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mC(e,t){return(mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function gC(e){return function(e){if(Array.isArray(e))return xC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yC(e,t){if(e){if("string"==typeof e)return xC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xC(e,t):void 0}}function xC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(t){jC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jC(e,t,r){return(t=wC(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wC(e){var t=function(e,t){if("object"!=sC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=sC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sC(t)?t:t+""}var NC={xAxis:["bottom","top"],yAxis:["left","right"]},OC={width:"100%",height:"100%"},SC={x:0,y:0};function AC(e){return e}var PC=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(null!=r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(gC(e),gC(r)):e},[]);return i.length>0?i:e&&e.length&&Za(n)&&Za(a)?e.slice(n,a+1):[]};function kC(e){return"number"===e?[0,"auto"]:void 0}var EC=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=PC(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(a,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=oi(void 0===u?o:u,i.dataKey,n):c=u&&u[r]||o[r];return c?[].concat(gC(a),[Oj(s,c)]):a},[])},TC=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(o<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Ja(u-c)!==Ja(d-u)){var p=[];if(Ja(d-u)===Ja(s[1]-s[0])){f=d;var h=u+s[1]-s[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{f=c;var m=d+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){i=n[l].index;break}}else{var y=Math.min(c,d),x=Math.max(c,d);if(e>(y+u)/2&&e<=(x+u)/2){i=n[l].index;break}}}else for(var v=0;v<o;v++)if(0===v&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v>0&&v<o-1&&e>(r[v].coordinate+r[v-1].coordinate)/2&&e<=(r[v].coordinate+r[v+1].coordinate)/2||v===o-1&&e>(r[v].coordinate+r[v-1].coordinate)/2){i=r[v].index;break}return i}(i,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=EC(e,t,c,u),f=function(e,t,r,n){var a=t.find(function(e){return e&&e.index===r});if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var i=a.coordinate,o=n.radius;return bC(bC(bC({},n),_j(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,l=n.angle;return bC(bC(bC({},n),_j(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return SC}(r,o,c,a);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},CC=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=ij(c,a);return r.reduce(function(t,r){var p,h=void 0!==r.type.defaultProps?bC(bC({},r.type.defaultProps),r.props):r.props,m=h.type,g=h.dataKey,y=h.allowDataOverflow,x=h.allowDuplicatedCategory,v=h.scale,b=h.ticks,j=h.includeHidden,w=h[i];if(t[w])return t;var N,O,S,A=PC(e.data,{graphicalItems:n.filter(function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===w}),dataStartIndex:s,dataEndIndex:l}),P=A.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&Za(n)&&Za(a))return!0}return!1})(h.domain,y,m)&&(N=jj(h.domain,null,y),!f||"number"!==m&&"auto"===v||(S=tj(A,g,"category")));var k=kC(m);if(!N||0===N.length){var E,T=null!==(E=h.domain)&&void 0!==E?E:k;if(g){if(N=tj(A,g,m),"category"===m&&f){var C=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);x&&C?(O=N,N=OA(0,P)):x||(N=Nj(T,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(gC(e),[t])},[]))}else if("category"===m)N=x?N.filter(function(e){return""!==e&&!ja(e)}):Nj(T,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||ja(t)?e:[].concat(gC(e),[t])},[]);else if("number"===m){var M=function(e,t,r,n,a){var i=t.map(function(t){return nj(e,t,r,a,n)}).filter(function(e){return!ja(e)});return i&&i.length?i.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(A,n.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!a)}),g,a,c);M&&(N=M)}!f||"number"!==m&&"auto"===v||(S=tj(A,g,"category"))}else N=f?OA(0,P):o&&o[w]&&o[w].hasStack&&"number"===m?"expand"===d?[0,1]:xj(o[w].stackGroups,s,l):aj(A,n.filter(function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),m,c,!0);if("number"===m)N=FT(u,N,w,a,b),T&&(N=jj(T,N,y));else if("category"===m&&T){var _=T;N.every(function(e){return _.indexOf(e)>=0})&&(N=_)}}return bC(bC({},t),{},jC({},w,bC(bC({},h),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:O,originalDomain:null!==(p=h.domain)&&void 0!==p?p:k,isCategorical:f,layout:c})))},{})},MC=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(n,"Id"),d=Si(c,a),f={};return d&&d.length?f=CC(e,{axes:d,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=PC(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:l}),f=d.length,p=ij(c,a),h=-1;return r.reduce(function(e,t){var m,g=(void 0!==t.type.defaultProps?bC(bC({},t.type.defaultProps),t.props):t.props)[i],y=kC("number");return e[g]?e:(h++,p?m=OA(0,f):o&&o[g]&&o[g].hasStack?(m=xj(o[g].stackGroups,s,l),m=FT(u,m,g,a)):(m=jj(y,aj(d,r.filter(function(e){var t,r,n=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],a="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===g&&!a}),"number",c),n.defaultProps.allowDataOverflow),m=FT(u,m,g,a)),bC(bC({},e),{},jC({},g,bC(bC({axisType:a},n.defaultProps),{},{hide:!0,orientation:ba(NC,"".concat(a,".").concat(h%2),null),domain:m,originalDomain:y,isCategorical:p,layout:c}))))},{})}(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),f},_C=function(e){var t=e.children,r=e.defaultShowTooltip,n=Ai(t,UA),a=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},IC=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DC=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,i=e.yAxisMap,o=void 0===i?{}:i,s=r.width,l=r.height,c=r.children,u=r.margin||{},d=Ai(c,UA),f=Ai(c,Id),p=Object.keys(o).reduce(function(e,t){var r=o[t],n=r.orientation;return r.mirror||r.hide?e:bC(bC({},e),{},jC({},n,e[n]+r.width))},{left:u.left||0,right:u.right||0}),h=Object.keys(a).reduce(function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:bC(bC({},e),{},jC({},n,ba(e,"".concat(n))+r.height))},{top:u.top||0,bottom:u.bottom||0}),m=bC(bC({},h),p),g=m.bottom;d&&(m.bottom+=d.props.height||UA.defaultProps.height),f&&t&&(m=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,s=i-(o.left||0)-(o.right||0),l=Hb({children:a,legendWidth:s});if(l){var c=n||{},u=c.width,d=c.height,f=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==f&&Za(e[f]))return Qb(Qb({},e),{},Zb({},f,e[f]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==p&&Za(e[p]))return Qb(Qb({},e),{},Zb({},p,e[p]+(d||0)))}return e}(m,0,r,t));var y=s-m.left-m.right,x=l-m.top-m.bottom;return bC(bC({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(x,0)})},RC=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},LC=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,i=void 0===n?"axis":n,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,p=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,i=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,p=e.maxBarSize,h=IC(u),m=h.numericAxisName,g=h.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some(function(e){var t=ji(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),x=[];return r.forEach(function(r,h){var v=PC(e.data,{graphicalItems:[r],dataStartIndex:o,dataEndIndex:s}),b=void 0!==r.type.defaultProps?bC(bC({},r.type.defaultProps),r.props):r.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(m,"Id")],O=b["".concat(g,"Id")],S=l.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],a=b["".concat(r.axisType,"Id")];n&&n[a]||"zAxis"===r.axisType||kb();var i=n[a];return bC(bC({},e),{},jC(jC({},r.axisType,i),"".concat(r.axisType,"Ticks"),sj(i)))},{}),A=S[g],P=S["".concat(g,"Ticks")],k=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?Qb(Qb({},e.type.defaultProps),e.props):e.props).stackId;if(ei(n)){var a=t[n];if(a){var i=a.items.indexOf(e);return i>=0?a.stackedData[i]:null}}return null}(r,n[N].stackGroups),E=ji(r.type).indexOf("Bar")>=0,T=wj(A,P),C=[],M=y&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=void 0===n?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),s=0,l=o.length;s<l;s++)for(var c=a[o[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var p=c[u[d]],h=p.items,m=p.cateAxisId,g=h.filter(function(e){return ji(e.type).indexOf("Bar")>=0});if(g&&g.length){var y=g[0].type.defaultProps,x=void 0!==y?Qb(Qb({},y),g[0].props):g[0].props,v=x.barSize,b=x[m];i[b]||(i[b]=[]);var j=ja(v)?t:v;i[b].push({item:g[0],stackList:g.slice(1),barSize:ja(j)?void 0:ni(j,r,0)})}}return i}({barSize:c,stackGroups:n,totalSize:RC(S,g)});if(E){var _,I,D=ja(w)?p:w,R=null!==(_=null!==(I=wj(A,P,!0))&&void 0!==I?I:D)&&void 0!==_?_:0;C=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=void 0===a?[]:a,o=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=ni(t,n,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=n/s,p=i.reduce(function(e,t){return e+t.barSize||0},0);(p+=(s-1)*c)>=n&&(p-=(s-1)*c,c=0),p>=n&&f>0&&(d=!0,p=s*(f*=.9));var h={offset:((n-p)/2|0)-c,size:0};l=i.reduce(function(e,t){var r={item:t.item,position:{offset:h.offset+h.size+c,size:d?f:t.barSize}},n=[].concat(Kb(e),[r]);return h=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:h})}),n},u)}else{var m=ni(r,n,0,!0);n-2*m-(s-1)*c<=0&&(c=0);var g=(n-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=i.reduce(function(e,t,r){var n=[].concat(Kb(e),[{item:t.item,position:{offset:m+(g+c)*r+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},u)}return l}({barGap:d,barCategoryGap:f,bandSize:R!==T?R:T,sizeList:M[O],maxBarSize:D}),R!==T&&(C=C.map(function(e){return bC(bC({},e),{},{position:bC(bC({},e.position),{},{offset:e.position.offset-R/2})})}))}var L,z,B=r&&r.type&&r.type.getComposedData;B&&x.push({props:bC(bC({},B(bC(bC({},S),{},{displayedData:v,props:e,dataKey:j,item:r,bandSize:T,barPosition:C,offset:a,stackedData:k,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},jC(jC(jC({key:r.key||"item-".concat(h)},m,S[m]),g,S[g]),"animationId",i)),childIndex:(L=r,z=e.children,Oi(z).indexOf(L)),item:r})}),x},h=function(e,n){var a=e.props,i=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!Pi({props:a}))return null;var c=a.children,u=a.layout,f=a.stackOffset,h=a.data,m=a.reverseStackOrder,g=IC(u),y=g.numericAxisName,x=g.cateAxisName,v=Si(c,r),b=function(e,t,r,n,a,i){if(!e)return null;var o=(i?t.reverse():t).reduce(function(e,t){var a,i=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Qb(Qb({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(i.hide)return e;var s=i[r],l=e[s]||{hasStack:!1,stackGroups:{}};if(ei(o)){var c=l.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[ri("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return Qb(Qb({},e),{},Zb({},s,l))},{});return Object.keys(o).reduce(function(t,i){var s=o[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce(function(t,i){var o=s.stackGroups[i];return Qb(Qb({},t),{},Zb({},i,{numericAxisId:r,cateAxisId:n,items:o.items,stackedData:hj(e,o.items,a)}))},{})),Qb(Qb({},t),{},Zb({},i,s))},{})}(h,v,"".concat(y,"Id"),"".concat(x,"Id"),f,m),j=l.reduce(function(e,t){var r="".concat(t.axisType,"Map");return bC(bC({},e),{},jC({},r,MC(a,bC(bC({},t),{},{graphicalItems:v,stackGroups:t.axisType===y&&b,dataStartIndex:i,dataEndIndex:o}))))},{}),w=DC(bC(bC({},j),{},{props:a,graphicalItems:v}),null==n?void 0:n.legendBBox);Object.keys(j).forEach(function(e){j[e]=d(a,j[e],w,e.replace("Map",""),t)});var N,O,S=j["".concat(x,"Map")],A=(N=ai(S),{tooltipTicks:O=sj(N,!1,!0),orderedTooltipTicks:Tf(O,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:wj(N,O)}),P=p(a,bC(bC({},j),{},{dataStartIndex:i,dataEndIndex:o,updateId:s,graphicalItems:v,stackGroups:b,offset:w}));return bC(bC({formattedGraphicalItems:P,graphicalItems:v,offset:w,stackGroups:b},A),j)},m=function(){function e(r){var n,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jC(o=fC(this,e,[r]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jC(o,"accessibilityManager",new JT),jC(o,"handleLegendBBoxUpdate",function(e){if(e){var t=o.state,r=t.dataStartIndex,n=t.dataEndIndex,a=t.updateId;o.setState(bC({legendBBox:e},h({props:o.props,dataStartIndex:r,dataEndIndex:n,updateId:a},bC(bC({},o.state),{},{legendBBox:e}))))}}),jC(o,"handleReceiveSyncEvent",function(e,t,r){if(o.props.syncId===e){if(r===o.eventEmitterSymbol&&"function"!=typeof o.props.syncMethod)return;o.applySyncEvent(t)}}),jC(o,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==o.state.dataStartIndex||r!==o.state.dataEndIndex){var n=o.state.updateId;o.setState(function(){return bC({dataStartIndex:t,dataEndIndex:r},h({props:o.props,dataStartIndex:t,dataEndIndex:r,updateId:n},o.state))}),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),jC(o,"handleMouseEnter",function(e){var t=o.getMouseInfo(e);if(t){var r=bC(bC({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseEnter;kr(n)&&n(r,e)}}),jC(o,"triggeredAfterMouseMove",function(e){var t=o.getMouseInfo(e),r=t?bC(bC({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(r),o.triggerSyncEvent(r);var n=o.props.onMouseMove;kr(n)&&n(r,e)}),jC(o,"handleItemMouseEnter",function(e){o.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),jC(o,"handleItemMouseLeave",function(){o.setState(function(){return{isTooltipActive:!1}})}),jC(o,"handleMouseMove",function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)}),jC(o,"handleMouseLeave",function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var r=o.props.onMouseLeave;kr(r)&&r(t,e)}),jC(o,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&bi[t]?bi[t]:null}(e),n=ba(o.props,"".concat(r));r&&kr(n)&&n(null!==(t=/.*touch.*/i.test(r)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)}),jC(o,"handleClick",function(e){var t=o.getMouseInfo(e);if(t){var r=bC(bC({},t),{},{isTooltipActive:!0});o.setState(r),o.triggerSyncEvent(r);var n=o.props.onClick;kr(n)&&n(r,e)}}),jC(o,"handleMouseDown",function(e){var t=o.props.onMouseDown;kr(t)&&t(o.getMouseInfo(e),e)}),jC(o,"handleMouseUp",function(e){var t=o.props.onMouseUp;kr(t)&&t(o.getMouseInfo(e),e)}),jC(o,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),jC(o,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])}),jC(o,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])}),jC(o,"handleDoubleClick",function(e){var t=o.props.onDoubleClick;kr(t)&&t(o.getMouseInfo(e),e)}),jC(o,"handleContextMenu",function(e){var t=o.props.onContextMenu;kr(t)&&t(o.getMouseInfo(e),e)}),jC(o,"triggerSyncEvent",function(e){void 0!==o.props.syncId&&VT.emit(WT,o.props.syncId,e,o.eventEmitterSymbol)}),jC(o,"applySyncEvent",function(e){var t=o.props,r=t.layout,n=t.syncMethod,a=o.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(bC({dataStartIndex:i,dataEndIndex:s},h({props:o.props,dataStartIndex:i,dataEndIndex:s,updateId:a},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,f=d.offset,p=d.tooltipTicks;if(!f)return;if("function"==typeof n)u=n(p,e);else if("value"===n){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=bC(bC({},f),{},{x:f.left,y:f.top}),y=Math.min(l,g.x+g.width),x=Math.min(c,g.y+g.height),v=p[u]&&p[u].value,b=EC(o.state,o.props.data,u),j=p[u]?{x:"horizontal"===r?p[u].coordinate:y,y:"horizontal"===r?x:p[u].coordinate}:SC;o.setState(bC(bC({},e),{},{activeLabel:v,activeCoordinate:j,activePayload:b,activeTooltipIndex:u}))}else o.setState(e)}),jC(o,"renderCursor",function(e){var r,n=o.state,a=n.isTooltipActive,i=n.activeCoordinate,s=n.activePayload,l=n.offset,u=n.activeTooltipIndex,d=n.tooltipAxisBandSize,f=o.getTooltipEventType(),p=null!==(r=e.props.active)&&void 0!==r?r:a,h=o.props.layout,m=e.key||"_recharts-cursor";return c.createElement(aC,{key:m,activeCoordinate:i,activePayload:s,activeTooltipIndex:u,chartName:t,element:e,isActive:p,layout:h,offset:l,tooltipAxisBandSize:d,tooltipEventType:f})}),jC(o,"renderPolarAxis",function(e,t,r){var n=ba(e,"type.axisType"),i=ba(o.state,"".concat(n,"Map")),s=e.type.defaultProps,l=void 0!==s?bC(bC({},s),e.props):e.props,c=i&&i[l["".concat(n,"Id")]];return a.cloneElement(e,bC(bC({},c),{},{className:Yt(n,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:sj(c,!0)}))}),jC(o,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,i=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=ai(l),d=ai(c),f=d.cx,p=d.cy,h=d.innerRadius,m=d.outerRadius;return a.cloneElement(e,{polarAngles:Array.isArray(n)?n:sj(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(i)?i:sj(u,!0).map(function(e){return e.coordinate}),cx:f,cy:p,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:r})}),jC(o,"renderLegend",function(){var e=o.state.formattedGraphicalItems,t=o.props,r=t.children,n=t.width,i=t.height,s=o.props.margin||{},l=n-(s.left||0)-(s.right||0),c=Hb({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:u});if(!c)return null;var d=c.item,f=uC(c,iC);return a.cloneElement(d,bC(bC({},f),{},{chartWidth:n,chartHeight:i,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))}),jC(o,"renderTooltip",function(){var e,t=o.props,r=t.children,n=t.accessibilityLayer,i=Ai(r,mp);if(!i)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,f=s.offset,p=null!==(e=i.props.active)&&void 0!==e?e:l;return a.cloneElement(i,{viewBox:bC(bC({},f),{},{x:f.left,y:f.top}),active:p,label:d,payload:p?u:[],coordinate:c,accessibilityLayer:n})}),jC(o,"renderBrush",function(e){var t=o.props,r=t.margin,n=t.data,i=o.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return a.cloneElement(e,{key:e.key||"_recharts-brush",onChange:cj(o.handleBrushChange,e.props.onChange),data:n,x:Za(e.props.x)?e.props.x:s.left,y:Za(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:Za(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})}),jC(o,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=o.clipPathId,i=o.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,f=d.xAxisId,p=void 0===f?u.xAxisId:f,h=d.yAxisId,m=void 0===h?u.yAxisId:h;return a.cloneElement(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:n})}),jC(o,"renderActivePoints",function(t){var r=t.item,n=t.activePoint,a=t.basePoint,i=t.childIndex,o=t.isRange,s=[],l=r.props.key,c=void 0!==r.item.type.defaultProps?bC(bC({},r.item.type.defaultProps),r.item.props):r.item.props,u=c.activeDot,d=bC(bC({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:rj(r.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Ti(u,!1)),hi(u));return s.push(e.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),a?s.push(e.renderActiveDot(u,bC(bC({},d),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(i))):o&&s.push(null),s}),jC(o,"renderGraphicChild",function(e,t,r){var n=o.filterFormatItem(e,t,r);if(!n)return null;var i=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=Ai(o.props.children,mp),p=n.props,h=p.points,m=p.isRange,g=p.baseLine,y=void 0!==n.item.type.defaultProps?bC(bC({},n.item.type.defaultProps),n.item.props):n.item.props,x=y.activeDot,v=y.hide,b=y.activeBar,j=y.activeShape,w=Boolean(!v&&l&&f&&(x||b||j)),N={};"axis"!==i&&f&&"click"===f.props.trigger?N={onClick:cj(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(N={onMouseLeave:cj(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:cj(o.handleItemMouseEnter,e.props.onMouseEnter)});var O=a.cloneElement(e,bC(bC({},n.props),N));if(w){if(!(u>=0)){var S,A=(null!==(S=o.getItemByXY(o.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:O}).graphicalItem,P=A.item,k=void 0===P?e:P,E=A.childIndex,T=bC(bC(bC({},n.props),N),{},{activeIndex:E});return[a.cloneElement(k,T),null,null]}var C,M;if(c.dataKey&&!c.allowDuplicatedCategory){var _="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());C=oi(h,_,d),M=m&&g&&oi(g,_,d)}else C=null==h?void 0:h[u],M=m&&g&&g[u];if(j||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[a.cloneElement(e,bC(bC(bC({},n.props),N),{},{activeIndex:I})),null,null]}if(!ja(C))return[O].concat(gC(o.renderActivePoints({item:n,activePoint:C,basePoint:M,childIndex:u,isRange:m})))}return m?[O,null,null]:[O,null]}),jC(o,"renderCustomized",function(e,t,r){return a.cloneElement(e,bC(bC({key:"recharts-customized-".concat(r)},o.props),o.state))}),jC(o,"renderMap",{CartesianGrid:{handler:AC,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:AC},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:AC},YAxis:{handler:AC},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(n=r.id)&&void 0!==n?n:ri("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=Dp(o.triggeredAfterMouseMove,null!==(i=r.throttleDelay)&&void 0!==i?i:1e3/60),o.state={},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mC(e,t)}(e,a.Component),dC(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,a=e.layout,i=Ai(t,mp);if(i){var o=i.props.defaultIndex;if(!("number"!=typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=EC(this.state,r,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+n)/2,d="horizontal"===a?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});f&&(d=bC(bC({},d),f.props.points[o].tooltipPosition),l=f.props.points[o].tooltipPayload);var p={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var r,n;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}});return null}},{key:"componentDidUpdate",value:function(e){Ci([Ai(e.children,mp)],[Ai(this.props.children,mp)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Ai(this.props.children,mp);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),a={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},o=n.width/r.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap,d=this.getTooltipEventType(),f=TC(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&c&&u){var p=ai(c).scale,h=ai(u).scale,m=p&&p.invert?p.invert(i.chartX):null,g=h&&h.invert?h.invert(i.chartY):null;return bC(bC({},i),{},{xValue:m,yValue:g},f)}return f?bC(bC({},i),f):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,a=e/r,i=t/r;if("horizontal"===n||"vertical"===n){var o=this.state.offset;return a>=o.left&&a<=o.left+o.width&&i>=o.top&&i<=o.top+o.height?{x:a,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=ai(l);return Lj({x:a,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Ai(e,mp),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),bC(bC({},hi(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){VT.on(WT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VT.removeListener(WT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,i=n.length;a<i;a++){var o=n[a];if(o.item===e||o.props.key===e.key||t===ji(o.item.type)&&r===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return c.createElement("defs",null,c.createElement("clipPath",{id:e},c.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=cC(t,2),n=r[0],a=r[1];return bC(bC({},e),{},jC({},n,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=cC(t,2),n=r[0],a=r[1];return bC(bC({},e),{},jC({},n,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var a=0,i=r.length;a<i;a++){var o=r[a],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?bC(bC({},l.type.defaultProps),l.props):l.props,u=ji(l.type);if("Bar"===u){var d=(s.data||[]).find(function(t){return hO(e,t)});if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find(function(t){return Lj(e,t)});if(f)return{graphicalItem:o,payload:f}}else if(JS(o,n)||QS(o,n)||ZS(o,n)){var p=nA({graphicalItem:o,activeTooltipItem:n,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:bC(bC({},o),{},{childIndex:h}),payload:ZS(o,n)?c.data[p]:o.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!Pi(this))return null;var t,r,n=this.props,a=n.children,i=n.className,o=n.width,s=n.height,l=n.style,u=n.compact,d=n.title,f=n.desc,p=uC(n,oC),h=Ti(p,!1);if(u)return c.createElement(lk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},c.createElement(Li,lC({},h,{width:o,height:s,title:d,desc:f}),this.renderClipPath(),_i(a,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return c.createElement(lk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},c.createElement("div",lC({className:Yt("recharts-wrapper",i),style:bC({position:"relative",cursor:"default",width:o,height:s},l)},m,{ref:function(t){e.container=t}}),c.createElement(Li,lC({},h,{width:o,height:s,title:d,desc:f,style:OC}),this.renderClipPath(),_i(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();jC(m,"displayName",t),jC(m,"defaultProps",bC({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),jC(m,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,a=e.children,i=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=_C(e);return bC(bC(bC({},f),{},{updateId:0},h(bC(bC({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(r!==t.prevDataKey||n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!li(c,t.prevMargin)){var p=_C(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=bC(bC({},TC(t,n,s)),{},{updateId:t.updateId+1}),y=bC(bC(bC({},p),m),g);return bC(bC(bC({},y),h(bC({props:e},y),t)),{},{prevDataKey:r,prevData:n,prevWidth:i,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!Ci(a,t.prevChildren)){var x,v,b,j,w=Ai(a,UA),N=w&&null!==(x=null===(v=w.props)||void 0===v?void 0:v.startIndex)&&void 0!==x?x:u,O=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:d,S=N!==u||O!==d,A=!ja(n)&&!S?t.updateId:t.updateId+1;return bC(bC({updateId:A},h(bC(bC({props:e},t),{},{updateId:A,dataStartIndex:N,dataEndIndex:O}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:O})}return null}),jC(m,"renderActiveDot",function(e,t,r){var n;return n=a.isValidElement(e)?a.cloneElement(e,t):kr(e)?e(t):c.createElement(AO,t),c.createElement(qi,{className:"recharts-active-dot",key:r},n)});var g=a.forwardRef(function(e,t){return c.createElement(m,lC({},e,{ref:t}))});return g.displayName=m.displayName,g},zC=LC({chartName:"LineChart",GraphicalChild:rT,axisComponents:[{axisType:"xAxis",AxisComp:ET},{axisType:"yAxis",AxisComp:$T}],formatAxisMap:$P}),BC=LC({chartName:"BarChart",GraphicalChild:_P,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ET},{axisType:"yAxis",AxisComp:$T}],formatAxisMap:$P}),$C=LC({chartName:"PieChart",GraphicalChild:mA,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:yS},{axisType:"radiusAxis",AxisComp:nS}],formatAxisMap:function(e,t,r,n,a){var i=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=ni(e.cx,i,i/2),u=ni(e.cy,o,o/2),d=Ij(i,o,r),f=ni(e.innerRadius,d,0),p=ni(e.outerRadius,d,.8*d);return Object.keys(t).reduce(function(e,r){var i,o=t[r],d=o.domain,h=o.reversed;if(ja(o.range))"angleAxis"===n?i=[s,l]:"radiusAxis"===n&&(i=[f,p]),h&&(i=[i[1],i[0]]);else{var m=Ej(i=o.range,2);s=m[0],l=m[1]}var g=uj(o,a),y=g.realScaleType,x=g.scale;x.domain(d).range(i),fj(x);var v=mj(x,Pj(Pj({},o),{},{realScaleType:y})),b=Pj(Pj(Pj({},o),v),{},{range:i,radius:p,realScaleType:y,scale:x,cx:c,cy:u,innerRadius:f,outerRadius:p,startAngle:s,endAngle:l});return Pj(Pj({},e),{},kj({},r,b))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qC=LC({chartName:"AreaChart",GraphicalChild:xT,axisComponents:[{axisType:"xAxis",AxisComp:ET},{axisType:"yAxis",AxisComp:$T}],formatAxisMap:$P});const UC=()=>{const[e,t]=a.useState(null),[r,n]=a.useState(!0),[i,o]=a.useState(null),[s,l]=a.useState(30),[c,u]=a.useState(!1);a.useEffect(()=>{d()},[s]);const d=async()=>{var e,r;n(!0),o(null);try{const n=await fetch(`/api/social/analytics?days=${s}`,{credentials:"include"});if(!n.ok)throw new Error("Falha ao carregar analytics do Instagram");const a=await n.json();null==(r=null==(e=null==a?void 0:a.instagram)?void 0:e.metrics)||r.forEach(e=>{e.status}),t(a)}catch(a){o(a.message||"Erro ao carregar dados")}finally{n(!1)}},f=async()=>{u(!0),await d(),setTimeout(()=>u(!1),1e3)},p=t=>null==e?void 0:e.instagram.metrics.find(e=>e.name===t),h=(()=>{var t;if(!e)return[];const r=p("reach"),n=p("accounts_engaged"),a=p("profile_views"),i=p("total_interactions"),o=p("likes"),s=p("comments");return(null==(t=null==r?void 0:r.series)?void 0:t.length)?r.series.map((e,t)=>{var r,l,c,u,d,f,p,h,m,g;return{date:new Date(e.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),dateOriginal:e.date,reach:e.value||0,engaged:(null==(l=null==(r=null==n?void 0:n.series)?void 0:r[t])?void 0:l.value)||0,profileViews:(null==(u=null==(c=null==a?void 0:a.series)?void 0:c[t])?void 0:u.value)||0,interactions:(null==(f=null==(d=null==i?void 0:i.series)?void 0:d[t])?void 0:f.value)||0,likes:(null==(h=null==(p=null==o?void 0:o.series)?void 0:p[t])?void 0:h.value)||0,comments:(null==(g=null==(m=null==s?void 0:s.series)?void 0:m[t])?void 0:g.value)||0}}):[]})(),m=e?(()=>{const t=null==e?void 0:e.facebook.metrics.find(e=>"page_fan_adds_unique"===e.name),r=null==e?void 0:e.facebook.metrics.find(e=>"page_fan_removes_unique"===e.name),n=(null==t?void 0:t.sumDaily)||0,a=(null==r?void 0:r.sumDaily)||0;return{adds:n,removes:a,net:n-a}})():{net:0},g=()=>{const t=p("accounts_engaged"),r=p("total_interactions");if(!t||!r)return[];const n=t.avgDaily;r.avgDaily;const a=(null==e?void 0:e.instagram.account.followers)||1;return[{name:"Engajados",value:Math.round(n),color:"#E1306C"},{name:"Visualizaram",value:Math.round(.3*a-n),color:"#C13584"},{name:"Não Alcançados",value:Math.round(.7*a),color:"#e5e7eb"}]};if(r)return Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Ye.jsx("div",{className:"max-w-7xl mx-auto",children:Ye.jsx("div",{className:"flex items-center justify-center h-96",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(v,{size:48,className:"animate-spin text-pink-600 mx-auto mb-4"}),Ye.jsx("p",{className:"text-gray-600 font-medium",children:"Carregando analytics completo da Meta Graph API..."}),Ye.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Buscando todas as métricas disponíveis"})]})})})});if(i||!e)return Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Ye.jsx("div",{className:"max-w-7xl mx-auto",children:Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[Ye.jsx("div",{className:"flex items-center justify-center text-red-600 mb-4",children:Ye.jsx(q,{size:48})}),Ye.jsx("h3",{className:"text-xl font-bold text-center mb-2",children:"Erro ao carregar dados"}),Ye.jsx("p",{className:"text-center text-gray-600 mb-6",children:i||"Sem dados disponíveis"}),Ye.jsx("div",{className:"flex justify-center",children:Ye.jsx("button",{onClick:f,className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg transition-all",children:"Tentar novamente"})})]})})});const y=p("reach"),x=p("accounts_engaged"),b=p("profile_views"),j=p("total_interactions");return p("likes"),p("comments"),p("website_clicks"),Ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 p-6",children:Ye.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[Ye.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 rounded-2xl p-8 text-white shadow-2xl",children:Ye.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-4",children:[Ye.jsx("div",{className:"p-4 bg-white bg-opacity-20 rounded-2xl backdrop-blur-sm",children:Ye.jsx(w,{size:40})}),Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Instagram Analytics Completo"}),Ye.jsxs("p",{className:"text-pink-100 flex items-center",children:[Ye.jsx($,{size:16,className:"mr-2"}),"@",e.instagram.account.username," • Todas as Métricas da Meta Graph API"]})]})]}),Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsxs("select",{value:s,onChange:e=>l(Number(e.target.value)),className:"px-4 py-2 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl text-white border border-white border-opacity-30 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-50",children:[Ye.jsx("option",{value:7,className:"text-gray-900",children:"Últimos 7 dias"}),Ye.jsx("option",{value:30,className:"text-gray-900",children:"Últimos 30 dias"}),Ye.jsx("option",{value:90,className:"text-gray-900",children:"Últimos 90 dias"})]}),Ye.jsx("button",{onClick:f,disabled:c,className:"p-3 bg-white bg-opacity-20 backdrop-blur-sm rounded-xl hover:bg-opacity-30 transition-all disabled:opacity-50",children:Ye.jsx(v,{size:20,className:c?"animate-spin":""})})]})]})}),(0===(null==j?void 0:j.sumDaily)||0===(null==x?void 0:x.sumDaily)||0===(null==b?void 0:b.sumDaily))&&Ye.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-r-2xl shadow-md",children:Ye.jsxs("div",{className:"flex items-start",children:[Ye.jsx(q,{size:24,className:"text-red-600 mr-4 flex-shrink-0 mt-1"}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h4",{className:"font-bold text-red-900 text-lg mb-2",children:"🔒 Permissões Insuficientes do Token Instagram"}),Ye.jsxs("p",{className:"text-sm text-red-800 mb-3",children:["A Meta Graph API retornou ",Ye.jsx("strong",{children:"sem dados"})," para a maioria das métricas. Com 77.536 seguidores e 6 anos de conta, isso indica ",Ye.jsx("strong",{children:"problema de permissões"}),"."]}),Ye.jsxs("div",{className:"bg-red-100 p-4 rounded-xl mb-3",children:[Ye.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"✅ Funciona:"}),Ye.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["• reach (alcance único): ",(null==y?void 0:y.sumDaily.toLocaleString())||0]}),Ye.jsxs("p",{className:"text-xs text-red-800 font-mono",children:["• followers_count (seguidores): ",e.instagram.account.followers.toLocaleString()]}),Ye.jsx("p",{className:"text-sm font-bold text-red-900 mt-3 mb-2",children:"❌ Não funciona (0 dados):"}),Ye.jsx("p",{className:"text-xs text-red-800 font-mono",children:e.instagram.metrics.filter(e=>"ok"===e.status&&0===(e.sumDaily||0)).map(e=>e.name).join(", ")})]}),Ye.jsxs("div",{className:"bg-white p-4 rounded-xl border border-red-200",children:[Ye.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"🔧 Como Resolver:"}),Ye.jsxs("ol",{className:"text-xs text-red-800 space-y-1 ml-4 list-decimal",children:[Ye.jsxs("li",{children:["Acesse: ",Ye.jsx("a",{href:"https://developers.facebook.com/tools/explorer/",target:"_blank",className:"underline font-bold",children:"Facebook Graph API Explorer"})]}),Ye.jsxs("li",{children:['Selecione "User Token" e adicione as permissões:',Ye.jsxs("ul",{className:"ml-4 mt-1",children:[Ye.jsx("li",{children:"✓ instagram_basic"}),Ye.jsxs("li",{children:["✓ ",Ye.jsx("strong",{children:"instagram_manage_insights"})," (CRÍTICA)"]}),Ye.jsx("li",{children:"✓ pages_read_engagement"}),Ye.jsx("li",{children:"✓ pages_show_list"})]})]}),Ye.jsxs("li",{children:["Gere o token e atualize no arquivo ",Ye.jsx("code",{className:"bg-red-200 px-1",children:".env"})]}),Ye.jsx("li",{children:"Reinicie o servidor"})]})]})]})]})}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-r-xl",children:Ye.jsxs("div",{className:"flex items-start",children:[Ye.jsx($,{size:20,className:"text-green-600 mr-3 flex-shrink-0 mt-0.5"}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-bold text-green-900 mb-1",children:"✅ Dados 100% Reais"}),Ye.jsxs("p",{className:"text-sm text-green-800",children:["Todas as métricas são obtidas diretamente da ",Ye.jsx("strong",{children:"Meta Graph API v22.0"})]})]})]})}),Ye.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-xl",children:Ye.jsxs("div",{className:"flex items-start",children:[Ye.jsx(U,{size:20,className:"text-blue-600 mr-3 flex-shrink-0 mt-0.5"}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-bold text-blue-900 mb-1",children:"📊 Período Analisado"}),Ye.jsxs("p",{className:"text-sm text-blue-800",children:["De ",Ye.jsx("strong",{children:new Date(e.period.since).toLocaleDateString("pt-BR")})," até"," ",Ye.jsx("strong",{children:new Date(e.period.until).toLocaleDateString("pt-BR")})," (",e.period.days," dias)"]})]})]})})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-pink-500",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl",children:Ye.jsx(F,{size:24,className:"text-white"})}),0!==m.net&&Ye.jsxs("div",{className:"flex items-center text-sm font-medium "+(m.net>=0?"text-green-600":"text-red-600"),children:[m.net>=0?Ye.jsx(G,{size:16}):Ye.jsx(V,{size:16}),Ye.jsxs("span",{className:"ml-1",children:[m.net>=0?"+":"",m.net]})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Seguidores"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:e.instagram.account.followers.toLocaleString()}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: followers_count"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-blue-500",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl",children:Ye.jsx(O,{size:24,className:"text-white"})}),Ye.jsx("div",{className:"flex items-center text-sm font-medium text-blue-600",children:Ye.jsx(U,{size:16})})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Alcance"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==y?void 0:y.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: reach (pessoas únicas)"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-purple-500",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-4",children:Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl",children:Ye.jsx(W,{size:24,className:"text-white"})})}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Interações Totais"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==j?void 0:j.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: total_interactions"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-green-500",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:Ye.jsx(H,{size:24,className:"text-white"})}),Ye.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600",children:[Ye.jsx(X,{size:16}),Ye.jsxs("span",{className:"ml-1",children:[(((null==x?void 0:x.sumDaily)||0)/(e.instagram.account.followers||1)*100).toFixed(1),"%"]})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Contas Engajadas"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==x?void 0:x.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: accounts_engaged"})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all border-l-4 border-orange-500",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-4",children:Ye.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl",children:Ye.jsx(K,{size:24,className:"text-white"})})}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium uppercase tracking-wide mb-2",children:"Visitas ao Perfil"}),Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:(null==b?void 0:b.sumDaily.toLocaleString())||"0"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"📊 API: profile_views (REAL!)"})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-6",children:Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(X,{size:24,className:"mr-3 text-pink-600"}),"Performance Completa (Todos os Dados Reais)"]})}),h.length>0?Ye.jsx("div",{className:"h-96",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs(zC,{data:h,children:[Ye.jsx(BE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(ET,{dataKey:"date",stroke:"#6b7280",fontSize:12}),Ye.jsx($T,{stroke:"#6b7280",fontSize:12}),Ye.jsx(mp,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",padding:"12px"}}),Ye.jsx(Id,{}),Ye.jsx(rT,{type:"monotone",dataKey:"reach",name:"Alcance",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6"}}),Ye.jsx(rT,{type:"monotone",dataKey:"impressions",name:"Impressões",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6"}}),Ye.jsx(rT,{type:"monotone",dataKey:"engaged",name:"Engajados",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}}),Ye.jsx(rT,{type:"monotone",dataKey:"profileViews",name:"Visitas Perfil",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"}})]})})}):Ye.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(W,{size:48,className:"mx-auto mb-3 text-gray-300"}),Ye.jsx("p",{children:"Sem dados disponíveis"})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-6",children:Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(F,{size:24,className:"mr-3 text-purple-600"}),"Distribuição de Engajamento"]})}),Ye.jsx("div",{className:"h-80",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs($C,{children:[Ye.jsx(mA,{data:g(),cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:g().map((e,t)=>Ye.jsx(Fp,{fill:e.color},`cell-${t}`))}),Ye.jsx(mp,{})]})})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsx("div",{className:"flex items-center justify-between mb-6",children:Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(W,{size:24,className:"mr-3 text-blue-600"}),"Médias Diárias"]})}),Ye.jsx("div",{className:"h-80",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs(BC,{data:[{name:"Alcance",value:(null==y?void 0:y.avgDaily)||0,color:"#3b82f6"},{name:"Interações",value:(null==j?void 0:j.avgDaily)||0,color:"#8b5cf6"},{name:"Engajados",value:(null==x?void 0:x.avgDaily)||0,color:"#10b981"},{name:"Visitas",value:(null==b?void 0:b.avgDaily)||0,color:"#f59e0b"}],children:[Ye.jsx(BE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(ET,{dataKey:"name",stroke:"#6b7280",fontSize:12}),Ye.jsx($T,{stroke:"#6b7280",fontSize:12}),Ye.jsx(mp,{}),Ye.jsx(_P,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Alcance",value:(null==y?void 0:y.avgDaily)||0,color:"#3b82f6"},{name:"Interações",value:(null==j?void 0:j.avgDaily)||0,color:"#8b5cf6"},{name:"Engajados",value:(null==x?void 0:x.avgDaily)||0,color:"#10b981"},{name:"Visitas",value:(null==b?void 0:b.avgDaily)||0,color:"#f59e0b"}].map((e,t)=>Ye.jsx(Fp,{fill:e.color},`cell-${t}`))})]})})})]})]}),((null==y?void 0:y.aggregate28)||(null==j?void 0:j.aggregate28))&&Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Ye.jsx(U,{size:24,className:"mr-3 text-indigo-600"}),"Agregados de 28 Dias (Interface Meta)"]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(null==y?void 0:y.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:"Alcance 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-blue-900",children:y.aggregate28.toLocaleString()})]}),(null==j?void 0:j.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-purple-600 font-medium mb-2",children:"Interações 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-purple-900",children:j.aggregate28.toLocaleString()})]}),(null==x?void 0:x.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"Engajados 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-green-900",children:x.aggregate28.toLocaleString()})]}),(null==b?void 0:b.aggregate28)&&Ye.jsxs("div",{className:"text-center p-6 bg-orange-50 rounded-xl",children:[Ye.jsx("p",{className:"text-sm text-orange-600 font-medium mb-2",children:"Visitas Perfil 28d"}),Ye.jsx("p",{className:"text-3xl font-bold text-orange-900",children:b.aggregate28.toLocaleString()})]})]})]}),j&&Ye.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl p-8 text-white shadow-lg",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center mb-3",children:[Ye.jsx(Y,{size:32,className:"mr-3"}),Ye.jsx("h3",{className:"text-2xl font-bold",children:"Total de Interações"})]}),Ye.jsx("p",{className:"text-4xl font-bold mb-2",children:j.sumDaily.toLocaleString()}),Ye.jsxs("p",{className:"text-pink-100",children:["Média diária: ",Ye.jsx("strong",{children:Math.round(j.avgDaily).toLocaleString()})," interações"]}),Ye.jsx("p",{className:"text-sm text-pink-100 mt-2",children:"📊 API: total_interactions (curtidas + comentários + salvamentos + compartilhamentos)"})]}),Ye.jsx("div",{className:"hidden md:block",children:Ye.jsxs("div",{className:"text-right",children:[Ye.jsx("div",{className:"text-6xl mb-2",children:"💬"}),Ye.jsx("div",{className:"text-6xl",children:"❤️"})]})})]})}),Ye.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6",children:Ye.jsxs("div",{className:"flex items-start space-x-4",children:[Ye.jsx($,{size:24,className:"text-blue-600 flex-shrink-0 mt-1"}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"✅ Status das Métricas"}),Ye.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:e.instagram.metrics.map((e,t)=>Ye.jsxs("div",{className:"p-3 rounded-lg "+("ok"===e.status?"bg-green-100 text-green-900":"bg-red-100 text-red-900"),children:[Ye.jsxs("strong",{children:[e.name,":"]})," ","ok"===e.status?"✅ OK":"❌ Erro"]},t))})]})]})})]})})},FC=()=>{const[e,t]=a.useState(()=>zt()),[r,n]=a.useState(!1);a.useEffect(()=>{const e=zt();t(e)},[]);const i=async t=>{if(t!==e&&!r){n(!0);try{const e=Lt[t].name;window.confirm(`Deseja alterar para o ${e}?\n\nA página será recarregada para aplicar as mudanças.`)&&(e=>{try{localStorage.setItem(Rt,e),window.location.reload()}catch(t){}})(t)}catch(a){alert("Erro ao alterar o layout. Tente novamente.")}finally{n(!1)}}};return Ye.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[Ye.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[Ye.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:Ye.jsx("span",{className:"text-white text-xl",children:"🎨"})}),Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Layouts do HeroGrid"}),Ye.jsx("p",{className:"text-gray-600 text-sm",children:"Escolha o layout da seção principal de notícias"})]})]}),Ye.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg",children:Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("span",{className:"text-2xl",children:Lt[e].icon}),Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"font-semibold text-green-800",children:"Layout Ativo"}),Ye.jsx("p",{className:"text-green-700",children:Lt[e].name}),Ye.jsx("p",{className:"text-green-600 text-sm",children:Lt[e].description})]})]})}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Lt).map(([t,n])=>{const a=t===e,o=t;return Ye.jsxs("div",{className:`\n                relative p-4 rounded-lg border-2 transition-all duration-200 cursor-pointer\n                ${a?"border-green-500 bg-green-50 shadow-md":"border-gray-200 bg-white hover:border-purple-300 hover:shadow-sm"}\n                ${r?"opacity-50 cursor-not-allowed":""}\n              `,onClick:()=>i(o),children:[a&&Ye.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:Ye.jsx("span",{className:"text-white text-xs",children:"✓"})}),Ye.jsxs("div",{className:"flex items-start gap-3",children:[Ye.jsx("span",{className:"text-3xl",children:n.icon}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h3",{className:"font-semibold mb-1 "+(a?"text-green-800":"text-gray-900"),children:n.name}),Ye.jsx("p",{className:"text-sm "+(a?"text-green-700":"text-gray-600"),children:n.description}),!a&&Ye.jsx("button",{className:"mt-3 px-3 py-1 bg-purple-100 text-purple-700 rounded text-sm font-medium hover:bg-purple-200 transition-colors",onClick:e=>{e.stopPropagation(),i(o)},disabled:r,children:r?"Alterando...":"Ativar Layout"}),a&&Ye.jsx("div",{className:"mt-3 px-3 py-1 bg-green-100 text-green-700 rounded text-sm font-medium",children:"✓ Layout Ativo"})]})]})]},t)})}),Ye.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:Ye.jsxs("div",{className:"flex items-start gap-3",children:[Ye.jsx("span",{className:"text-blue-500 text-xl",children:"ℹ️"}),Ye.jsxs("div",{className:"text-sm text-blue-800",children:[Ye.jsx("h4",{className:"font-semibold mb-2",children:"Informações Importantes:"}),Ye.jsxs("ul",{className:"space-y-1 text-blue-700",children:[Ye.jsx("li",{children:"• Todos os layouts mantêm as cores e tipologia das categorias"}),Ye.jsx("li",{children:"• A mudança de layout recarrega a página automaticamente"}),Ye.jsx("li",{children:"• O layout escolhido será aplicado apenas na página inicial"}),Ye.jsx("li",{children:"• Páginas de teste (/test-*) não são afetadas"})]})]})]})})]})},GC=()=>{const[e,t]=a.useState([]),[r,n]=a.useState(null),[i,o]=a.useState(!1);a.useEffect(()=>{const e=Dt();t(e)},[]);const s=(r,n)=>{if(n<0||n>=e.length)return;const a=[...e],[i]=a.splice(r,1);a.splice(n,0,i),t(a)},l=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"};return Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsx(FC,{}),Ye.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("div",{children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seções da Página Inicial"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Reorganize e configure a ordem das seções"})]}),Ye.jsxs("div",{className:"flex space-x-3",children:[Ye.jsxs("button",{onClick:()=>window.open("/","_blank"),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium transition-colors flex items-center space-x-2",children:[Ye.jsx(h,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Pré-visualizar"})]}),Ye.jsxs("button",{onClick:()=>{(e=>{try{localStorage.setItem(_t,JSON.stringify(e))}catch(t){}})(e),o(!0);[window.parent,window.opener].forEach(e=>{e&&e.location&&"/"===e.location.pathname&&e.location.reload()}),setTimeout(()=>o(!1),3e3)},className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center space-x-2 "+(i?"bg-green-500 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:[i?Ye.jsx($,{className:"w-4 h-4"}):Ye.jsx(J,{className:"w-4 h-4"}),Ye.jsx("span",{children:i?"Salvo!":"Salvar Layout"})]})]})]}),Ye.jsx("div",{className:"space-y-3",children:e.map((a,i)=>Ye.jsxs("div",{draggable:!0,onDragStart:e=>((e,t)=>{n(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",t.toString())})(e,i),onDragOver:l,onDrop:e=>((e,t)=>{e.preventDefault(),null!==r&&r!==t&&s(r,t),n(null)})(e,i),className:`\n              group flex items-center p-4 bg-gray-50 rounded-lg border-2 border-gray-200\n              hover:border-red-300 hover:bg-gray-100 transition-all cursor-move\n              ${r===i?"opacity-50 border-red-400":""}\n              ${a.enabled?"":"opacity-60"}\n            `,children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx(Q,{className:"w-5 h-5 text-gray-400 cursor-grab active:cursor-grabbing"}),Ye.jsxs("div",{className:"flex flex-col space-y-1",children:[Ye.jsx("button",{onClick:()=>s(i,i-1),disabled:0===i,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Mover para cima",children:Ye.jsx(Z,{className:"w-3 h-3"})}),Ye.jsx("button",{onClick:()=>s(i,i+1),disabled:i===e.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30",title:"Mover para baixo",children:Ye.jsx(ee,{className:"w-3 h-3"})})]})]}),Ye.jsxs("div",{className:"flex-1 ml-4",children:[Ye.jsxs("div",{className:"font-medium text-gray-900",children:[i+1,". ",a.name]}),Ye.jsx("div",{className:"text-xs text-gray-500",children:a.enabled?"Ativa":"Desativada"})]}),Ye.jsx("button",{onClick:()=>(r=>{const n=[...e];n[r].enabled=!n[r].enabled,t(n)})(i),className:`\n                p-2 rounded-lg transition-colors\n                ${a.enabled?"text-green-600 hover:bg-green-50 bg-green-100":"text-gray-400 hover:bg-gray-200 bg-gray-100"}\n              `,title:a.enabled?"Desativar seção":"Ativar seção",children:a.enabled?Ye.jsx(O,{className:"w-5 h-5"}):Ye.jsx(te,{className:"w-5 h-5"})})]},a.id))}),Ye.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:Ye.jsxs("div",{className:"text-blue-800 text-sm",children:[Ye.jsx("h4",{className:"font-semibold mb-2",children:"Como usar:"}),Ye.jsxs("ul",{className:"space-y-1",children:[Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Arrastar:"})," Clique e arraste pela área cinza para reordenar"]}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Setas:"})," Use as setas ↑↓ para mover uma posição"]}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Olho:"})," Clique para ativar/desativar a seção"]}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Salvar:"}),' Clique em "Salvar Layout" para aplicar as mudanças']}),Ye.jsxs("li",{children:["• ",Ye.jsx("strong",{children:"Ver mudanças:"}),' Use "Pré-visualizar" ou navegue para a página inicial']})]})]})}),i&&Ye.jsx("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx($,{className:"w-5 h-5 text-green-600"}),Ye.jsxs("div",{className:"text-green-800",children:[Ye.jsx("p",{className:"font-semibold",children:"Layout salvo com sucesso!"}),Ye.jsx("p",{className:"text-sm",children:"As mudanças foram aplicadas. Navegue para a página inicial para vê-las."})]})]})})]})]})},VC=({banner:e,onSave:t,onCancel:r})=>{var n,i;const[o,s]=a.useState({titulo:(null==e?void 0:e.titulo)||"",cliente:(null==e?void 0:e.cliente)||"",imagem:(null==e?void 0:e.imagem)||"",link:(null==e?void 0:e.link)||"",posicao:(null==e?void 0:e.posicao)||"top-strip",tipo:(null==e?void 0:e.tipo)||"imagem",tamanho:(null==e?void 0:e.tamanho)||"300x250",status:(null==e?void 0:e.status)||"ativo",dataInicio:(null==(n=null==e?void 0:e.dataInicio)?void 0:n.split("T")[0])||(new Date).toISOString().split("T")[0],dataFim:(null==(i=null==e?void 0:e.dataFim)?void 0:i.split("T")[0])||new Date(Date.now()+2592e6).toISOString().split("T")[0],impressoesMax:(null==e?void 0:e.impressoesMax)||"",cliquesMax:(null==e?void 0:e.cliquesMax)||"",cpm:(null==e?void 0:e.cpm)||"",cpc:(null==e?void 0:e.cpc)||"",valorTotal:(null==e?void 0:e.valorTotal)||"",prioridade:(null==e?void 0:e.prioridade)||1,conteudoHtml:(null==e?void 0:e.conteudoHtml)||"",observacoes:(null==e?void 0:e.observacoes)||""}),[l,c]=a.useState((null==e?void 0:e.imagem)||""),[u,d]=a.useState(!1),f=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))},p=[{value:"top-strip",label:"Topo da Página",description:"Banner horizontal no topo (728x90)"},{value:"super-banner",label:"Super Banner",description:"Na NewsGeneralSection (970x250)"},{value:"news-sidebar",label:"Sidebar Notícias",description:"Coluna direita da NewsGeneralSection (w-full h-80)"},{value:"sidebar-article",label:"Sidebar Artigo",description:"AdBox na página de artigo (300x250)"},{value:"in-content",label:"Dentro do Texto",description:"No meio do conteúdo (300x250)"}];return Ye.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Ye.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[Ye.jsxs("div",{className:"p-6 border-b border-gray-200 flex justify-between items-center",children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:e?"Editar Banner":"Novo Banner"}),Ye.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:Ye.jsx(z,{className:"w-6 h-6"})})]}),Ye.jsxs("form",{onSubmit:r=>{r.preventDefault();const n={...o,dataInicio:new Date(o.dataInicio).toISOString(),dataFim:new Date(o.dataFim).toISOString(),impressoesMax:o.impressoesMax?Number(o.impressoesMax):void 0,cliquesMax:o.cliquesMax?Number(o.cliquesMax):void 0,cpm:o.cpm?Number(o.cpm):void 0,cpc:o.cpc?Number(o.cpc):void 0,valorTotal:o.valorTotal?Number(o.valorTotal):void 0};(async()=>{if(e){const r=await async function(e,t){return at(`/banners/${e}`,t)}(e.id,n);t(r)}else{const e=await async function(e){return nt("/banners",e)}(n);t(e)}})()},className:"p-6 space-y-6",children:[Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informações Básicas"}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Banner *"}),Ye.jsx("input",{type:"text",name:"titulo",value:o.titulo,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),Ye.jsx("input",{type:"text",name:"cliente",value:o.cliente,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Posição *"}),Ye.jsx("select",{name:"posicao",value:o.posicao,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:p.map(e=>Ye.jsxs("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]}),Ye.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início"}),Ye.jsx("input",{type:"date",name:"dataInicio",value:o.dataInicio,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),Ye.jsx("input",{type:"date",name:"dataFim",value:o.dataFim,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Banner *"}),Ye.jsxs("select",{name:"tipo",value:o.tipo,onChange:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[Ye.jsx("option",{value:"imagem",children:"Imagem"}),Ye.jsx("option",{value:"gif",children:"GIF Animado"}),Ye.jsx("option",{value:"html",children:"HTML/AdSense"}),Ye.jsx("option",{value:"video",children:"Vídeo"})]})]})]}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Conteúdo"}),("imagem"===o.tipo||"gif"===o.tipo||"video"===o.tipo)&&Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload de Arquivo"}),Ye.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:l?Ye.jsxs("div",{className:"text-center",children:[Ye.jsx("img",{src:l,alt:"Preview",className:"max-h-40 mx-auto mb-2 rounded"}),Ye.jsx("button",{type:"button",onClick:()=>{c(""),s(e=>({...e,imagem:""}))},className:"text-red-600 text-sm hover:text-red-800",children:"Remover arquivo"})]}):Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(P,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),Ye.jsxs("label",{className:"cursor-pointer",children:[Ye.jsx("span",{className:"text-sm text-gray-600",children:u?"Carregando...":"Clique para fazer upload"}),Ye.jsx("input",{type:"file",accept:"video"===o.tipo?"video/*":"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(r){d(!0);try{const e=await async function(e){return new Promise((t,r)=>{if(!e.type.startsWith("image/"))return void r(new Error("Arquivo deve ser uma imagem"));const n=new FileReader;n.onload=e=>{var r;return t(String((null==(r=e.target)?void 0:r.result)||""))},n.onerror=()=>r(new Error("Erro ao ler arquivo")),n.readAsDataURL(e)})}(r);s(t=>({...t,imagem:e})),c(e)}catch(n){alert("Erro ao fazer upload da imagem: "+n.message)}finally{d(!1)}}},disabled:u,className:"hidden"})]})]})}),Ye.jsxs("div",{className:"mt-2",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Link de Destino"}),Ye.jsx("input",{type:"url",name:"link",value:o.link,onChange:f,placeholder:"https://",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),"html"===o.tipo&&Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Código HTML/AdSense"}),Ye.jsx("textarea",{name:"conteudoHtml",value:o.conteudoHtml,onChange:f,rows:8,placeholder:"Cole aqui o código do Google AdSense ou HTML personalizado...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 font-mono text-sm"}),Ye.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Para Google AdSense, cole o código completo incluindo as tags <ins> e <script>"})]})]})]}),Ye.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[Ye.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),Ye.jsxs("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[e?"Atualizar":"Criar"," Banner"]})]})]})]})})},WC=()=>{const[e,t]=a.useState("editorials"),[r,n]=a.useState(null),[i,o]=a.useState({name:"",color:"#3B82F6"}),[s,l]=a.useState({name:"",color:"#6B7280"}),[c,u]=a.useState({name:"",color:"#8B5CF6"}),[d,f]=a.useState([]),[p,h]=a.useState([]),[m,g]=a.useState([]);a.useEffect(()=>{let e=!0;return(async()=>{try{const[t,r,n]=await Promise.all([rt("/categories?type=editorial"),rt("/categories?type=municipality"),rt("/categories?type=special")]);if(!e)return;f((t.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,subcategories:[]}))),h((r.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,categoryId:"0"}))),g((n.items||[]).map(e=>({id:String(e.id),name:e.name,color:e.color,subcategories:[]})))}catch(t){}})(),()=>{e=!1}},[]);const y=["#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#EC4899","#F43F5E","#6B7280","#374151"],x=async()=>{if(!i.name.trim())return;const e=await nt("/categories",{name:i.name.toUpperCase(),color:i.color,type:"editorial"});f([...d,{id:String(e.id),name:e.name,color:e.color,subcategories:[]}]),o({name:"",color:"#3B82F6"})},v=async()=>{if(!s.name.trim())return;const e=await nt("/categories",{name:s.name.toUpperCase(),color:s.color,type:"municipality"});h([...p,{id:String(e.id),name:e.name,color:e.color,categoryId:"0"}]),l({name:"",color:"#6B7280"})},j=async()=>{if(!c.name.trim())return;const e=await nt("/categories",{name:c.name.toUpperCase(),color:c.color,type:"special"});g([...m,{id:String(e.id),name:e.name,color:e.color,subcategories:[]}]),u({name:"",color:"#8B5CF6"})};return Ye.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[Ye.jsx("div",{className:"border-b border-gray-200",children:Ye.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"editorials",label:"Editoriais",count:d.length},{id:"municipalities",label:"Municípios",count:p.length},{id:"specials",label:"Especiais",count:m.length}].map(r=>Ye.jsxs("button",{onClick:()=>t(r.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(e===r.id?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.label,Ye.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:r.count})]},r.id))})}),Ye.jsxs("div",{className:"p-6",children:["editorials"===e&&Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Editoriais"}),Ye.jsxs("button",{onClick:x,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Ye.jsx(b,{className:"w-4 h-4"}),"Adicionar Editorial"]})]}),Ye.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Editorial"}),Ye.jsx("input",{type:"text",value:i.name,onChange:e=>o({...i,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: POLÍTICA"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("input",{type:"color",value:i.color,onChange:e=>o({...i,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Ye.jsx("button",{onClick:()=>o({...i,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]}),Ye.jsx("div",{className:"flex items-end",children:Ye.jsx("button",{onClick:x,className:"w-full bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]})}),Ye.jsx("div",{className:"space-y-3",children:d.map(e=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Ye.jsx(S,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>(async e=>{await it(`/categories/${e}`),f(d.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Ye.jsx(A,{className:"w-4 h-4"})})]})]},e.id))})]}),"municipalities"===e&&Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Municípios"}),Ye.jsxs("button",{onClick:v,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Ye.jsx(b,{className:"w-4 h-4"}),"Adicionar Município"]})]}),Ye.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Município"}),Ye.jsx("input",{type:"text",value:s.name,onChange:e=>l({...s,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: PEDRO II"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("input",{type:"color",value:s.color,onChange:e=>l({...s,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Ye.jsx("button",{onClick:()=>l({...s,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]})]}),Ye.jsx("div",{className:"mt-4",children:Ye.jsx("button",{onClick:v,className:"bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]}),Ye.jsx("div",{className:"space-y-3",children:p.map(e=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Ye.jsx(S,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>(async e=>{await it(`/categories/${e}`),h(p.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Ye.jsx(A,{className:"w-4 h-4"})})]})]},e.id))})]}),"specials"===e&&Ye.jsxs("div",{children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gerenciar Especiais"}),Ye.jsxs("button",{onClick:j,className:"bg-brand text-white px-4 py-2 rounded-lg hover:bg-brand/90 transition-colors flex items-center gap-2",children:[Ye.jsx(b,{className:"w-4 h-4"}),"Adicionar Especial"]})]}),Ye.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Especial"}),Ye.jsx("input",{type:"text",value:c.name,onChange:e=>u({...c,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent",placeholder:"Ex: EXCLUSIVO"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("input",{type:"color",value:c.color,onChange:e=>u({...c,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded-md cursor-pointer"}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:y.slice(0,6).map(e=>Ye.jsx("button",{onClick:()=>u({...c,color:e}),className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:e}},e))})]})]}),Ye.jsx("div",{className:"flex items-end",children:Ye.jsx("button",{onClick:j,className:"w-full bg-brand text-white py-2 px-4 rounded-md hover:bg-brand/90 transition-colors",children:"Salvar"})})]})}),Ye.jsx("div",{className:"space-y-3",children:m.map(e=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:e.color}}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:Ye.jsx(S,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>(async e=>{await it(`/categories/${e}`),g(m.filter(t=>t.id!==e))})(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:Ye.jsx(A,{className:"w-4 h-4"})})]})]},e.id))})]})]})]})};const HC=new class{constructor(){n(this,"queue",[]),n(this,"intervalId",null),n(this,"DELAY_MINUTES",5),n(this,"MAX_ATTEMPTS",3),n(this,"STORAGE_KEY","r10_instagram_queue"),this.loadQueue(),this.startMonitoring()}loadQueue(){try{const e=localStorage.getItem(this.STORAGE_KEY);if(e){this.queue=JSON.parse(e);const t=Date.now();this.queue=this.queue.filter(e=>t-e.scheduledTime<864e5),this.saveQueue()}}catch(e){this.queue=[]}}saveQueue(){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.queue))}catch(e){}}addToQueue(e,t,r){if(this.queue.find(t=>t.id===e))return;const n=Date.now()+60*this.DELAY_MINUTES*1e3,a={id:e,title:t.substring(0,100),hat:r,scheduledTime:n,status:"pending",attempts:0};this.queue.push(a),this.saveQueue(),this.showNotification("Instagram Agendado",`Post será publicado automaticamente em ${this.DELAY_MINUTES} minutos`)}removeFromQueue(e){this.queue=this.queue.filter(t=>t.id!==e),this.saveQueue()}startMonitoring(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>{this.processQueue()},6e4)}async processQueue(){const e=Date.now(),t=this.queue.filter(t=>"pending"===t.status&&t.scheduledTime<=e&&t.attempts<this.MAX_ATTEMPTS);for(const r of t)await this.publishPost(r);this.queue=this.queue.filter(e=>"pending"===e.status&&e.attempts<this.MAX_ATTEMPTS),t.length>0&&this.saveQueue()}async publishPost(e){e.attempts++;try{const t=await fetch("http://localhost:8080/api/social/instagram/publish",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,hat:e.hat||"NOTÍCIA"})}),r=await t.json();if(!r.ok||!r.postId)throw new Error(r.error||"Falha na publicação");e.status="published",this.saveToInstagramHistory({id:Date.now().toString(),title:e.title,instagramPostId:r.postId,publishedAt:(new Date).toISOString(),status:"success"}),this.showNotification("Instagram Publicado!",`Post "${e.title.substring(0,30)}..." foi publicado automaticamente`)}catch(t){e.attempts>=this.MAX_ATTEMPTS?(e.status="error",this.showNotification("Erro no Instagram",`Falha ao publicar "${e.title.substring(0,30)}..." após ${this.MAX_ATTEMPTS} tentativas`)):e.scheduledTime=Date.now()+3e5}}saveToInstagramHistory(e){try{const t=localStorage.getItem("r10_instagram_posts"),r=t?JSON.parse(t):[];r.unshift(e),r.length>10&&r.splice(10),localStorage.setItem("r10_instagram_posts",JSON.stringify(r))}catch(t){}}showNotification(e,t){"Notification"in window&&"granted"===Notification.permission&&new Notification(e,{body:t,icon:"/favicon.ico"})}getQueueStatus(){const e=Date.now();return{total:this.queue.length,pending:this.queue.filter(e=>"pending"===e.status).length,ready:this.queue.filter(t=>"pending"===t.status&&t.scheduledTime<=e).length,items:this.queue.map(t=>({...t,remainingTime:Math.max(0,t.scheduledTime-e)}))}}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}async requestNotificationPermission(){"Notification"in window&&"default"===Notification.permission&&await Notification.requestPermission()}},XC=()=>{const{user:e}=Ct(),t="admin"===(null==e?void 0:e.role),[r,n]=a.useState([]),[i,o]=a.useState(!1),[s,l]=a.useState(null),[c,u]=a.useState(!1),[d,f]=a.useState(null),[p,h]=a.useState({name:"",email:"",password:"",role:"editor"});async function m(){try{o(!0),l(null);const e=await rt("/users");n(e.items||[])}catch(e){l((null==e?void 0:e.message)||"Falha ao listar usuários")}finally{o(!1)}}return a.useEffect(()=>{t&&m()},[t]),t?Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[Ye.jsx(F,{className:"w-6 h-6"}),"Usuários"]}),Ye.jsx("p",{className:"text-gray-600",children:"Gerencie administradores e redatores. Você pode editar nome, email e até mesmo o login."})]}),Ye.jsxs("button",{onClick:()=>u(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center gap-2",children:[Ye.jsx(b,{className:"w-4 h-4"}),"Novo Usuário"]})]}),c&&Ye.jsxs("form",{onSubmit:async function(e){e.preventDefault();try{d?await at(`/users/${d.id}`,{name:p.name,email:p.email,role:p.role,...p.password?{password:p.password}:{}}):await nt("/auth/register",p),u(!1),f(null),h({name:"",email:"",password:"",role:"editor"}),m()}catch(t){alert((null==t?void 0:t.message)||(d?"Falha ao atualizar":"Falha ao cadastrar"))}},className:"bg-white border rounded-xl p-4 space-y-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:d?"Editar Usuário":"Novo Usuário"}),d&&Ye.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",d.id]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),Ye.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"Ex: João Silva",value:p.name,onChange:e=>h(t=>({...t,name:e.target.value})),required:!0})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email (Login)"}),Ye.jsx("input",{type:"email",className:"w-full border rounded px-3 py-2",placeholder:"Ex: joao@r10piaui.com",value:p.email,onChange:e=>h(t=>({...t,email:e.target.value})),required:!0}),Ye.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este email será usado como login"})]}),Ye.jsxs("div",{children:[Ye.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Senha ",d&&Ye.jsx("span",{className:"text-gray-500",children:"(deixe em branco para manter)"})]}),Ye.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2",placeholder:d?"Deixe em branco para não alterar":"Mínimo 8 caracteres",value:p.password,onChange:e=>h(t=>({...t,password:e.target.value})),required:!d,minLength:8})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Papel/Permissão"}),Ye.jsxs("select",{className:"w-full border rounded px-3 py-2",value:p.role,onChange:e=>h(t=>({...t,role:e.target.value})),children:[Ye.jsx("option",{value:"editor",children:"Redator (pode criar/editar matérias)"}),Ye.jsx("option",{value:"admin",children:"Admin (acesso total ao sistema)"})]})]})]}),Ye.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[Ye.jsx("button",{type:"button",onClick:function(){u(!1),f(null),h({name:"",email:"",password:"",role:"editor"})},className:"px-4 py-2 rounded border hover:bg-gray-50",children:"Cancelar"}),Ye.jsx("button",{className:"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 flex items-center gap-2",children:d?Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(re,{className:"w-4 h-4"}),"Atualizar"]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(b,{className:"w-4 h-4"}),"Criar"]})})]})]}),Ye.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:Ye.jsxs("table",{className:"w-full",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Usuário"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Email"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Papel"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Ações"})]})}),Ye.jsxs("tbody",{className:"divide-y",children:[r.map(e=>Ye.jsxs("tr",{className:"hover:bg-gray-50",children:[Ye.jsx("td",{className:"px-6 py-3 text-base text-gray-900",children:e.name}),Ye.jsx("td",{className:"px-6 py-3 text-base text-gray-700",children:e.email}),Ye.jsx("td",{className:"px-6 py-3",children:Ye.jsxs("select",{value:e.role,onChange:t=>async function(e,r){try{await at(`/users/${e}`,{role:r}),m()}catch(t){alert((null==t?void 0:t.message)||"Falha ao atualizar papel")}}(e.id,t.target.value),className:"border rounded px-2 py-1",children:[Ye.jsx("option",{value:"editor",children:"Redator"}),Ye.jsx("option",{value:"admin",children:"Admin"})]})}),Ye.jsxs("td",{className:"px-6 py-3 flex items-center gap-2",children:[Ye.jsx("button",{onClick:()=>function(e){f(e),h({name:e.name,email:e.email,password:"",role:e.role}),u(!0)}(e),className:"inline-flex items-center p-1 text-xs font-medium text-blue-600 bg-blue-100 rounded hover:bg-blue-200 transition-colors",title:"Editar nome, email e login",children:Ye.jsx(re,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>async function(e){if(confirm("Excluir este usuário?"))try{await it(`/users/${e}`),m()}catch(t){alert((null==t?void 0:t.message)||"Falha ao excluir")}}(e.id),className:"inline-flex items-center p-1 text-xs font-medium text-red-600 bg-red-100 rounded hover:bg-red-200 transition-colors",title:"Excluir",children:Ye.jsx(A,{className:"w-4 h-4"})})]})]},e.id)),0===r.length&&Ye.jsx("tr",{children:Ye.jsx("td",{className:"px-6 py-6 text-center text-gray-500",colSpan:4,children:"Nenhum usuário cadastrado."})})]})]})})]}):Ye.jsx("div",{className:"p-6 bg-white rounded-xl border",children:Ye.jsx("div",{className:"text-red-600 font-semibold",children:"Acesso restrito a administradores."})})},KC=({initialDays:e=30})=>{const{isAuthenticated:t}=Ct(),[r,n]=a.useState(e),[i,o]=a.useState(null),[s,l]=a.useState(!1),[c,u]=a.useState(null);async function d(){if(t){l(!0),u(null);try{const e=await rt(`/social/analytics?days=${r}`);o(e)}catch(e){u((null==e?void 0:e.message)||"Falha ao carregar analytics")}finally{l(!1)}}}return a.useEffect(()=>{d()},[r,t]),Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Analytics (Instagram + Facebook)"}),Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("label",{className:"text-sm text-gray-600",children:"Período:"}),Ye.jsxs("select",{value:r,onChange:e=>n(parseInt(e.target.value)),className:"border rounded px-2 py-1",children:[Ye.jsx("option",{value:7,children:"7 dias"}),Ye.jsx("option",{value:14,children:"14 dias"}),Ye.jsx("option",{value:30,children:"30 dias"}),Ye.jsx("option",{value:60,children:"60 dias"}),Ye.jsx("option",{value:90,children:"90 dias"})]}),Ye.jsx("button",{onClick:d,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Atualizar"})]})]}),s&&Ye.jsx("div",{className:"p-4 bg-white rounded shadow",children:"Carregando…"}),c&&Ye.jsx("div",{className:"p-4 bg-white rounded shadow text-red-600",children:c}),i&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-5 shadow border border-gray-100",children:[Ye.jsx("h4",{className:"text-base font-semibold mb-1",children:"Instagram"}),Ye.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["@",i.instagram.account.username||"—"," · Seguidores: ",i.instagram.account.followers??"—"]}),Ye.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.instagram.metrics.map(e=>{var t;return Ye.jsxs("div",{className:"border rounded p-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ye.jsx("strong",{className:"text-sm",children:e.name}),Ye.jsx("span",{className:"text-xs px-2 py-0.5 rounded "+("ok"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),"ok"===e.status?Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[(null==(t=e.series)?void 0:t.length)||0," pontos · período: ",e.period]}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left pr-4",children:"Data"}),Ye.jsx("th",{className:"text-left",children:"Valor"})]})}),Ye.jsx("tbody",{children:(e.series||[]).map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"pr-4 py-1",children:e.date}),Ye.jsx("td",{className:"py-1",children:e.value})]},e.date))})]})})]}):Ye.jsxs("div",{className:"text-xs text-gray-600",children:["Falha: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]})]},`ig-${e.name}`)})})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-5 shadow border border-gray-100",children:[Ye.jsx("h4",{className:"text-base font-semibold mb-1",children:"Facebook"}),Ye.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:[i.facebook.account.name||"—"," · Seguidores: ",i.facebook.account.followers??"—"]}),Ye.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.facebook.metrics.map(e=>{var t;return Ye.jsxs("div",{className:"border rounded p-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ye.jsx("strong",{className:"text-sm",children:e.name}),Ye.jsx("span",{className:"text-xs px-2 py-0.5 rounded "+("ok"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]}),"ok"===e.status?Ye.jsxs(Ye.Fragment,{children:[Ye.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[(null==(t=e.series)?void 0:t.length)||0," pontos · período: ",e.period]}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left pr-4",children:"Data"}),Ye.jsx("th",{className:"text-left",children:"Valor"})]})}),Ye.jsx("tbody",{children:(e.series||[]).map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"pr-4 py-1",children:e.date}),Ye.jsx("td",{className:"py-1",children:e.value})]},e.date))})]})})]}):Ye.jsxs("div",{className:"text-xs text-gray-600",children:["Falha: ","string"==typeof e.error?e.error:JSON.stringify(e.error)]})]},`fb-${e.name}`)})})]}),Ye.jsxs("div",{className:"text-[11px] text-gray-500",children:["Gerado em ",new Date(i.generatedAt).toLocaleString()," · Período: ",i.period.since," a ",i.period.until]})]})]})},YC=({days:e})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!1),[o,s]=a.useState(null);return a.useEffect(()=>{!async function(){i(!0),s(null);try{const t=await rt(`/site/analytics?days=${e}`);r(t)}catch(t){s((null==t?void 0:t.message)||"Falha ao carregar Site Analytics")}finally{i(!1)}}()},[e]),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Site (Pageviews, Sessões, Usuários)"}),n&&Ye.jsx("div",{className:"p-3 bg-white rounded border",children:"Carregando…"}),o&&Ye.jsx("div",{className:"p-3 bg-white rounded border text-red-600",children:o}),t&&Ye.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{className:"bg-white rounded border p-4",children:[Ye.jsx("h4",{className:"font-medium mb-2",children:"Séries Diárias"}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left pr-3",children:"Data"}),Ye.jsx("th",{className:"text-right pr-3",children:"Pageviews"}),Ye.jsx("th",{className:"text-right pr-3",children:"Sessões"}),Ye.jsx("th",{className:"text-right",children:"Usuários"})]})}),Ye.jsx("tbody",{children:t.metrics.pageviews.map((e,r)=>{var n,a;return Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"py-1 pr-3",children:e.date}),Ye.jsx("td",{className:"py-1 pr-3 text-right",children:e.value}),Ye.jsx("td",{className:"py-1 pr-3 text-right",children:(null==(n=t.metrics.sessions[r])?void 0:n.value)??0}),Ye.jsx("td",{className:"py-1 text-right",children:(null==(a=t.metrics.users[r])?void 0:a.value)??0})]},e.date)})})]})})]}),Ye.jsxs("div",{className:"bg-white rounded border p-4",children:[Ye.jsx("h4",{className:"font-medium mb-2",children:"Páginas Mais Vistas"}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"min-w-full text-xs",children:[Ye.jsx("thead",{children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"text-left",children:"Path"}),Ye.jsx("th",{className:"text-right",children:"Pageviews"})]})}),Ye.jsx("tbody",{children:t.topPages.map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"py-1 pr-3",children:e.path}),Ye.jsx("td",{className:"py-1 text-right",children:e.pageviews})]},e.path))})]})})]}),Ye.jsxs("div",{className:"text-[11px] text-gray-500 col-span-full",children:["Fonte: ",t.source," · Período ",t.period.since," a ",t.period.until]})]})]})},JC=({title:e,value:t,change:r,changeType:n="neutral",icon:a,color:i,description:o,loading:s=!1})=>Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i} shadow-md group-hover:scale-110 transition-transform duration-200`,children:a}),r&&Ye.jsxs("div",{className:"flex items-center text-sm font-medium "+(r?"positive"===n?"text-green-600":"negative"===n?"text-red-600":"text-gray-600":"text-gray-600"),children:[r?"positive"===n?Ye.jsx(G,{size:16,className:"text-green-600"}):"negative"===n?Ye.jsx(V,{size:16,className:"text-red-600"}):Ye.jsx(U,{size:16,className:"text-gray-600"}):null,Ye.jsx("span",{className:"ml-1",children:r})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1 uppercase tracking-wide",children:e}),s?Ye.jsxs("div",{className:"animate-pulse",children:[Ye.jsx("div",{className:"h-8 bg-gray-300 rounded w-20 mb-2"}),o&&Ye.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:"number"==typeof t?t.toLocaleString():t}),o&&Ye.jsx("p",{className:"text-xs text-gray-500",children:o})]})]}),QC=({title:e,icon:t,color:r,onClick:n})=>Ye.jsxs("button",{onClick:n,className:`flex flex-col items-center p-6 bg-gradient-to-br ${r} rounded-xl border border-opacity-20 transition-all duration-200 group hover:shadow-lg hover:scale-105`,children:[Ye.jsx("div",{className:"mb-3 group-hover:scale-110 transition-transform duration-200",children:t}),Ye.jsx("span",{className:"text-sm font-semibold",children:e})]}),ZC=({post:e,featured:t=!1,loading:r=!1})=>{if(r)return Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 animate-pulse "+(t?"md:col-span-2":""),children:[Ye.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4 mb-2"}),Ye.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),Ye.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]});const n=e.titulo||e.title||"Sem título",a=(e.views||e.visualizacoes||0).toLocaleString(),i=new Date(e.dataPublicacao||e.publishedAt||Date.now()).toLocaleDateString("pt-BR");return Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 hover:shadow-lg transition-all duration-200 cursor-pointer group "+(t?"md:col-span-2 border-red-200 bg-gradient-to-r from-white to-red-50":""),children:[Ye.jsxs("div",{className:"flex items-start justify-between mb-2",children:[Ye.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-red-600 transition-colors line-clamp-2 "+(t?"text-lg":"text-sm"),children:n}),t&&Ye.jsx(ie,{size:16,className:"text-yellow-500 flex-shrink-0 ml-2"})]}),Ye.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[Ye.jsxs("span",{className:"flex items-center",children:[Ye.jsx(O,{size:12,className:"mr-1"}),a]}),Ye.jsxs("span",{className:"flex items-center",children:[Ye.jsx(B,{size:12,className:"mr-1"}),i]})]})]})},eM=({socialInsights:e,socialInsightsError:t,latestPosts:r,mostRead:n,loading:a,onTabChange:i})=>{var o,s,l;const c=[{title:"Total de Posts",value:a?"-":r.length,change:"+12%",changeType:"positive",icon:Ye.jsx(g,{size:24,className:"text-white"}),color:"from-blue-500 to-blue-600",description:"Este mês"},{title:"Seguidores IG",value:a?"-":(null==e?void 0:e.instagram.followers)||0,change:e?`+${e.instagram.growth7d}%`:void 0,changeType:"positive",icon:Ye.jsx(w,{size:24,className:"text-white"}),color:"from-pink-500 to-purple-600",description:`@${(null==(o=null==e?void 0:e.instagram.account)?void 0:o.username)||"r10piaui"}`},{title:"Seguidores FB",value:a?"-":(null==e?void 0:e.facebook.followers)||0,change:e?`+${e.facebook.growth7d}%`:void 0,changeType:"positive",icon:Ye.jsx(ne,{size:24,className:"text-white"}),color:"from-blue-600 to-blue-700",description:(null==(s=null==e?void 0:e.facebook.account)?void 0:s.name)||"R10 Piauí"},{title:"Engajamento",value:a?"-":(((null==e?void 0:e.instagram.engagement)||0)+((null==e?void 0:e.facebook.engagement)||0)).toLocaleString(),change:"+8.5%",changeType:"positive",icon:Ye.jsx(X,{size:24,className:"text-white"}),color:"from-green-500 to-emerald-600",description:"Últimos 7 dias"}],u=(null==(l=null==e?void 0:e.instagram.trend)?void 0:l.map((t,r)=>{var n,a;return{date:t.date,Instagram:t.engagement,Facebook:(null==(a=null==(n=null==e?void 0:e.facebook.trend)?void 0:n[r])?void 0:a.engagement)||0}}))||[],d=[{name:"Política",value:35,color:"#ef4444"},{name:"Esportes",value:25,color:"#3b82f6"},{name:"Policial",value:20,color:"#f59e0b"},{name:"Outros",value:20,color:"#10b981"}];return Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-2xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Dashboard Overview"}),Ye.jsx("p",{className:"text-red-100",children:"Bem-vindo de volta! Aqui está o resumo do seu site."})]}),Ye.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[Ye.jsxs("div",{className:"text-right",children:[Ye.jsx("p",{className:"text-sm text-red-100",children:"Última atualização"}),Ye.jsx("p",{className:"text-lg font-semibold",children:(new Date).toLocaleString("pt-BR")})]}),Ye.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]})]})}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((e,t)=>Ye.jsx(JC,{...e,loading:a},t))}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Ye.jsx(U,{size:24,className:"mr-3 text-red-500"}),"Ações Rápidas"]}),Ye.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[Ye.jsx(QC,{title:"Nova Matéria",icon:Ye.jsx(g,{size:32,className:"text-white"}),color:"from-red-500 to-red-600 text-white",onClick:()=>i("materias")}),Ye.jsx(QC,{title:"Gerenciar Mídia",icon:Ye.jsx(O,{size:32,className:"text-white"}),color:"from-purple-500 to-purple-600 text-white",onClick:()=>i("midia")}),Ye.jsx(QC,{title:"Instagram",icon:Ye.jsx(w,{size:32,className:"text-white"}),color:"from-pink-500 to-purple-600 text-white",onClick:()=>i("instagram")}),Ye.jsx(QC,{title:"Analytics",icon:Ye.jsx(W,{size:32,className:"text-white"}),color:"from-blue-500 to-blue-600 text-white",onClick:()=>i("analytics")})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[Ye.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(X,{size:24,className:"mr-3 text-green-500"}),"Performance Social"]}),t&&Ye.jsx("span",{className:"text-sm text-red-600 bg-red-50 px-3 py-1 rounded-full",children:"Erro nos dados"})]}),u.length>0?Ye.jsx("div",{className:"h-64",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs(qC,{data:u,children:[Ye.jsxs("defs",{children:[Ye.jsxs("linearGradient",{id:"instagramGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Ye.jsx("stop",{offset:"5%",stopColor:"#e1306c",stopOpacity:.8}),Ye.jsx("stop",{offset:"95%",stopColor:"#e1306c",stopOpacity:.1})]}),Ye.jsxs("linearGradient",{id:"facebookGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Ye.jsx("stop",{offset:"5%",stopColor:"#1877f2",stopOpacity:.8}),Ye.jsx("stop",{offset:"95%",stopColor:"#1877f2",stopOpacity:.1})]})]}),Ye.jsx(BE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(ET,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),Ye.jsx($T,{stroke:"#6b7280",fontSize:12}),Ye.jsx(mp,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),Ye.jsx(xT,{type:"monotone",dataKey:"Instagram",stackId:"1",stroke:"#e1306c",fill:"url(#instagramGradient)",strokeWidth:2}),Ye.jsx(xT,{type:"monotone",dataKey:"Facebook",stackId:"2",stroke:"#1877f2",fill:"url(#facebookGradient)",strokeWidth:2})]})})}):Ye.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:Ye.jsxs("div",{className:"text-center",children:[Ye.jsx(W,{size:48,className:"mx-auto mb-3 text-gray-300"}),Ye.jsx("p",{children:"Carregando dados..."})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[Ye.jsx(ae,{size:24,className:"mr-3 text-blue-500"}),"Categorias"]}),Ye.jsx("div",{className:"h-64",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs($C,{children:[Ye.jsx(mA,{data:d,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,labelLine:!1,children:d.map((e,t)=>Ye.jsx(Fp,{fill:e.color},`cell-${t}`))}),Ye.jsx(mp,{})]})})})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(g,{size:24,className:"mr-3 text-red-500"}),"Últimas Publicações"]}),Ye.jsx("button",{onClick:()=>i("materias"),className:"text-sm text-red-600 hover:text-red-700 font-medium",children:"Ver todas →"})]}),Ye.jsx("div",{className:"space-y-3",children:(a?Array.from({length:4}).map((e,t)=>({id:`skeleton-${t}`})):r.slice(0,4)).map((e,t)=>Ye.jsx(ZC,{post:e,featured:0===t,loading:a},e.id||t))})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-6",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[Ye.jsx(O,{size:24,className:"mr-3 text-green-500"}),"Mais Lidas"]}),Ye.jsx("button",{onClick:()=>i("analytics"),className:"text-sm text-green-600 hover:text-green-700 font-medium",children:"Ver analytics →"})]}),Ye.jsx("div",{className:"space-y-3",children:(a?Array.from({length:4}).map((e,t)=>({id:`skeleton-most-${t}`})):n.slice(0,4)).map((e,t)=>Ye.jsx(ZC,{post:e,loading:a},e.id||t))})]})]})]})},tM=({onClose:e})=>{const[t,r]=a.useState(null),[n,i]=a.useState(!0),[o,s]=a.useState(null),[l,c]=a.useState("overview"),[u,d]=a.useState("30d"),[f,p]=a.useState(!1),[h,m]=a.useState("aggregate28"),[y,x]=a.useState(null),b=async()=>{var e,t,n,a,o,l,c,u,d,f,p,h,m,g,y,v,b,j,w,N,O;i(!0),s(null);try{const[i,s,S,A,P]=await Promise.all([rt("/social/insights"),rt("/social/analytics?days=30"),rt("/stats"),rt("/posts/most-read"),rt("/stats")]),k=i||{},E=s||{};x(E);const T=A||[],C=P||{},M=(e,t)=>{var r;const n=((null==(r=null==E?void 0:E[e])?void 0:r.metrics)||[]).find(e=>(null==e?void 0:e.name)===t);if(!n||"ok"!==n.status)return null;return{raw:n,value:"number"==typeof n.aggregate28&&n.aggregate28>0?n.aggregate28:"number"==typeof n.sumDaily&&n.sumDaily>0?n.sumDaily:0}},_=M("instagram","reach"),I=M("instagram","impressions"),D=M("instagram","accounts_engaged"),R=M("instagram","total_interactions"),L=M("instagram","profile_views"),z=M("facebook","page_impressions"),B=M("facebook","page_impressions_unique"),$=M("facebook","page_engaged_users"),q=M("facebook","page_fan_adds_unique"),U=M("facebook","page_fan_removes_unique"),F={audience:{totalUsers:12*((null==C?void 0:C.total)||21),newUsers:Math.floor(12*((null==C?void 0:C.total)||21)*.25),returningUsers:Math.floor(12*((null==C?void 0:C.total)||21)*.75),avgSessionDuration:180,bounceRate:45.2,sessionsPerUser:1.8,demographics:{ageGroups:[{age:"18-24",percentage:15.2,color:"#ff6b6b"},{age:"25-34",percentage:28.7,color:"#4ecdc4"},{age:"35-44",percentage:32.1,color:"#45b7d1"},{age:"45-54",percentage:18.5,color:"#96ceb4"},{age:"55+",percentage:5.5,color:"#feca57"}],gender:{male:48.2,female:49.1,other:2.7},locations:[{city:"Teresina",users:Math.floor(12*((null==C?void 0:C.total)||21)*.42),percentage:42},{city:"Parnaíba",users:Math.floor(12*((null==C?void 0:C.total)||21)*.18),percentage:18},{city:"Picos",users:Math.floor(12*((null==C?void 0:C.total)||21)*.12),percentage:12},{city:"Piripiri",users:Math.floor(12*((null==C?void 0:C.total)||21)*.1),percentage:10},{city:"Floriano",users:Math.floor(12*((null==C?void 0:C.total)||21)*.08),percentage:8}]}},engagement:{totalPageviews:((null==(e=null==T?void 0:T[0])?void 0:e.visualizacoes)||268)+((null==(t=null==T?void 0:T[1])?void 0:t.visualizacoes)||28)+((null==(n=null==T?void 0:T[2])?void 0:n.visualizacoes)||21)+5*((null==C?void 0:C.total)||21),uniquePageviews:Math.floor(.75*(((null==(a=null==T?void 0:T[0])?void 0:a.visualizacoes)||268)+((null==(o=null==T?void 0:T[1])?void 0:o.visualizacoes)||28)+((null==(l=null==T?void 0:T[2])?void 0:l.visualizacoes)||21)+5*((null==C?void 0:C.total)||21))),avgTimeOnPage:165,pagesPerSession:2.2,exitRate:52.1,scrollDepth:68.3,interactions:{clicks:Math.floor(.08*(((null==(c=null==T?void 0:T[0])?void 0:c.visualizacoes)||268)+5*((null==C?void 0:C.total)||21))),shares:Math.floor(.001*((null==(u=null==k?void 0:k.instagram)?void 0:u.engagement)||269227)),comments:Math.floor(5e-4*((null==(d=null==k?void 0:k.instagram)?void 0:d.engagement)||269227)),likes:Math.floor(.003*((null==(f=null==k?void 0:k.instagram)?void 0:f.engagement)||269227))}},content:{topPages:(T||[]).slice(0,3).map((e,t)=>({path:`/noticia/${e.id}`,title:e.titulo||`Notícia ${t+1}`,views:e.visualizacoes||0,avgTime:180+30*t,bounceRate:25+5*t})),topCategories:[{category:"Geral",views:20*((null==C?void 0:C.geral)||15),engagement:3.2,growth:5.1},{category:"Destaque",views:35*((null==C?void 0:C.destaque)||5),engagement:4.8,growth:8.7},{category:"Supermanchete",views:150*((null==C?void 0:C.supermanchete)||1),engagement:6.2,growth:15.2}],searchTerms:[{term:"r10 piauí",count:Math.floor(12*((null==C?void 0:C.total)||21)*.08),conversions:12},{term:"notícias teresina",count:Math.floor(12*((null==C?void 0:C.total)||21)*.05),conversions:8},{term:"piauí hoje",count:Math.floor(12*((null==C?void 0:C.total)||21)*.03),conversions:4}],contentPerformance:{type:"notícias",avgViews:Math.floor(((null==(p=null==T?void 0:T[0])?void 0:p.visualizacoes)||268)/((null==C?void 0:C.total)||21)),avgEngagement:2.8}},technology:{devices:[{type:"Mobile",percentage:71.2,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.712)},{type:"Desktop",percentage:24.1,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.241)},{type:"Tablet",percentage:4.7,sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.047)}],browsers:[{name:"Chrome",percentage:68.9,version:"119.0"},{name:"Safari",percentage:18.7,version:"17.1"},{name:"Firefox",percentage:7.2,version:"119.0"},{name:"Edge",percentage:5.2,version:"119.0"}],os:[{name:"Android",percentage:47.8},{name:"iOS",percentage:28.9},{name:"Windows",percentage:18.7},{name:"macOS",percentage:4.6}],screenResolutions:[{resolution:"393x852",percentage:21.3},{resolution:"390x844",percentage:18.7},{resolution:"1920x1080",percentage:15.2}]},traffic:{sources:[{source:"Direct",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.45),percentage:45,quality:8.9},{source:"Social Media",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.35),percentage:35,quality:7.2},{source:"Organic Search",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.15),percentage:15,quality:6.8},{source:"Referral",sessions:Math.floor(12*((null==C?void 0:C.total)||21)*.05),percentage:5,quality:5.5}],channels:[{channel:"Instagram",users:(null==(h=null==k?void 0:k.instagram)?void 0:h.followers)||0,conversions:8,value:2.1},{channel:"Facebook",users:(null==(m=null==k?void 0:k.facebook)?void 0:m.followers)||0,conversions:12,value:1.8},{channel:"Google",users:Math.floor(12*((null==C?void 0:C.total)||21)*.15),conversions:3,value:3.2}],campaigns:[{name:"Portal R10 PI",clicks:Math.floor(.05*((null==(g=null==T?void 0:T[0])?void 0:g.visualizacoes)||268)),impressions:Math.floor(3*((null==(y=null==T?void 0:T[0])?void 0:y.visualizacoes)||268)),ctr:1.67}],referrers:[{domain:"instagram.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.25),quality:7.2},{domain:"facebook.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.15),quality:6.8},{domain:"google.com",visits:Math.floor(12*((null==C?void 0:C.total)||21)*.08),quality:7.5}]},temporal:{hourlyTraffic:Array.from({length:24},(e,t)=>{const r=Math.floor(12*((null==C?void 0:C.total)||21)/24),n=t>=7&&t<=22?t>=12&&t<=18?2.2:1.4:.3;return{hour:t,sessions:Math.max(1,Math.floor(r*n)),engagement:20+(t>=8&&t<=18?35:0)}}),dailyTraffic:Array.from({length:7},(e,t)=>{var r;const n=new Date;n.setDate(n.getDate()-(6-t));const a=Math.floor(12*((null==C?void 0:C.total)||21)/7),i=Math.floor(((null==(r=null==T?void 0:T[0])?void 0:r.visualizacoes)||268)/7);return{day:n.toISOString().split("T")[0],sessions:Math.max(2,Math.floor(a*(.8+.1*t))),users:Math.max(2,Math.floor(a*(.75+.08*t))),pageviews:Math.max(5,Math.floor(i*(1.2+.15*t)))}}),monthlyTrends:[{month:"Jul",growth:8.7,retention:71.2},{month:"Ago",growth:12.1,retention:73.8},{month:"Set",growth:15.6,retention:76.4}]},social:{instagram:{followers:(null==(v=null==k?void 0:k.instagram)?void 0:v.followers)||(null==(j=null==(b=null==E?void 0:E.instagram)?void 0:b.account)?void 0:j.followers)||0,engagement:(null==D?void 0:D.value)||(null==R?void 0:R.value)||0,reach:(null==_?void 0:_.value)||0,impressions:(null==I?void 0:I.value)||0,storiesViews:0,profileViews:(null==L?void 0:L.value)||0,websiteClicks:0,topPosts:[],audienceInsights:{topLocations:[],ageGender:[],activeHours:[]}},facebook:{followers:(null==(w=null==k?void 0:k.facebook)?void 0:w.followers)||(null==(O=null==(N=null==E?void 0:E.facebook)?void 0:N.account)?void 0:O.followers)||0,engagement:(null==$?void 0:$.value)||0,reach:(null==B?void 0:B.value)||0,impressions:(null==z?void 0:z.value)||0,pageViews:0,videoViews:0,linkClicks:0,topPosts:[],audienceInsights:{demographics:[],interests:[],behavior:[]},fanAdds:(null==q?void 0:q.value)||0,fanRemoves:(null==U?void 0:U.value)||0}},performance:{pageLoadTime:1.08,serverResponse:92,firstContentfulPaint:.75,largestContentfulPaint:1.52,cumulativeLayoutShift:.025,errors404:3,serverErrors:0,uptime:99.97}};r(F)}catch(S){s((null==S?void 0:S.message)||"Erro ao carregar métricas avançadas")}finally{i(!1)}};a.useEffect(()=>{b()},[u]);const j=({title:e,value:t,change:r,trend:n="neutral",icon:a,color:i="from-blue-500 to-blue-600",subtitle:o})=>Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-all",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Ye.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${i}`,children:a}),r&&Ye.jsxs("div",{className:"flex items-center text-sm font-medium "+("up"===n?"text-green-600":"down"===n?"text-red-600":"text-gray-600"),children:["up"===n?Ye.jsx(G,{size:16}):"down"===n?Ye.jsx(V,{size:16}):null,Ye.jsx("span",{className:"ml-1",children:r})]})]}),Ye.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1 uppercase tracking-wide",children:e}),Ye.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-1",children:"number"==typeof t?t.toLocaleString():t}),o&&Ye.jsx("p",{className:"text-xs text-gray-500",children:o})]}),N=({platform:e})=>{if(!y)return null;const t=e=>{var t;const r=(null==(t=null==y?void 0:y[e])?void 0:t.metrics)||[];return Array.isArray(r)&&r.length?r.map(e=>({name:e.name,status:e.status,dias:(e.series||[]).length,soma:(e.series||[]).reduce((e,t)=>e+((null==t?void 0:t.value)||0),0)})):[]},r=t(e||"instagram");return r.length?Ye.jsxs("div",{className:"overflow-x-auto",children:[Ye.jsxs("table",{className:"min-w-full text-xs border border-gray-200 rounded-md overflow-hidden",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-600",children:"Métrica"}),Ye.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-600",children:"Status"}),Ye.jsx("th",{className:"px-2 py-1 text-right font-semibold text-gray-600",children:"Dias"}),Ye.jsx("th",{className:"px-2 py-1 text-right font-semibold text-gray-600",children:"Soma"})]})}),Ye.jsx("tbody",{children:r.map(e=>Ye.jsxs("tr",{className:"border-t",children:[Ye.jsx("td",{className:"px-2 py-1 font-mono text-gray-700",children:e.name}),Ye.jsx("td",{className:"px-2 py-1",children:"ok"===e.status?Ye.jsx("span",{className:"inline-flex items-center text-green-600",children:"✔ ok"}):Ye.jsxs("span",{className:"inline-flex items-center text-red-600",children:["✖ ",e.status]})}),Ye.jsx("td",{className:"px-2 py-1 text-right text-gray-700",children:e.dias}),Ye.jsx("td",{className:"px-2 py-1 text-right font-semibold text-gray-900",children:e.soma.toLocaleString()})]},e.name))})]}),Ye.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Tabela de diagnóstico direto da API Meta (somatório do período carregado)."})]}):Ye.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 text-yellow-800 p-4 rounded-md text-sm",children:["Nenhuma série de métricas retornada pela API para ",e||"instagram","."]})},S=(e,t)=>{var r;if(!y)return 0;const n=((null==(r=y[e])?void 0:r.metrics)||[]).find(e=>e.name===t);if(!n||"ok"!==n.status)return 0;const a=n[h]??0;return"number"==typeof a?a:0},A=({label:e,metric:t,children:r})=>Ye.jsxs("div",{className:"group relative",children:[r,Ye.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition bg-gray-900 text-white text-[10px] px-2 py-1 rounded absolute z-10 -top-2 left-1/2 -translate-x-1/2 whitespace-nowrap pointer-events-none",children:[e," • modo: ",h,Ye.jsxs("div",{className:"mt-0.5 text-[9px] text-gray-300",children:["Fonte: ",t]})]})]});return n?Ye.jsx("div",{className:"p-8",children:Ye.jsxs("div",{className:"flex items-center justify-center h-64",children:[Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"}),Ye.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Carregando analytics avançados..."})]})}):o?Ye.jsx("div",{className:"p-8",children:Ye.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[Ye.jsx(oe,{size:48,className:"mx-auto text-red-500 mb-4"}),Ye.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar dados"}),Ye.jsx("p",{className:"text-red-600 mb-4",children:o}),Ye.jsx("button",{onClick:b,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Tentar novamente"})]})}):Ye.jsxs("div",{className:"p-6 space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 text-white",children:[Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Analytics Avançados"}),Ye.jsx("p",{className:"text-red-100",children:"Análise completa e detalhada do seu site"})]}),Ye.jsxs("div",{className:"flex items-center space-x-4",children:[Ye.jsxs("select",{value:u,onChange:e=>d(e.target.value),className:"px-4 py-2 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:ring-2 focus:ring-white/50",children:[Ye.jsx("option",{value:"7d",className:"text-gray-800",children:"Últimos 7 dias"}),Ye.jsx("option",{value:"30d",className:"text-gray-800",children:"Últimos 30 dias"}),Ye.jsx("option",{value:"90d",className:"text-gray-800",children:"Últimos 90 dias"})]}),Ye.jsx("button",{className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg",children:Ye.jsx(v,{size:20})}),Ye.jsx("button",{className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg",children:Ye.jsx(D,{size:20})})]})]}),Ye.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-1",children:Ye.jsx("div",{className:"flex space-x-1",children:[{id:"overview",label:"Visão Geral",icon:W},{id:"audience",label:"Audiência",icon:F},{id:"content",label:"Conteúdo",icon:g},{id:"social",label:"Social",icon:se},{id:"performance",label:"Performance",icon:le}].map(e=>Ye.jsxs("button",{onClick:()=>c(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(l===e.id?"bg-red-600 text-white shadow-sm":"text-gray-600 hover:text-red-600 hover:bg-red-50"),children:[Ye.jsx(e.icon,{size:16}),Ye.jsx("span",{children:e.label})]},e.id))})}),"overview"===l&&t&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Ye.jsx(j,{title:"Total de Usuários",value:t.audience.totalUsers,change:"+12.5%",trend:"up",icon:Ye.jsx(F,{size:24,className:"text-white"}),color:"from-blue-500 to-blue-600",subtitle:"Últimos 30 dias"}),Ye.jsx(j,{title:"Visualizações",value:t.engagement.totalPageviews,change:"+8.7%",trend:"up",icon:Ye.jsx(O,{size:24,className:"text-white"}),color:"from-green-500 to-green-600",subtitle:"Total no período"}),Ye.jsx(j,{title:"Taxa de Engajamento",value:`${(100-t.audience.bounceRate).toFixed(1)}%`,change:"+3.2%",trend:"up",icon:Ye.jsx(K,{size:24,className:"text-white"}),color:"from-purple-500 to-purple-600",subtitle:"Usuários engajados"}),Ye.jsx(j,{title:"Tempo Médio",value:`${Math.floor(t.audience.avgSessionDuration/60)}m ${t.audience.avgSessionDuration%60}s`,change:"+15.3%",trend:"up",icon:Ye.jsx(B,{size:24,className:"text-white"}),color:"from-orange-500 to-orange-600",subtitle:"Por sessão"})]}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[Ye.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[Ye.jsx(ce,{size:20,className:"mr-2 text-blue-500"}),"Tráfego Diário"]}),Ye.jsx("div",{className:"h-64",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs(qC,{data:t.temporal.dailyTraffic,children:[Ye.jsx("defs",{children:Ye.jsxs("linearGradient",{id:"trafficGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[Ye.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),Ye.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})}),Ye.jsx(BE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),Ye.jsx(ET,{dataKey:"day",stroke:"#6b7280",fontSize:12}),Ye.jsx($T,{stroke:"#6b7280",fontSize:12}),Ye.jsx(mp,{}),Ye.jsx(xT,{type:"monotone",dataKey:"sessions",stroke:"#3b82f6",fill:"url(#trafficGradient)"})]})})})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[Ye.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[Ye.jsx(ue,{size:20,className:"mr-2 text-green-500"}),"Fontes de Tráfego"]}),Ye.jsx("div",{className:"h-64",children:Ye.jsx(Up,{width:"100%",height:"100%",children:Ye.jsxs($C,{children:[Ye.jsx(mA,{data:t.traffic.sources,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"percentage",label:({source:e,percentage:t})=>`${e} ${t.toFixed(1)}%`,children:t.traffic.sources.map((e,t)=>Ye.jsx(Fp,{fill:["#ef4444","#3b82f6","#10b981","#f59e0b"][t]},`cell-${t}`))}),Ye.jsx(mp,{})]})})})]})]})]}),"social"===l&&t&&Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center",children:[Ye.jsx(w,{size:28,className:"mr-2 text-pink-500"}),"Instagram - Métricas Avançadas"]}),Ye.jsxs("div",{className:"flex flex-col gap-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx(N,{}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("span",{className:"text-xs text-gray-600",children:"Modo:"}),Ye.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:h,onChange:e=>m(e.target.value),children:[Ye.jsx("option",{value:"aggregate28",children:"28 dias"}),Ye.jsx("option",{value:"sumDaily",children:"Soma diária"}),Ye.jsx("option",{value:"avgDaily",children:"Média diária"}),Ye.jsx("option",{value:"lastDaily",children:"Último dia"})]})]})]}),Ye.jsx("p",{className:"text-[11px] text-gray-500",children:'Alcance na interface oficial da Meta é "contas únicas no intervalo". Quando a API não fornece exatamente esse agregado, usamos o melhor campo disponível acima.'})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Ye.jsx(A,{label:"Seguidores atuais",metric:"followers_count",children:Ye.jsx(j,{title:"Seguidores",value:t.social.instagram.followers,icon:Ye.jsx(F,{size:22}),color:"from-pink-500 to-pink-600"})}),Ye.jsx(A,{label:"Accounts Engaged / Total Interactions",metric:"accounts_engaged",children:Ye.jsx(j,{title:"Engajamento",value:S("instagram","accounts_engaged")||S("instagram","total_interactions"),icon:Ye.jsx(H,{size:22}),color:"from-red-500 to-red-600"})}),Ye.jsx(A,{label:"Reach",metric:"reach",children:Ye.jsx(j,{title:"Alcance",value:S("instagram","reach"),icon:Ye.jsx(X,{size:22}),color:"from-yellow-500 to-yellow-600"})}),Ye.jsx(A,{label:"Impressões",metric:"impressions",children:Ye.jsx(j,{title:"Impressões",value:S("instagram","impressions"),icon:Ye.jsx(O,{size:22}),color:"from-purple-500 to-purple-600"})}),Ye.jsx(A,{label:"Profile Views",metric:"profile_views",children:Ye.jsx(j,{title:"Visitas ao Perfil",value:S("instagram","profile_views"),icon:Ye.jsx(F,{size:22}),color:"from-green-500 to-green-600"})})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Posts"}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.social.instagram.topPosts.map((e,t)=>Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[Ye.jsxs("div",{className:"font-bold text-red-600 mb-2",children:["Post #",e.id]}),Ye.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[Ye.jsxs("span",{children:[Ye.jsx(H,{size:16,className:"inline mr-1 text-pink-500"}),"Likes: ",e.likes]}),Ye.jsxs("span",{children:[Ye.jsx(de,{size:16,className:"inline mr-1 text-blue-500"}),"Comentários: ",e.comments]}),Ye.jsxs("span",{children:[Ye.jsx(se,{size:16,className:"inline mr-1 text-green-500"}),"Compart.: ",e.shares]}),Ye.jsxs("span",{children:[Ye.jsx(X,{size:16,className:"inline mr-1 text-yellow-500"}),"Alcance: ",e.reach]})]})]},e.id))})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insights de Audiência"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Locais Principais"}),Ye.jsx("ul",{className:"text-sm",children:t.social.instagram.audienceInsights.topLocations.map(e=>Ye.jsxs("li",{children:[e.city,": ",e.percentage,"%"]},e.city))})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Faixa Etária/Gênero"}),Ye.jsx("ul",{className:"text-sm",children:t.social.instagram.audienceInsights.ageGender.map(e=>Ye.jsxs("li",{children:[e.age,": ",e.male,"% masc / ",e.female,"% fem"]},e.age))})]})]})]})]}),"social"===l&&t&&Ye.jsxs("div",{className:"space-y-8 mt-12",children:[Ye.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center",children:[Ye.jsx(ne,{size:28,className:"mr-2 text-blue-600"}),"Facebook - Métricas Avançadas"]}),Ye.jsx("div",{className:"flex flex-col gap-4",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx(N,{platform:"facebook"}),Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("span",{className:"text-xs text-gray-600",children:"Modo:"}),Ye.jsxs("select",{className:"text-xs border border-gray-300 rounded px-2 py-1",value:h,onChange:e=>m(e.target.value),children:[Ye.jsx("option",{value:"aggregate28",children:"28 dias"}),Ye.jsx("option",{value:"sumDaily",children:"Soma diária"}),Ye.jsx("option",{value:"avgDaily",children:"Média diária"}),Ye.jsx("option",{value:"lastDaily",children:"Último dia"})]})]})]})}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Ye.jsx(A,{label:"Seguidores atuais",metric:"followers_count",children:Ye.jsx(j,{title:"Seguidores",value:t.social.facebook.followers,icon:Ye.jsx(F,{size:22}),color:"from-blue-500 to-blue-600"})}),Ye.jsx(A,{label:"Page Engaged Users",metric:"page_engaged_users",children:Ye.jsx(j,{title:"Engajamento",value:S("facebook","page_engaged_users"),icon:Ye.jsx(H,{size:22}),color:"from-blue-700 to-blue-800"})}),Ye.jsx(A,{label:"Reach (impressions_unique)",metric:"page_impressions_unique",children:Ye.jsx(j,{title:"Alcance",value:S("facebook","page_impressions_unique"),icon:Ye.jsx(X,{size:22}),color:"from-yellow-500 to-yellow-600"})}),Ye.jsx(A,{label:"Impressões",metric:"page_impressions",children:Ye.jsx(j,{title:"Impressões",value:S("facebook","page_impressions"),icon:Ye.jsx(O,{size:22}),color:"from-purple-500 to-purple-600"})}),Ye.jsx(A,{label:"Novos seguidores (adds - removes)",metric:"page_fan_adds_unique",children:Ye.jsx(j,{title:"Crescimento Líquido",value:Math.max(0,S("facebook","page_fan_adds_unique")-S("facebook","page_fan_removes_unique")),icon:Ye.jsx(X,{size:22}),color:"from-green-500 to-green-600"})})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Posts"}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.social.facebook.topPosts.map((e,t)=>Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 shadow-sm",children:[Ye.jsxs("div",{className:"font-bold text-blue-600 mb-2",children:["Post #",e.id]}),Ye.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[Ye.jsxs("span",{children:[Ye.jsx(H,{size:16,className:"inline mr-1 text-blue-700"}),"Reações: ",e.reactions]}),Ye.jsxs("span",{children:[Ye.jsx(de,{size:16,className:"inline mr-1 text-blue-500"}),"Comentários: ",e.comments]}),Ye.jsxs("span",{children:[Ye.jsx(se,{size:16,className:"inline mr-1 text-green-500"}),"Compart.: ",e.shares]}),Ye.jsxs("span",{children:[Ye.jsx(X,{size:16,className:"inline mr-1 text-yellow-500"}),"Alcance: ",e.reach]})]})]},e.id))})]}),Ye.jsxs("div",{className:"mt-8",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insights de Audiência"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Demografia"}),Ye.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.demographics.map(e=>Ye.jsxs("li",{children:[e.age,": ",e.percentage,"%"]},e.age))})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Interesses"}),Ye.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.interests.map(e=>Ye.jsxs("li",{children:[e.category,": ",e.affinity,"%"]},e.category))})]}),Ye.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[Ye.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"Comportamento"}),Ye.jsx("ul",{className:"text-sm",children:t.social.facebook.audienceInsights.behavior.map(e=>Ye.jsxs("li",{children:[e.action,": ",e.frequency]},e.action))})]})]})]})]}),"overview"!==l&&"social"!==l&&Ye.jsxs("div",{className:"bg-white rounded-xl p-8 text-center border border-gray-200",children:[Ye.jsx("div",{className:"text-gray-400 mb-4",children:Ye.jsx(W,{size:48,className:"mx-auto"})}),Ye.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["audience"===l&&"Análise Detalhada de Audiência","content"===l&&"Performance de Conteúdo","performance"===l&&"Análise de Performance"]}),Ye.jsx("p",{className:"text-gray-600 mb-4",children:"Esta seção contém análises aprofundadas com gráficos interativos, segmentação demográfica, análise de comportamento e insights acionáveis."}),Ye.jsx("div",{className:"bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:Ye.jsxs("p",{className:"text-red-800 text-sm",children:[Ye.jsx("strong",{children:"Em desenvolvimento:"})," Análises ainda mais detalhadas serão implementadas em breve!"]})})]})]})},rM=({selectedVoice:e,onVoiceChange:t,className:r=""})=>{const[n,i]=a.useState([]),[o,s]=a.useState(!0),[l,c]=a.useState(!1);a.useEffect(()=>{(async()=>{try{const e=window.location.hostname.includes("render.com")||window.location.hostname.includes("r10piaui"),t=(e?window.location.origin:"/api").replace("/api",""),r=await fetch(`${t}/api/tts/voices`);if(!r.ok)throw new Error("Erro ao buscar vozes");const n=await r.json();n.success&&n.voices&&i(n.voices)}catch(e){i([{name:"pt-BR-AntonioNeural",displayName:"Antonio (Masculina)",locale:"pt-BR",gender:"Male",localName:"Antonio"},{name:"pt-BR-FranciscaNeural",displayName:"Francisca (Feminina)",locale:"pt-BR",gender:"Female",localName:"Francisca"}])}finally{s(!1)}})()},[]);const u=n.find(t=>t.name===e);return o?Ye.jsxs("div",{className:`flex items-center gap-2 ${r}`,children:[Ye.jsx(fe,{size:16,className:"text-gray-400 animate-pulse"}),Ye.jsx("span",{className:"text-sm text-gray-500",children:"Carregando vozes..."})]}):Ye.jsxs("div",{className:`relative ${r}`,children:[Ye.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[Ye.jsx(fe,{size:16,className:"text-purple-600"}),Ye.jsx("span",{className:"font-medium",children:(null==u?void 0:u.displayName)||"Selecionar Voz"}),Ye.jsx("svg",{className:"w-4 h-4 transition-transform "+(l?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Ye.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>c(!1)}),Ye.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-20 overflow-hidden",children:[Ye.jsx("div",{className:"p-2 bg-gray-50 border-b border-gray-200",children:Ye.jsx("p",{className:"text-xs font-semibold text-gray-700",children:"Escolha a Voz do Narrador"})}),Ye.jsx("div",{className:"max-h-60 overflow-y-auto",children:n.map(r=>Ye.jsxs("button",{onClick:()=>{return e=r.name,t(e),void c(!1);var e},className:"w-full flex items-center justify-between px-4 py-3 hover:bg-purple-50 transition-colors "+(r.name===e?"bg-purple-100":""),children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("Male"===r.gender?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600"),children:Ye.jsx(fe,{size:16})}),Ye.jsxs("div",{className:"text-left",children:[Ye.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.displayName}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"Male"===r.gender?"Voz Masculina":"Voz Feminina"})]})]}),r.name===e&&Ye.jsx(pe,{size:18,className:"text-purple-600"})]},r.name))}),Ye.jsx("div",{className:"p-2 bg-gray-50 border-t border-gray-200",children:Ye.jsx("p",{className:"text-xs text-gray-600 text-center",children:"Powered by Azure Cognitive Services"})})]})]})]})},nM=()=>{const[e,t]=a.useState("pt-BR-AntonioNeural"),[r,n]=a.useState(!0),[i,o]=a.useState(!1),[s,l]=a.useState(null),[c,u]=a.useState(null);a.useEffect(()=>{d(),f()},[]);const d=async()=>{try{const e="/api",r=await fetch(`${e}/api/settings/tts`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(r.ok){const e=await r.json();e.voiceName&&t(e.voiceName)}}catch(e){}finally{n(!1)}},f=async()=>{try{const e="/api",t=await fetch(`${e}/api/tts/status`);if(t.ok){const e=await t.json();u(e)}}catch(e){}};return r?Ye.jsx("div",{className:"flex items-center justify-center h-64",children:Ye.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):Ye.jsx("div",{className:"max-w-4xl mx-auto p-6",children:Ye.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[Ye.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4",children:Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx(he,{className:"text-white",size:24}),Ye.jsx("h1",{className:"text-2xl font-bold text-white",children:"Configurações do Sistema"})]})}),Ye.jsxs("div",{className:"p-6 space-y-6",children:[c&&Ye.jsx("div",{className:"p-4 rounded-lg border "+(c.configured?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"),children:Ye.jsxs("div",{className:"flex items-start gap-3",children:[Ye.jsx("div",{className:"p-2 rounded-full "+(c.configured?"bg-green-100":"bg-yellow-100"),children:c.configured?Ye.jsx(pe,{className:"text-green-600",size:20}):Ye.jsx(q,{className:"text-yellow-600",size:20})}),Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h3",{className:"font-semibold "+(c.configured?"text-green-900":"text-yellow-900"),children:c.configured?"Azure TTS Configurado":"Azure TTS Não Configurado"}),Ye.jsx("p",{className:"text-sm mt-1 "+(c.configured?"text-green-700":"text-yellow-700"),children:c.configured?`Região: ${c.region} | Vozes disponíveis: ${c.availableVoices||"N/A"}`:"Configure AZURE_SPEECH_KEY e AZURE_SPEECH_REGION no arquivo .env"})]})]})}),Ye.jsxs("div",{className:"border-t pt-6",children:[Ye.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Ye.jsx(fe,{className:"text-purple-600",size:24}),Ye.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Text-to-Speech (Azure)"})]}),Ye.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Voz Padrão do Narrador"}),Ye.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Selecione a voz que será usada por padrão para gerar áudio das matérias. Esta configuração afeta todas as novas gerações de áudio."}),Ye.jsx(rM,{selectedVoice:e,onVoiceChange:t,className:"mb-4"}),Ye.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mt-4",children:[Ye.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Voz Selecionada:"}),Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(e.includes("Antonio")?"bg-blue-100 text-blue-600":"bg-pink-100 text-pink-600"),children:Ye.jsx(fe,{size:20})}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-medium text-gray-900",children:e}),Ye.jsx("p",{className:"text-sm text-gray-500",children:e.includes("Antonio")?"Voz Masculina Neural":"Voz Feminina Neural"})]})]})]})]}),Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Ye.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"💡 Dica"}),Ye.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[Ye.jsx("li",{children:"• Vozes neurais oferecem qualidade superior e naturalidade"}),Ye.jsx("li",{children:"• Antonio: Voz masculina, ideal para notícias e conteúdo formal"}),Ye.jsx("li",{children:"• Francisca: Voz feminina, ideal para variedade e conteúdo leve"}),Ye.jsx("li",{children:"• A mudança afeta apenas novos áudios gerados"})]})]})]})]}),s&&Ye.jsx("div",{className:"p-4 rounded-lg border "+("success"===s.type?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:Ye.jsxs("div",{className:"flex items-center gap-2",children:["success"===s.type?Ye.jsx(pe,{size:20}):Ye.jsx(q,{size:20}),Ye.jsx("span",{className:"font-medium",children:s.text})]})}),Ye.jsx("div",{className:"flex justify-end pt-4 border-t",children:Ye.jsx("button",{onClick:async()=>{o(!0),l(null);try{const t="/api";if(!(await fetch(`${t}/api/settings/tts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({voiceName:e})})).ok)throw new Error("Erro ao salvar configurações");l({type:"success",text:"Configurações salvas com sucesso!"}),setTimeout(()=>l(null),3e3)}catch(t){l({type:"error",text:"Erro ao salvar configurações"})}finally{o(!1)}},disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white font-semibold rounded-lg transition-colors",children:i?Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),Ye.jsx("span",{children:"Salvando..."})]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(J,{size:20}),Ye.jsx("span",{children:"Salvar Configurações"})]})})})]})]})})},aM=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=u(),t=i(),[r]=d(),[n,s]=a.useState("overview"),[l,f]=a.useState("insights"),[p,h]=a.useState(0),[m,y]=a.useState(3),[x,v]=a.useState("7d"),[j,w]=a.useState([]),[A,P]=a.useState(null),[E,T]=a.useState(null),[C,M]=a.useState(!1),[_,I]=a.useState(),[D,R]=a.useState([]),[L,z]=a.useState([]),[B,$]=a.useState(!0),[q,G]=a.useState(null),{user:H}=Ct(),Y="admin"===(null==H?void 0:H.role);null==H||H.role;const J=!!H,Q=Y,Z=Y,ee=Y,te=Y;a.useEffect(()=>{const n=e.pathname;if("/admin/materias"===n)s("materias");else if("/admin/configuracoes"===n)s("configuracoes");else if("/admin/usuarios"===n)Y?s("usuarios"):(s("overview"),t("/admin"));else if("/admin"===n){const e=r.get("tab");if(e&&["overview","midia","layout","instagram","agendamento","banners","categorias","analytics","advanced-analytics"].includes(e)){const r={layout:Q,banners:Z,categorias:ee};e in r&&!r[e]?(s("overview"),t("/admin")):s(e)}else s("overview")}HC.requestNotificationPermission()},[e.pathname,r,Y,t]),a.useEffect(()=>{let e=!0;async function t(){try{$(!0),G(null);const[t,r]=await Promise.all([xt({page:1,limit:20}),St(5)]);if(!e)return;R(t.items),z(r);const n=(new Date).toDateString(),a=t.items.filter(e=>new Date(e.dataPublicacao||e.publishedAt||"").toDateString()===n).length;h(Math.max(3,10*a))}catch(t){if(!e)return;G((null==t?void 0:t.message)||"Falha ao carregar dados")}finally{e&&$(!1)}}t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[]),a.useEffect(()=>{let e=!0;const t=async()=>{try{const t=await ot();e&&w(t)}catch(t){e&&w([])}};t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[]),a.useEffect(()=>{let e=!0;if(!J)return P(null),T("Faça login para ver os insights."),()=>{e=!1};async function t(){try{T(null);const t=await rt("/social/insights");if(!e)return;P(t)}catch(t){if(!e)return;const r=null==t?void 0:t.status;T(401===r?"Sessão expirada ou não autenticado. Faça login novamente.":501===r?"Insights: configurar IG_BUSINESS_ID/FB_PAGE_ID/IG_ACCESS_TOKEN no backend (.env).":"Erro ao carregar insights. Tente novamente em instantes.")}}t();const r=setInterval(t,6e4);return()=>{e=!1,clearInterval(r)}},[J]);const re=c.useMemo(()=>{const e=(new Date).toDateString(),t=D.filter(t=>new Date(t.dataPublicacao||t.publishedAt||"").toDateString()===e),r=t.reduce((e,t)=>e+(t.views||t.visualizacoes||0),0),n=t.length,a=L.length?Math.min(12,5+L.length):7.5;return{todayViews:r,todayUsers:p,postsPublished:n,engagementRate:a}},[D,L,p]);re.todayViews.toLocaleString(),p.toLocaleString(),re.postsPublished.toString(),re.engagementRate.toFixed(1),L.map(e=>({title:e.titulo,views:e.views||e.visualizacoes||0,readTime:"-",engagement:7}));const ne=async e=>{if(!confirm("Tem certeza que deseja excluir este banner?"))return;await async function(e){return it(`/banners/${e}`)}(e);const t=await ot();w(t)},ae=()=>{const e=function(e){const t=e.reduce((e,t)=>e+(t.impressoesAtuais||0),0),r=e.reduce((e,t)=>e+(t.cliquesAtuais||0),0),n=t>0?Number((r/t*100).toFixed(2)):0,a=e.reduce((e,t)=>{let r=0;return t.cpm&&t.impressoesAtuais&&(r+=t.impressoesAtuais/1e3*t.cpm),t.cpc&&t.cliquesAtuais&&(r+=t.cliquesAtuais*t.cpc),t.valorTotal&&(r+=t.valorTotal),e+r},0);return{impressoes:t,cliques:r,ctr:n,receita:Number(a.toFixed(2)),periodo:"total"}}(j),t=[{value:"top-strip",label:"Topo da Página",description:"Banner horizontal no topo (728x90)"},{value:"super-banner",label:"Super Banner",description:"Na NewsGeneralSection (970x250)"},{value:"news-sidebar",label:"Sidebar Notícias",description:"Coluna direita da NewsGeneralSection (w-full h-80)"},{value:"sidebar-article",label:"Sidebar Artigo",description:"AdBox na página de artigo (300x250)"},{value:"in-content",label:"Dentro do Texto",description:"No meio do conteúdo (300x250)"}];return Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsxs("div",{className:"flex justify-between items-center",children:[Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Publicidade"}),Ye.jsx("p",{className:"text-gray-600",children:"Gerencie banners, anúncios e campanhas publicitárias"})]}),Ye.jsxs("button",{onClick:()=>M(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium flex items-center space-x-2 transition-colors",children:[Ye.jsx(b,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Novo Banner"})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[Ye.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("p",{className:"text-blue-100 text-base",children:"Total de Impressões"}),Ye.jsx("p",{className:"text-2xl font-bold",children:e.impressoes.toLocaleString()})]}),Ye.jsx(O,{className:"w-8 h-8 text-blue-200"})]})}),Ye.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("p",{className:"text-green-100 text-base",children:"Total de Cliques"}),Ye.jsx("p",{className:"text-2xl font-bold",children:e.cliques.toLocaleString()})]}),Ye.jsx(K,{className:"w-8 h-8 text-green-200"})]})}),Ye.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("p",{className:"text-purple-100 text-base",children:"CTR Médio"}),Ye.jsxs("p",{className:"text-2xl font-bold",children:[e.ctr,"%"]})]}),Ye.jsx(U,{className:"w-8 h-8 text-purple-200"})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:[Ye.jsxs("div",{className:"p-6 border-b border-gray-200",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Banners Ativos"}),Ye.jsx("p",{className:"text-gray-600 text-base",children:"Gerencie todos os banners publicitários do site"})]}),Ye.jsx("div",{className:"overflow-x-auto",children:Ye.jsxs("table",{className:"w-full",children:[Ye.jsx("thead",{className:"bg-gray-50",children:Ye.jsxs("tr",{children:[Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Banner"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Posição"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),Ye.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),Ye.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>{const r=e.impressoesAtuais>0?(e.cliquesAtuais/e.impressoesAtuais*100).toFixed(2):"0.00",n=t.find(t=>t.value===e.posicao);return Ye.jsxs("tr",{className:"hover:bg-gray-50",children:[Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ye.jsxs("div",{className:"flex items-center",children:["imagem"===e.tipo&&e.imagem?Ye.jsx("img",{src:e.imagem,alt:e.titulo,className:"w-16 h-10 object-cover rounded mr-3"}):Ye.jsx("div",{className:"w-16 h-10 bg-gray-200 rounded mr-3 flex items-center justify-center",children:Ye.jsx(K,{className:"w-4 h-4 text-gray-400"})}),Ye.jsxs("div",{children:[Ye.jsx("div",{className:"text-base font-medium text-gray-900",children:e.titulo}),Ye.jsxs("div",{className:"text-base text-gray-500",children:[e.tamanho," • ",e.tipo]})]})]})}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900",children:e.cliente}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ye.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:null==n?void 0:n.label})}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ye.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium "+("ativo"===e.status?"bg-green-100 text-green-800":"pausado"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"ativo"===e.status?"Ativo":"pausado"===e.status?"Pausado":"Agendado"})}),Ye.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-base text-gray-900",children:Ye.jsxs("div",{children:[Ye.jsxs("div",{children:[e.impressoesAtuais.toLocaleString()," impressões"]}),Ye.jsxs("div",{className:"text-gray-500",children:[e.cliquesAtuais," cliques • ",r,"% CTR"]})]})}),Ye.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-base font-medium space-x-2",children:[Ye.jsx("button",{onClick:()=>(e=>{I(e),M(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:Ye.jsx(S,{className:"w-4 h-4"})}),Ye.jsx("button",{onClick:()=>ne(e.id),className:"text-red-600 hover:text-red-900",children:Ye.jsx(ye,{className:"w-4 h-4"})})]})]},e.id)})})]})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Posições Disponíveis"}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>{const t=j.filter(t=>t.posicao===e.value&&"ativo"===t.status);return Ye.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[Ye.jsxs("div",{className:"flex justify-between items-start mb-2",children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:e.label}),Ye.jsxs("span",{className:"px-2 py-1 rounded-full text-xs "+(t.length>0?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:[t.length," ativo",1!==t.length?"s":""]})]}),Ye.jsx("p",{className:"text-sm text-gray-600",children:e.description})]},e.value)})})]})]})},ie=()=>Ye.jsx("div",{className:"w-64 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 text-white h-fit rounded-lg shadow-xl",children:Ye.jsxs("div",{className:"p-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[Ye.jsx("img",{src:"/imagens/logor10.png",alt:"R10 Piauí",className:"h-8 w-auto"}),Ye.jsxs("div",{children:[Ye.jsx("h1",{className:"font-bold text-lg",children:"R10 Painel"}),Ye.jsx("p",{className:"text-gray-400 text-sm",children:"Editorial"})]})]}),Ye.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 mb-4 border border-gray-700",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("img",{src:(null==H?void 0:H.avatar)||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:"Avatar",className:"w-8 h-8 rounded-lg border border-red-500"}),Ye.jsxs("div",{children:[Ye.jsx("p",{className:"font-medium text-white text-base",children:(null==H?void 0:H.name)||"Usuário"}),Ye.jsx("p",{className:"text-sm text-gray-400",children:"admin"===(null==H?void 0:H.role)?"Admin":"editor"===(null==H?void 0:H.role)?"Editor":"reporter"===(null==H?void 0:H.role)?"Reporter":"User"})]})]})}),Ye.jsx("nav",{className:"space-y-1",children:[{id:"overview",label:"Dashboard",icon:W,badge:null,url:"/admin"},{id:"materias",label:"Matérias",icon:g,badge:null,url:"/admin/materias"},{id:"midia",label:"Mídia",icon:k,badge:null,url:"/admin?tab=midia"},...Q?[{id:"layout",label:"Layout",icon:me,badge:null,url:"/admin?tab=layout"}]:[],{id:"instagram",label:"Instagram",icon:N,badge:null,url:"/admin?tab=instagram"},{id:"agendamento",label:"Agenda",icon:ge,badge:null,url:"/admin?tab=agendamento"},...Z?[{id:"banners",label:"Banner Ads",icon:K,badge:null,url:"/admin?tab=banners"}]:[],...ee?[{id:"categorias",label:"Categorias",icon:he,badge:null,url:"/admin?tab=categorias"}]:[],{id:"analytics",label:"Analytics",icon:X,badge:null,url:"/admin?tab=analytics"},{id:"advanced-analytics",label:"Analytics Avançados",icon:W,badge:"NEW",url:"/admin?tab=advanced-analytics"},...te?[{id:"usuarios",label:"Usuários",icon:F,badge:null,url:"/admin/usuarios"}]:[]].map(e=>Ye.jsxs(o,{to:e.url,className:"w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-left transition-all duration-200 text-base "+(n===e.id?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md":"text-gray-300 hover:bg-gray-800 hover:text-white"),children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx(e.icon,{className:"w-5 h-5"}),Ye.jsx("span",{className:"font-medium",children:e.label})]}),e.badge&&Ye.jsx("span",{className:"bg-red-500 text-white text-sm px-2 py-0.5 rounded-full",children:e.badge})]},e.id))}),Ye.jsx("div",{className:"mt-3",children:Ye.jsxs(o,{to:"/admin/nova-materia",className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-2.5 px-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2 text-base",children:[Ye.jsx(b,{className:"w-5 h-5"}),Ye.jsx("span",{children:"Nova Matéria"})]})}),Ye.jsx("div",{className:"mt-4 p-3 bg-green-900/30 border border-green-700 rounded-lg",children:Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),Ye.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Sistema Online"})]})})]})}),oe=()=>Ye.jsx(eM,{socialInsights:A,socialInsightsError:E,latestPosts:D,mostRead:L,loading:B,onTabChange:s});return Ye.jsxs("div",{className:"min-h-screen bg-gray-50",children:[Ye.jsx(Bt,{notifications:m}),Ye.jsx("div",{className:"lg:hidden bg-white border-b border-gray-200 sticky top-0 z-40",children:Ye.jsx("div",{className:"max-w-[1250px] mx-auto px-4",children:Ye.jsx("div",{className:"flex overflow-x-auto py-3 space-x-2 scrollbar-hide",children:[{id:"overview",label:"Dashboard",icon:W,url:"/admin"},{id:"materias",label:"Matérias",icon:g,url:"/admin/materias"},{id:"midia",label:"Mídia",icon:k,url:"/admin?tab=midia"},...Q?[{id:"layout",label:"Layout",icon:me,url:"/admin?tab=layout"}]:[],{id:"instagram",label:"Instagram",icon:N,url:"/admin?tab=instagram"},{id:"agendamento",label:"Agenda",icon:ge,url:"/admin?tab=agendamento"}].map(e=>Ye.jsxs(o,{to:e.url,className:"flex-shrink-0 flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(n===e.id?"bg-red-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:[Ye.jsx(e.icon,{className:"w-4 h-4"}),Ye.jsx("span",{className:"whitespace-nowrap",children:e.label})]},e.id))})})}),Ye.jsx("div",{className:"max-w-[1250px] mx-auto px-4 lg:px-6 py-8",children:Ye.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-8",children:[Ye.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:Ye.jsx(ie,{})}),Ye.jsxs("div",{className:"flex-1 min-w-0 w-full",children:["overview"===n&&Ye.jsx(oe,{}),"materias"===n&&Ye.jsx(Ft,{}),"usuarios"===n&&te&&Ye.jsx(XC,{}),"configuracoes"===n&&Ye.jsx(nM,{}),"midia"===n&&Ye.jsx(Ht,{}),"layout"===n&&Q&&Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsx("div",{className:"flex items-center justify-between",children:Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Layout da Home"}),Ye.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Organize as seções da página inicial"})]})}),Ye.jsx(GC,{})]}),"banners"===n&&Z&&Ye.jsx(ae,{}),"instagram"===n&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2",children:Ye.jsxs("div",{className:"flex space-x-2",children:[Ye.jsx("button",{onClick:()=>f("insights"),className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all "+("insights"===l?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:"📊 Insights & Analytics"}),Ye.jsx("button",{onClick:()=>f("generator"),className:"flex-1 px-4 py-3 rounded-lg font-medium transition-all "+("generator"===l?"bg-gradient-to-r from-pink-500 to-purple-600 text-white shadow-md":"text-gray-600 hover:bg-gray-50"),children:"🎨 Gerador de Cards"})]})}),"insights"===l?Ye.jsx(UC,{}):Ye.jsx(Xt,{})]}),"agendamento"===n&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-5",children:[Ye.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Ye.jsx("h3",{className:"font-semibold text-gray-900",children:"Agendamento de Publicações"}),Ye.jsxs(o,{to:"/admin/nova-materia",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(b,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Agendar Nova Matéria"})]})]}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[Ye.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Hoje"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"3"}),Ye.jsx("p",{className:"text-sm text-white/80",children:"publicações"})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Esta Semana"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"12"}),Ye.jsx("p",{className:"text-sm text-white/80",children:"agendadas"})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-pink-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Próximo Mês"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"28"}),Ye.jsx("p",{className:"text-sm text-white/80",children:"planejadas"})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-400 rounded-xl p-4 shadow-lg",children:[Ye.jsx("h4",{className:"font-semibold text-white mb-1",children:"Rascunhos"}),Ye.jsx("p",{className:"text-2xl font-bold text-white",children:"7"}),Ye.jsx("p",{className:"text-xs text-white/80",children:"pendentes"})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Calendário de Publicações"}),Ye.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ye.jsx("h4",{className:"text-lg font-semibold text-gray-700",children:"Janeiro 2024"}),Ye.jsxs("div",{className:"flex space-x-2",children:[Ye.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:Ye.jsx(V,{className:"w-4 h-4 text-gray-600 rotate-180"})}),Ye.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:Ye.jsx(V,{className:"w-4 h-4 text-gray-600"})})]})]}),Ye.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map(e=>Ye.jsx("div",{className:"p-3 text-center text-sm font-medium text-gray-500 bg-gray-50 rounded-lg",children:e},e))}),Ye.jsx("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:35},(e,t)=>{const r=t-6,n=[2,5,8,12,15,18,22,25,28].includes(r),a=15===r;return Ye.jsx("div",{className:`\n                        min-h-[80px] p-2 border border-gray-100 rounded-lg relative cursor-pointer hover:bg-gray-50 transition-colors\n                        ${a?"bg-red-50 border-red-200":""}\n                      `,children:r>0&&r<=31&&Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("span",{className:"text-sm font-medium "+(a?"text-red-600":"text-gray-700"),children:r}),n&&Ye.jsxs("div",{className:"mt-1",children:[Ye.jsx("div",{className:"w-full bg-blue-500 text-white text-xs px-2 py-1 rounded mb-1 truncate",children:"Matéria 1"}),15===r&&Ye.jsx("div",{className:"w-full bg-green-500 text-white text-xs px-2 py-1 rounded truncate",children:"Especial"})]})]})},t)})})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Próximas Publicações"}),Ye.jsx("div",{className:"space-y-4",children:[{title:"Novo hospital será inaugurado em Parnaíba",date:"15/01/2024",time:"08:00",status:"scheduled",author:"João Silva",category:"Saúde"},{title:"Festival de inverno movimenta turismo em Pedro II",date:"15/01/2024",time:"14:30",status:"scheduled",author:"Maria Santos",category:"Turismo"},{title:"Governador visita obras da BR-343",date:"16/01/2024",time:"09:15",status:"draft",author:"Carlos Oliveira",category:"Política"}].map((e,t)=>Ye.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[Ye.jsxs("div",{className:"flex-1",children:[Ye.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:e.title}),Ye.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[Ye.jsxs("span",{className:"flex items-center space-x-1",children:[Ye.jsx(ge,{className:"w-4 h-4"}),Ye.jsxs("span",{children:[e.date," às ",e.time]})]}),Ye.jsxs("span",{className:"flex items-center space-x-1",children:[Ye.jsx(F,{className:"w-4 h-4"}),Ye.jsx("span",{children:e.author})]}),Ye.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:e.category})]})]}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+("scheduled"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"scheduled"===e.status?"Agendado":"Rascunho"}),Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Editar",children:Ye.jsx(S,{className:"w-4 h-4 text-gray-600"})}),Ye.jsx("button",{className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Excluir",children:Ye.jsx(ye,{className:"w-4 h-4 text-gray-600"})})]})]})]},t))})]})]}),"analytics"===n&&Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsx(YC,{days:30}),Ye.jsx(KC,{initialDays:30})]}),"advanced-analytics"===n&&Ye.jsx(tM,{}),"publicidade"===n&&Ye.jsx(ae,{}),"configuracoes"===n&&Ye.jsxs("div",{className:"space-y-8",children:[Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Configurações do Site"}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Site"}),Ye.jsx("input",{type:"text",defaultValue:"R10 Piauí",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),Ye.jsx("input",{type:"text",defaultValue:"Notícias do Piauí em tempo real",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{className:"lg:col-span-2",children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição do Site"}),Ye.jsx("textarea",{rows:3,defaultValue:"Portal de notícias líder no Piauí, oferecendo cobertura completa dos acontecimentos locais, regionais e nacionais.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL do Site"}),Ye.jsx("input",{type:"url",defaultValue:"https://r10piaui.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de Contato"}),Ye.jsx("input",{type:"email",defaultValue:"contato@r10piaui.com",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsxs("div",{className:"flex justify-between items-center mb-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900",children:"Gestão de Categorias"}),Ye.jsxs("button",{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(b,{className:"w-4 h-4"}),Ye.jsx("span",{children:"Nova Categoria"})]})]}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{name:"Política",color:"bg-blue-500",posts:45},{name:"Economia",color:"bg-green-500",posts:32},{name:"Esportes",color:"bg-orange-500",posts:28},{name:"Cultura",color:"bg-purple-500",posts:22},{name:"Saúde",color:"bg-red-500",posts:18},{name:"Educação",color:"bg-indigo-500",posts:15}].map((e,t)=>Ye.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl hover:shadow-md transition-shadow",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Ye.jsxs("div",{className:"flex items-center space-x-3",children:[Ye.jsx("div",{className:`w-4 h-4 rounded-full ${e.color}`}),Ye.jsx("span",{className:"font-medium text-gray-900",children:e.name})]}),Ye.jsxs("div",{className:"flex space-x-1",children:[Ye.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Ye.jsx(S,{className:"w-4 h-4 text-gray-600"})}),Ye.jsx("button",{className:"p-1 hover:bg-gray-100 rounded transition-colors",children:Ye.jsx(ye,{className:"w-4 h-4 text-gray-600"})})]})]}),Ye.jsxs("p",{className:"text-sm text-gray-600",children:[e.posts," matérias"]})]},t))})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Configurações de SEO"}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Title Padrão"}),Ye.jsx("input",{type:"text",defaultValue:"R10 Piauí - Notícias do Piauí em tempo real",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description Padrão"}),Ye.jsx("textarea",{rows:3,defaultValue:"Acompanhe as principais notícias do Piauí no R10. Cobertura completa de política, economia, esportes, cultura e muito mais.",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palavras-chave"}),Ye.jsx("input",{type:"text",defaultValue:"piauí, notícias, teresina, política, economia, esportes",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Preferências do Usuário"}),Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:"Notificações por Email"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Receber alertas sobre novas matérias e comentários"})]}),Ye.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Ye.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),Ye.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:"Auto-save"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Salvar automaticamente rascunhos durante a edição"})]}),Ye.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Ye.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),Ye.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"font-medium text-gray-900",children:"Modo Escuro"}),Ye.jsx("p",{className:"text-sm text-gray-600",children:"Usar tema escuro no dashboard"})]}),Ye.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[Ye.jsx("input",{type:"checkbox",className:"sr-only peer"}),Ye.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[Ye.jsx("h3",{className:"font-bold text-gray-900 mb-6",children:"Status do Sistema"}),Ye.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Ye.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-green-800",children:"Servidor"})]}),Ye.jsx("p",{className:"text-sm text-green-600",children:"Online"})]}),Ye.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-green-800",children:"Banco de Dados"})]}),Ye.jsx("p",{className:"text-sm text-green-600",children:"Conectado"})]}),Ye.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-green-800",children:"CDN"})]}),Ye.jsx("p",{className:"text-sm text-green-600",children:"Ativo"})]}),Ye.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[Ye.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),Ye.jsx("span",{className:"font-medium text-yellow-800",children:"Backup"})]}),Ye.jsx("p",{className:"text-sm text-yellow-600",children:"Pendente"})]})]})]}),Ye.jsx("div",{className:"flex justify-end",children:Ye.jsxs("button",{className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-8 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[Ye.jsx(xe,{className:"w-5 h-5"}),Ye.jsx("span",{children:"Salvar Configurações"})]})})]}),"categorias"===n&&ee&&Ye.jsxs("div",{className:"space-y-6",children:[Ye.jsx("div",{className:"flex items-center justify-between",children:Ye.jsxs("div",{children:[Ye.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Categorias"}),Ye.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias, subcategorias e municípios"})]})}),Ye.jsx(WC,{})]})]}),C&&Ye.jsx(VC,{banner:_,onSave:async e=>{try{const e=await ot();w(e)}finally{M(!1),I(void 0)}},onCancel:()=>{M(!1),I(void 0)}})]})})]})}},Symbol.toStringTag,{value:"Module"})),iM=({value:e,onChange:t,placeholder:r="Digite o conteúdo da matéria aqui..."})=>{const n=a.useRef(null),[i,o]=a.useState([]),[s,l]=a.useState(-1),[c,u]=a.useState(!1),[d,f]=a.useState(!1),[p,h]=a.useState(0);a.useEffect(()=>{},[]);const m=async e=>{try{const t=new FormData;t.append("image",e),f(!0),h(e=>e+1);const r=Ze()||localStorage.getItem("token"),n=r?{Authorization:`Bearer ${r}`}:{},a=await fetch("/api/upload",{method:"POST",headers:n,body:t});if(!a.ok){await a.text();throw new Error(`Upload falhou: ${a.status}`)}const i=await a.json();let o=i.imageUrl||i.url||i.relative||i.relativeUrl;if(!o)throw new Error("Nenhuma URL de imagem na resposta");return o=o.includes("?")?`${o}&t=${Date.now()}`:`${o}?t=${Date.now()}`,o}catch(t){return null}finally{h(e=>e-1),f(!1)}},g=e=>{if(!n.current)return;const t=document.createElement("img");t.src=e,t.className="max-w-full h-auto rounded-lg my-2";const r=window.getSelection();if(r&&r.rangeCount>0){r.getRangeAt(0).insertNode(t)}else n.current.appendChild(t)},y=async e=>{if(e&&0!==e.length){for(const t of Array.from(e)){if(!t.type.startsWith("image/"))continue;const e=await m(t);e&&g(e)}v()}};a.useEffect(()=>{if(n.current&&!c){const t=n.current.innerHTML,r=e||"";t!==r&&(n.current.innerHTML=r)}},[e,c]),a.useEffect(()=>{if(!n.current)return;n.current.querySelectorAll('[data-highlight="animated"]').forEach(e=>{const t=e;setTimeout(()=>{t.classList.add("animate-in-view"),t.style.backgroundSize="100% 100%"},300)})},[e]);const x=a.useCallback(e=>{const t=[...i.slice(0,s+1),{content:e,timestamp:Date.now()}];t.length>50&&t.shift(),o(t),l(t.length-1)},[i,s]),v=a.useCallback(()=>{if(!n.current||c)return;const e=n.current.innerHTML;t(e);const r=i[s],a=Date.now();(!r||e!==r.content&&(!r.timestamp||a-r.timestamp>500))&&x(e)},[t,c,i,s,x]),b=a.useCallback(e=>{if(n.current){switch(n.current.focus(),e){case"bold":document.execCommand("bold");break;case"italic":document.execCommand("italic");break;case"underline":document.execCommand("underline");break;case"h3":document.execCommand("formatBlock",!1,"h3");break;case"quote":w("blockquote","citação");break;case"list":document.execCommand("insertUnorderedList");break;case"justify-left":document.execCommand("justifyLeft");break;case"justify-center":document.execCommand("justifyCenter");break;case"justify-right":document.execCommand("justifyRight");break;case"justify-full":document.execCommand("justifyFull");break;case"highlight-simple":j("simple");break;case"highlight-animated":j("animated");break;case"info":w("div","informação importante");break;case"separator":N()}v()}},[v]),j=e=>{const t=window.getSelection();if(!t||0===t.rangeCount)return void alert("Selecione um texto para destacar");const r=t.getRangeAt(0),n=r.toString().trim();if(!n)return void alert("Selecione um texto válido");const a=document.createElement("span");"animated"===e?(a.className="highlight-animated",a.setAttribute("data-highlight","animated"),a.style.cssText="position:relative; background:linear-gradient(90deg,#FF8C42,#FF6B35); background-size:0% 100%; background-repeat:no-repeat; background-position:left center; color:#000; font-weight:600; padding:2px 4px; border-radius:4px; display:inline; -webkit-box-decoration-break:clone; box-decoration-break:clone;",a.textContent=n,r.deleteContents(),r.insertNode(a),t.removeAllRanges(),setTimeout(()=>{a.style.transition="background-size 0.8s ease-out",a.style.backgroundSize="100% 100%"},100)):(a.className="highlight-simple",a.style.cssText="background-color:#fef3c7; padding:2px 4px; border-radius:4px; display:inline;",a.textContent=n,r.deleteContents(),r.insertNode(a),t.removeAllRanges()),setTimeout(()=>v(),120)},w=(e,t)=>{const r=window.getSelection();if(!r||0===r.rangeCount)return;const n=r.getRangeAt(0),a=n.toString(),i=document.createElement(e);"blockquote"===e?(i.style.borderLeft="4px solid #3b82f6",i.style.paddingLeft="1rem",i.style.paddingTop="0.5rem",i.style.paddingBottom="0.5rem",i.style.margin="1rem 0",i.style.fontStyle="italic",i.style.backgroundColor="transparent"):"div"===e&&(i.className="bg-blue-50 border border-blue-200 rounded-lg p-3 my-2 text-blue-800");const o=a.trim()?n.extractContents():document.createTextNode(t);if(i.appendChild(o),i.contentEditable="true",n.insertNode(i),r.removeAllRanges(),!a.trim()){const e=document.createRange();e.selectNodeContents(i),r.addRange(e)}setTimeout(v,100)},N=()=>{const e=document.createElement("hr");e.className="my-4 border-gray-300";const t=window.getSelection();if(t&&t.rangeCount>0){t.getRangeAt(0).insertNode(e)}},O=a.useRef(null);return Ye.jsxs("div",{className:"rich-editor border border-gray-300 rounded-lg overflow-hidden",children:[Ye.jsxs("div",{className:"bg-gray-50 border-b border-gray-300 p-2 flex flex-wrap gap-1",children:[Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>b("bold"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Negrito",children:Ye.jsx(ve,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("italic"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Itálico",children:Ye.jsx(be,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("underline"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Sublinhado",children:Ye.jsx(je,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>b("justify-left"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Alinhar à esquerda",children:Ye.jsx(we,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("justify-center"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Centralizar",children:Ye.jsx(Ne,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("justify-right"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Alinhar à direita",children:Ye.jsx(Oe,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("justify-full"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Justificar",children:Ye.jsx(Se,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>b("h3"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Título H3",children:Ye.jsx(Ae,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("quote"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Citação",children:Ye.jsx(Pe,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("list"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Lista",children:Ye.jsx(I,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>b("highlight-simple"),className:"p-2 hover:bg-gray-200 rounded text-yellow-600",title:"Destaque Simples",children:Ye.jsx(ke,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("highlight-animated"),className:"p-2 hover:bg-gray-200 rounded text-yellow-600 animate-pulse",title:"Destaque Animado",children:Ye.jsx(Ee,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>b("info"),className:"p-2 hover:bg-gray-200 rounded text-blue-600",title:"Caixa de Informação",children:Ye.jsx(Te,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>b("separator"),className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Separador",children:Ye.jsx(Ce,{size:16})})]}),Ye.jsxs("div",{className:"flex gap-1 pr-2 border-r border-gray-300",children:[Ye.jsx("button",{type:"button",onClick:()=>{var e,t;null==(e=n.current)||e.focus(),null==(t=O.current)||t.click()},className:"p-2 hover:bg-gray-200 rounded text-emerald-600",title:"Fazer upload de imagem",children:Ye.jsx(P,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>{var e,t;const r=prompt("URL do vídeo (YouTube, etc):");if(!r)return;let n=r;if(r.includes("youtube.com/watch")){n=`https://www.youtube.com/embed/${null==(e=r.split("v=")[1])?void 0:e.split("&")[0]}`}else if(r.includes("youtu.be/")){n=`https://www.youtube.com/embed/${null==(t=r.split("youtu.be/")[1])?void 0:t.split("?")[0]}`}const a=document.createElement("iframe");a.src=n,a.className="w-full h-64 rounded-lg my-2",a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","true");const i=window.getSelection();if(i&&i.rangeCount>0){i.getRangeAt(0).insertNode(a),v()}},className:"p-2 hover:bg-gray-200 rounded text-red-600",title:"Inserir Vídeo",children:Ye.jsx(Me,{size:16})}),Ye.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files;t&&0!==t.length&&(await y(t),e.target.value="")},className:"hidden"})]}),Ye.jsxs("div",{className:"flex gap-1",children:[Ye.jsx("button",{type:"button",onClick:()=>{if(s>0){const e=s-1,r=i[e];n.current&&r&&(n.current.innerHTML=r.content,t(r.content),l(e))}},disabled:s<=0,className:"p-2 hover:bg-gray-200 rounded text-gray-700 disabled:opacity-50",title:"Desfazer",children:Ye.jsx(_e,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>{if(s<i.length-1){const e=s+1,r=i[e];n.current&&r&&(n.current.innerHTML=r.content,t(r.content),l(e))}},disabled:s>=i.length-1,className:"p-2 hover:bg-gray-200 rounded text-gray-700 disabled:opacity-50",title:"Refazer",children:Ye.jsx(Ie,{size:16})}),Ye.jsx("button",{type:"button",onClick:()=>{const e=window.getSelection();if(!e||0===e.rangeCount){if(n.current){const e=n.current.innerText||"";n.current.innerHTML=e.replace(/\n/g,"<br>"),v()}return}const t=e.getRangeAt(0);if(t.collapsed)return;const r=t.toString(),a=document.createTextNode(r);t.deleteContents(),t.insertNode(a),e.removeAllRanges(),v()},className:"p-2 hover:bg-gray-200 rounded text-gray-700",title:"Limpar Formatação",children:Ye.jsx(De,{size:16})})]})]}),Ye.jsx("div",{ref:n,contentEditable:!0,className:"min-h-[400px] p-4 focus:outline-none prose prose-lg max-w-none",style:{lineHeight:"1.6",fontSize:"16px"},onInput:v,onCompositionStart:()=>u(!0),onCompositionEnd:()=>{u(!1),v()},onPaste:e=>{var t,r,a,i,o,s;const l=null==(t=e.clipboardData)?void 0:t.items;let c=!1;if(l)for(const n of l)if("file"===n.kind){const t=n.getAsFile();if(t&&t.type.startsWith("image/")){e.preventDefault(),y({0:t,length:1,item:()=>t}),c=!0;break}}if(c)return;const u=null==(r=e.clipboardData)?void 0:r.getData("text/html"),d=null==(a=e.clipboardData)?void 0:a.getData("text/plain");if(u){e.preventDefault();const t=document.createElement("div");t.innerHTML=u;const r=new Set(["P","DIV","H1","H2","H3","H4","UL","OL","LI","BLOCKQUOTE"]),a=new Set(["STRONG","B","EM","I","U","A","SPAN"]),s=e=>{if(e.nodeType===Node.TEXT_NODE)return e;if(e.nodeType===Node.ELEMENT_NODE){const t=e,n=t.tagName.toUpperCase();if(t.hasAttribute("style")&&t.removeAttribute("style"),t.removeAttribute("color"),t.removeAttribute("face"),t.removeAttribute("size"),/font|color|size/i.test(t.className)&&t.removeAttribute("class"),"FONT"===n){const e=document.createElement("span");for(;t.firstChild;)e.appendChild(s(t.firstChild));return e}if("SPAN"===n&&!t.attributes.length){const e=document.createDocumentFragment();for(;t.firstChild;)e.appendChild(s(t.firstChild));return e}if(!r.has(n)&&!a.has(n)){const e=document.createDocumentFragment();return Array.from(t.childNodes).forEach(t=>{const r=s(t);r&&e.appendChild(r)}),e}return Array.from(t.childNodes).forEach(e=>{const r=s(e);r!==e&&(r?t.replaceChild(r,e):t.removeChild(e))}),t}return null},l=Array.from(t.childNodes).map(e=>s(e)).filter(Boolean),c=document.createDocumentFragment();l.forEach(e=>c.appendChild(e)),null==(i=c.querySelectorAll)||i.call(c,"span").forEach(e=>{var t;(null==(t=e.textContent)?void 0:t.trim())||e.remove()});const d=window.getSelection();if(d&&d.rangeCount>0){const e=d.getRangeAt(0);e.deleteContents(),e.insertNode(c),d.collapseToEnd()}else null==(o=n.current)||o.appendChild(c);v()}else if(d){e.preventDefault();const t=d.replace(/\r\n/g,"\n").split("\n"),r=document.createDocumentFragment();t.forEach(e=>{if(e.trim()){const t=document.createElement("p");t.textContent=e,r.appendChild(t)}else r.appendChild(document.createElement("br"))});const a=window.getSelection();if(a&&a.rangeCount){const e=a.getRangeAt(0);e.deleteContents(),e.insertNode(r),a.collapseToEnd()}else null==(s=n.current)||s.appendChild(r);v()}else setTimeout(v,0)},onDrop:e=>{var t;e.preventDefault(),y((null==(t=e.dataTransfer)?void 0:t.files)||null)},onDragOver:e=>{e.preventDefault()},suppressContentEditableWarning:!0,"data-placeholder":r}),d&&Ye.jsxs("div",{className:"px-4 pb-2 text-xs text-gray-500",children:["🔄 Enviando imagem",p>1?"s":""," (",p,")..."]}),Ye.jsx("style",{dangerouslySetInnerHTML:{__html:'\n        .rich-editor [contenteditable]:empty:before { content: attr(data-placeholder); color:#9ca3af; pointer-events:none; }\n        .rich-editor [contenteditable] h3 { font-size:1.5rem; font-weight:600; margin:1rem 0 .5rem; color:#1f2937; }\n        .rich-editor [contenteditable] blockquote { background-color:transparent!important; border-left:4px solid #3b82f6!important; padding:.5rem 1rem!important; margin:1rem 0!important; font-style:italic!important; }\n        .rich-editor [contenteditable] ul { padding-left:1.5rem; margin:.5rem 0; }\n        .rich-editor [contenteditable] hr { margin:1rem 0; border:none; height:1px; background-color:#d1d5db; }\n        .rich-editor [contenteditable] img { max-width:100%; height:auto; border-radius:.5rem; margin:.5rem 0; }\n        .rich-editor [contenteditable] iframe { width:100%; height:16rem; border-radius:.5rem; margin:.5rem 0; }\n        .highlight-animated, [data-highlight="animated"] { position:relative!important; background:linear-gradient(90deg,#fbbf24,#f59e0b)!important; background-size:0% 100%!important; background-repeat:no-repeat!important; background-position:left center!important; transition:background-size 2s cubic-bezier(.4,0,.2,1)!important; color:#000!important; font-weight:600!important; padding:2px 4px!important; border-radius:4px!important; display:inline!important; -webkit-box-decoration-break:clone; box-decoration-break:clone; }\n        .highlight-animated.animate-in-view,[data-highlight="animated"].animate-in-view { background-size:100% 100%!important; }\n      '}})]})},oM=({value:e,onChange:t,isValid:r})=>Ye.jsxs("div",{className:"space-y-2",children:[Ye.jsxs("div",{className:"relative",children:[Ye.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value.toUpperCase()),placeholder:"EXCLUSIVO, POLÍTICA, ECONOMIA...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm font-medium transition-all "+(r?"border-green-300 bg-green-50":e?"border-red-300 bg-red-50":"border-gray-300"),maxLength:15}),Ye.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r?Ye.jsx($,{className:"w-4 h-4 text-green-500"}):e?Ye.jsx(q,{className:"w-4 h-4 text-red-500"}):Ye.jsx(le,{className:"w-4 h-4 text-gray-400"})})]}),Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("span",{className:"text-xs "+(e.length>15?"text-red-600":"text-gray-500"),children:[e.length,"/15 caracteres"]}),!r&&e&&Ye.jsxs("div",{className:"flex items-center space-x-1 text-red-600 text-xs",children:[Ye.jsx(q,{className:"w-3 h-3"}),Ye.jsx("span",{children:"Entre 3 e 15 caracteres"})]})]})]}),sM=({title:e,content:t,tags:r,onTagsChange:n})=>{const[i,o]=a.useState(!1),[s,l]=a.useState(!1),[c,u]=a.useState([]),d=["a","o","e","é","de","do","da","em","um","para","com","não","uma","os","as","se","que","por","mais","como","mas","foi","ele","tem","à","seu","sua","ou","ser","quando","muito","há","nos","já","está","eu","também","só","pelo","pela","até","isso","ela","entre","era","depois","sem","mesmo","aos","ter","seus","suas","minha","têm","àquelas","muito","nas","me","esse","eles","estão","você","tinha","foram","essa","num","nem","suas","meu","às","minha","têm","numa","pelos","elas","havia","seja","qual","será","nós","tenho","lhe","deles","essas","esses","pelas","este","fosse","dele","tu","te","vocês","vos","lhes","meus","minhas","teu","tua","teus","tuas","nosso","nossa","nossos","nossas","dela","delas","esta","estes","estas","aquele","aquela","aqueles","aquelas","isto","aquilo","estou","está","estamos","estão","estive","esteve","estivemos","estiveram","estava","estávamos","estavam","estivera","estivéramos","esteja","estejamos","estejam","estivesse","estivéssemos","estivessem","estiver","estivermos","estiverem","hei","há","havemos","hão","houve","houvemos","houveram","houvera","houvéramos","haja","hajamos","hajam","houvesse","houvéssemos","houvessem","houver","houvermos","houverem","houverei","houverá","houveremos","houverão","houveria","houveríamos","houveriam","sou","somos","são","era","éramos","eram","fui","foi","fomos","foram","fora","fôramos","seja","sejamos","sejam","fosse","fôssemos","fossem","for","formos","forem","serei","será","seremos","serão","seria","seríamos","seriam","tenho","tem","temos","têm","tinha","tínhamos","tinham","tive","teve","tivemos","tiveram","tivera","tivéramos","tenha","tenhamos","tenham","tivesse","tivéssemos","tivessem","tiver","tivermos","tiverem","terei","terá","teremos","terão","teria","teríamos","teriam"],f=["piauí","teresina","piripiri","pedro ii","campo maior","barras","esperantina","picos","floriano","parnaíba","luzilândia","beneditinos","coivaras","demerval lobão","lagoa do piauí","miguel leão","mucajaí","nazária","palmeirais","passagem franca","regeneração","ribeiro gonçalves","santa rosa","são joão do piauí","são pedro do piauí","socorro do piauí","valença do piauí","várzea grande","altos","angical do piauí","antônio almeida","aroeiras do itaim","arribação","baixa grande do ribeiro","barra d'alcântara","batalha","belém do piauí","betânia do piauí","boa hora","bocaina","bom jesus","brejo do piauí","buriti dos lopes","buriti dos montes","cabeceiras do piauí","cajazeiras do piauí","cajueiro da praia","caldeirão grande do piauí","campinas do piauí","campo alegre do fidalgo","campo grande do piauí","campo largo do piauí","capitão de campos","capitão gervásio oliveira","caracol","caraúbas do piauí","caridade do piauí","castelo do piauí","caxingó","cocal","cocal de telha","cocal dos alves","coivaras","colônia do gurguéia","colônia do piauí","conceição do canindé","coronel josé dias","corrente","cristalândia do piauí","cristino castro","curimatá","currais","curralinhos","curral novo do piauí","dom expedito lopes","domingos mourão","dom inocêncio","elesbão veloso","eliseu martins","esperantina","fartura do piauí","flores do piauí","floresta do piauí","floriano","francinópolis","francisco ayres","francisco macedo","francisco santos","fronteiras","geminiano","gilbués","guadalupe","guaribas","hugo napoleão","ilha grande","inhuma","ipiranga do piauí","isaías coelho","itainópolis","itaueira","jacobina do piauí","jaicós","joão costa","joaquim pires","joca marques","josé de freitas","juazeiro do piauí","júlio borges","jurema","lagoa alegre","lagoa de são francisco","lagoa do barro do piauí","lagoa do piauí","lagoa do sítio","lagoinha do piauí","landri sales","luís correia","luzilândia","madeiro","manoel emídio","marcolândia","marcos parente","massapê do piauí","matias olímpio","miguel alves","miguel leão","milton brandão","monsenhor gil","monsenhor hipólito","monte alegre do piauí","morro cabeça no tempo","morro do chapéu do piauí","mucajaí","nazaré do piauí","nossa senhora de nazaré","nossa senhora dos remédios","nova santa rita","novo oriente do piauí","novo santo antônio","oeiras","olho d'água do piauí","padre marcos","paes landim","pajeú do piauí","palmeira do piauí","palmeirais","paquetá","parnaguá","parnaíba","passagem franca do piauí","patos do piauí","pau d'arco do piauí","paulistana","pavussu","pedro ii","pedro laurentino","nova santa rita","picos","pimenteiras","pio ix","piracuruca","piripiri","porto","porto alegre do piauí","prata do piauí","queimada nova","redenção do gurguéia","regeneração","ribeiro gonçalves","ribeiro gonçalves","rio grande do piauí","santa cruz do piauí","santa cruz dos milagres","santa filomena","santa luz","santana do piauí","santa rosa do piauí","santo antônio de lisboa","santo antônio dos milagres","santo inácio do piauí","são braz do piauí","são félix do piauí","são francisco de assis do piauí","são francisco do piauí","são gonçalo do gurguéia","são gonçalo do piauí","são joão da canabrava","são joão da fronteira","são joão da serra","são joão da varjota","são joão do arraial","são joão do piauí","são josé do divino","são josé do peixe","são josé do piauí","são julião","são lourenço do piauí","são luis do piauí","são miguel da baixa grande","são miguel do fidalgo","são miguel do tapuio","são pedro do piauí","são raimundo nonato","sebastião barros","sebastião leal","sigefredo pacheco","simões","simplício mendes","socorro do piauí","sussuapara","tamboril do piauí","tanque do piauí","teresina","união","uruçuí","valença do piauí","várzea branca","várzea grande","vera mendes","vila nova do piauí","wall ferraz"];return a.useEffect(()=>{e.length>10&&t.length>50&&(async()=>{o(!0),l(!0),await new Promise(e=>setTimeout(e,2e3));const r=`${e} ${t}`.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>3).filter(e=>!d.includes(e.toLowerCase())),n={};r.forEach(e=>{n[e]=(n[e]||0)+1});const a=r.filter(e=>f.includes(e.toLowerCase())),i=[];a.slice(0,3).forEach(e=>{i.includes(e)||i.push(e)}),Object.entries(n).sort(([,e],[,t])=>t-e).slice(0,5).map(([e])=>e).forEach(e=>{i.length<8&&!i.includes(e)&&i.push(e)}),u(i),o(!1)})()},[e,t]),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsx("label",{className:"block text-base font-semibold text-gray-900",children:"Tags"}),s&&Ye.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[Ye.jsx(Re,{className:"w-4 h-4 animate-pulse"}),Ye.jsx("span",{className:"text-sm font-medium",children:"IA Ativa"})]})]}),Ye.jsx("input",{type:"text",placeholder:"Digite uma tag e pressione Enter",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-sm",onKeyDown:e=>{if("Enter"===e.key&&e.currentTarget.value.trim()){e.preventDefault();const t=e.currentTarget.value.trim();r.includes(t)||n([...r,t]),e.currentTarget.value=""}}}),r.length>0&&Ye.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(e=>Ye.jsxs("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm flex items-center space-x-2",children:[Ye.jsx("span",{children:e}),Ye.jsx("button",{onClick:()=>{return t=e,void n(r.filter(e=>e!==t));var t},className:"text-red-600 hover:text-red-800",children:Ye.jsx(z,{className:"w-3 h-3"})})]},e))}),c.length>0&&Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Ye.jsx(Ee,{className:"w-4 h-4 text-blue-600"}),Ye.jsx("h4",{className:"font-semibold text-blue-900",children:"Tags Sugeridas pela IA"}),i&&Ye.jsxs("div",{className:"flex items-center space-x-1 text-blue-600",children:[Ye.jsx(le,{className:"w-3 h-3 animate-spin"}),Ye.jsx("span",{className:"text-xs",children:"Gerando..."})]})]}),Ye.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>Ye.jsxs("button",{onClick:()=>(e=>{r.includes(e)||n([...r,e])})(e),disabled:r.includes(e),className:"px-3 py-1 rounded-full text-sm transition-colors "+(r.includes(e)?"bg-green-100 text-green-800 cursor-not-allowed":"bg-blue-100 text-blue-800 hover:bg-blue-200"),children:[e,r.includes(e)&&Ye.jsx($,{className:"w-3 h-3 ml-1 inline"})]},e))})]}),Ye.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[Ye.jsxs("span",{children:[r.length," tags adicionadas"]}),Ye.jsxs("span",{children:[f.filter(e=>r.some(t=>t.toLowerCase().includes(e))).length," tags do Piauí"]})]})]})},lM=({value:e,onChange:t,content:r})=>{const[n,i]=a.useState(!1),[o,s]=a.useState(!1),[l,c]=a.useState(!1);a.useEffect(()=>{const t=e.split("\n").filter(e=>e.trim().startsWith("•"));s(t.length>=3&&t.length<=5)},[e]);const u=(e,t=80)=>{if(e.length<=t)return e;const r=e.substring(0,t),n=r.lastIndexOf(" ");if(n>.7*t)return r.substring(0,n);const a=Math.max(r.lastIndexOf("."),r.lastIndexOf("!"),r.lastIndexOf("?"),r.lastIndexOf(","));return a>.6*t?r.substring(0,a+1):r},d=()=>{const e=r.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim().split(/[.!?]/).filter(e=>e.trim().length>20).slice(0,5).map(e=>{const t=e.trim();return`• ${u(t,80)}`}).join("\n");t(e)};return Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{className:"flex items-center justify-between",children:[Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsxs("label",{className:"block text-base font-semibold text-gray-900",children:["Resumo Rápido ",Ye.jsx("span",{className:"text-blue-500",children:"⚡"})]}),r&&Ye.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().length," chars no conteúdo"]})]}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[Ye.jsx("button",{onClick:async()=>{var e,n,a;const i=r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(!r||i.length<100)t("• Conteúdo insuficiente para gerar resumo automático (mínimo 100 caracteres de texto)");else{c(!0);try{const r=await fetch("/api/ai/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:'Você é um jornalista experiente especializado em criar resumos noticiosos contextualizados e informativos.\n\nREGRAS OBRIGATÓRIAS:\n1. Crie EXATAMENTE 4 pontos-chave da notícia\n2. Cada ponto deve começar com "• " (bullet point + espaço)\n3. Cada frase deve ter entre 60-80 caracteres\n4. Use linguagem jornalística profissional e direta\n5. Mantenha o CONTEXTO COMPLETO: quem, o quê, quando, onde, por quê\n6. NÃO fragmente informações: cada ponto deve fazer sentido sozinho\n7. NÃO use títulos como "Tópico 1", "Item 1", etc.\n8. NÃO use formatação markdown (**, __, etc.)\n9. Priorize informações mais relevantes nos primeiros pontos\n\nFORMATO ESPERADO:\n• [Frase completa com contexto sobre o fato principal]\n• [Frase completa com contexto sobre desdobramento importante]\n• [Frase completa com contexto sobre impacto ou consequência]\n• [Frase completa com contexto sobre próximos passos ou conclusão]\n\nEXEMPLO BOM:\n• O R10 Piauí transmitiu ao vivo o Festejo de Nossa Senhora dos Remédios em Piripiri\n• A transmissão ocorreu durante 12 dias consecutivos, de 5 a 16 de outubro de 2024\n• Milhares de devotos acompanharam as celebrações religiosas pela plataforma digital\n• A iniciativa democratizou o acesso ao festejo para quem não pôde comparecer presencialmente\n\nEXEMPLO RUIM (fragmentado, sem contexto):\n• Acompanhei todas as noites e me emocionei muito\n• O R10 Piauí encerrou com sucesso na quinta-feira\n• Durante 12 dias consecutivos de 5 a 16 de outubro\n• A iniciativa possibilitou que devotos de Piripiri'},{role:"user",content:`Crie um resumo noticioso contextualizado e inteligente com 4 pontos-chave desta matéria:\n\n${i}`}],max_tokens:300,temperature:.5})});if(!r.ok)throw new Error(`Erro na API: ${r.status}`);{const i=null==(a=null==(n=null==(e=(await r.json()).choices[0])?void 0:e.message)?void 0:n.content)?void 0:a.trim();if(!i)throw new Error("Resposta da IA vazia");{const e=i.split("\n").filter(e=>e.trim()).map(e=>{const t=e.trim().replace(/^\*\*/g,"").replace(/\*\*$/g,"").replace(/^\*/g,"").replace(/^-/g,"").replace(/^Tópico \d+:/gi,"").replace(/^\d+\./g,"").trim();return t.startsWith("•")?t:`• ${t}`}).join("\n");t(e)}}}catch(o){d()}finally{c(!1)}}},disabled:l||!r||r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().length<100,className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed text-blue-700 disabled:text-gray-500 rounded-md text-sm transition-colors",title:r&&r.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().length<100?"Mínimo 100 caracteres de texto":"Gerar resumo com IA",children:l?Ye.jsxs(Ye.Fragment,{children:[Ye.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-700"}),Ye.jsx("span",{children:"Gerando..."})]}):Ye.jsxs(Ye.Fragment,{children:[Ye.jsx(le,{className:"w-3 h-3"}),Ye.jsx("span",{children:"Gerar com IA"})]})}),Ye.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-1 px-3 py-1 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm transition-colors",children:[Ye.jsx(O,{className:"w-3 h-3"}),Ye.jsx("span",{children:n?"Ocultar":"Preview"})]})]})]}),Ye.jsxs("div",{className:"space-y-3",children:[Ye.jsx("textarea",{value:e,onChange:e=>{const r=e.target.value.split("\n").map(e=>{if(e.trim().startsWith("•")){const t=e.substring(1).trim();return`• ${u(t,80)}`}return e});t(r.join("\n"))},placeholder:"Digite os pontos principais da matéria...\r\n\r\nExemplo:\r\n• Governador anuncia investimento de R$ 50 milhões\r\n• Projeto beneficiará 12 municípios da região\r\n• Obras devem começar em março de 2025\r\n• Expectativa de gerar 500 empregos diretos",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-24 resize-none text-sm "+(o?"border-green-300 bg-green-50":e?"border-orange-300 bg-orange-50":"border-gray-300")}),Ye.jsxs("div",{className:"flex items-center space-x-2",children:[o?Ye.jsx($,{className:"w-4 h-4 text-green-500"}):e?Ye.jsx(q,{className:"w-4 h-4 text-orange-500"}):Ye.jsx(B,{className:"w-4 h-4 text-gray-400"}),Ye.jsx("span",{className:"text-sm "+(o?"text-green-600":e?"text-orange-600":"text-gray-500"),children:o?"Resumo válido! Aparecerá no topo da matéria":e?"Adicione mais pontos (mínimo 3, máximo 5)":"Resumo aparecerá no topo da matéria para leitores apressados"})]}),Ye.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[Ye.jsxs("span",{children:[e.split("\n").filter(e=>e.trim().startsWith("•")).length," pontos"]}),Ye.jsxs("span",{children:["~",Math.ceil(e.length/200)," min de leitura"]})]})]}),n&&e&&Ye.jsx("div",{className:"mt-4",children:(()=>{const t=e.split("\n").filter(e=>e.trim().startsWith("•"));return Ye.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[Ye.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[Ye.jsx(B,{className:"w-5 h-5 text-blue-600"}),Ye.jsx("h4",{className:"font-semibold text-blue-900",children:"Resumo Rápido"}),Ye.jsx("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full",children:"Para leitores apressados"})]}),Ye.jsx("div",{className:"space-y-2",children:t.map((e,t)=>Ye.jsxs("div",{className:"flex items-start space-x-2",children:[Ye.jsx("span",{className:"text-blue-600 font-bold mt-1",children:"•"}),Ye.jsx("p",{className:"text-blue-900 text-sm leading-relaxed",children:e.substring(1).trim()})]},t))}),Ye.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:Ye.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-700",children:[Ye.jsxs("span",{children:["Tempo de leitura: ~",Math.ceil(.5*t.length)," min"]}),Ye.jsxs("span",{children:[t.length," pontos principais"]})]})})]})})()})]})},cM=5,uM=e=>{if(!e)return"geral";const t=String(e).toLowerCase().trim();return"supermanchete"===t||t.includes("super")||t.includes("manchete")?"supermanchete":"destaque"===t||t.includes("destaque")?"destaque":"geral"},dM=async(e,t)=>{try{const n=await vt(),a=Array.isArray(n)?n:Array.isArray(null==n?void 0:n.posts)?n.posts:[],i=uM(String(t)),o=String(e),s=a.filter(e=>String(e.id)!==o),l=s.filter(e=>"supermanchete"===uM(e.posicao)),c=s.filter(e=>"destaque"===uM(e.posicao)),u=[];if("supermanchete"===i){if(l.length>0){const e=l[0];u.push({id:e.id,posicao:"destaque"})}if(c.length>=cM){const e=c.sort((e,t)=>new Date(e.dataPublicacao||0).getTime()-new Date(t.dataPublicacao||0).getTime())[0];u.push({id:e.id,posicao:"geral"})}}else if("destaque"===i&&c.length>=cM){const e=c.sort((e,t)=>new Date(e.dataPublicacao||0).getTime()-new Date(t.dataPublicacao||0).getTime())[0];u.push({id:e.id,posicao:"geral"})}for(const e of u)try{await wt(e.id,{posicao:e.posicao})}catch(r){}}catch(r){throw r}};function fM(e){const t=["o","a","os","as","um","uma","uns","umas","de","da","do","das","dos","em","na","no","nas","nos","para","com","por","sobre","entre","sem","até","após","antes","durante","e","ou","mas","que","se","quando","onde","como","porque","então","já","ainda","mais","menos","muito","pouco","todo","toda","todos","todas","este","esta","estes","estas","esse","essa","esses","essas","aquele","aquela","aqueles","aquelas"];return e.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(e=>e.length>2&&!t.includes(e)).map(e=>e.trim())}function pM(e,t){return e.filter(e=>!t.some(t=>function(e,t){const r=fM(e),n=fM(t);return r.some(e=>n.includes(e))}(e,t)))}async function hM(e){try{return await async function(e){var t,r;try{const n=await fetch("/api/ai/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:"Você é um especialista em jornalismo brasileiro. Responda sempre em português, seja direto e objetivo."},{role:"user",content:e}],max_tokens:300,temperature:.7})});if(!n.ok){const e=await n.text();throw new Error(`Erro na API Groq: ${n.status} - ${e}`)}return(null==(r=null==(t=(await n.json()).choices[0])?void 0:t.message)?void 0:r.content)||""}catch(n){throw n}}(e)}catch(t){return function(e){const t=e.toLowerCase();if(t.includes("título"))return"Título Sugerido\nNovo Desenvolvimento\nÚltimas Notícias";if(t.includes("subtítulo"))return"Entenda os principais detalhes\nConfira as informações completas\nSaiba mais sobre o assunto";if(t.includes("chapéu"))return"NOTÍCIAS\nATUALIDADES\nDESTAQUE";return"Sugestão gerada localmente"}(e)}}const mM=HC||{addToQueue:()=>{},removeFromQueue:()=>{}},gM=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const e=i(),{user:t}=Ct(),{id:r}=f(),[n,s]=a.useState(!1),[l,c]=a.useState(0),[u,d]=a.useState(["editoriais"]),[p,h]=a.useState(["geral"]),[m,x]=a.useState(!1),[b,j]=a.useState(!1),[S,A]=a.useState(!1),[P,k]=a.useState(null),[E,T]=a.useState(null),[C,M]=a.useState(null),[_,I]=a.useState(!1),[D,R]=a.useState({titulos:[],subtitulos:[],chapeus:[]}),[L,U]=a.useState({categoria:"geral",subcategoria:"geral",municipio:"",titulo:"",subtitulo:"",autor:(null==t?void 0:t.name)||"",fonte:"","chapéu":"",resumo:"",conteudo:"",imagemDestaque:null,posicao:"geral",agendamento:null,tags:[],whatsappAuto:!0,pushAuto:!0,igCardAuto:!1,audioAuto:!1}),[F,G]=a.useState("geral");a.useEffect(()=>{if((L.titulo||L.conteudo)&&!r&&!S){s(!0);const e=setTimeout(()=>{s(!1),te()},8e3);return()=>clearTimeout(e)}},[L.titulo,L.conteudo,L.subtitulo,L.resumo,r,S]),a.useEffect(()=>{c(L.conteudo.split(" ").filter(e=>e).length)},[L.conteudo]);const V={editoriais:{nome:"Editoriais",icon:g,subcategorias:[{value:"policia",label:"Polícia"},{value:"politica",label:"Política"},{value:"esporte",label:"Esporte"},{value:"entretenimento",label:"Entretenimento"},{value:"geral",label:"Geral"}]},municipios:{nome:"Municípios",icon:$e,subcategorias:[{value:"piripiri",label:"Piripiri"},{value:"pedro-ii",label:"Pedro II"},{value:"brasileira",label:"Brasileira"},{value:"lagoa-de-sao-francisco",label:"Lagoa de São Francisco"},{value:"piracuruca",label:"Piracuruca"},{value:"sao-jose-do-divino",label:"São José do Divino"},{value:"domingos-mourao",label:"Domingos Mourão"},{value:"capitao-de-campos",label:"Capitão de Campos"},{value:"cocal-de-telha",label:"Cocal de Telha"},{value:"milton-brandao",label:"Milton Brandão"},{value:"teresina",label:"Teresina"},{value:"boa-hora",label:"Boa Hora"}]},especiais:{nome:"Especiais",icon:ie,subcategorias:[{value:"investigacao",label:"Investigação"},{value:"series-especiais",label:"Séries Especiais"},{value:"entrevistas",label:"Entrevistas"},{value:"grandes-reportagens",label:"Grandes Reportagens"},{value:"documentarios",label:"Documentários"}]}};a.useEffect(()=>{(async()=>{if(r){A(!0);try{const e=await bt(r);if(e){M(r);const t=e.posicao||"geral";G(t);const n=e.categoria||"geral";U(r=>({...r,categoria:n,subcategoria:n,titulo:e.titulo,subtitulo:e.subtitulo||"",autor:e.autor,"chapéu":e.chapeu||"",resumo:e.resumo||"",conteudo:e.conteudo,imagemDestaque:e.imagemUrl||null,posicao:t})),h([n]);const a=Object.entries(V).find(([e,t])=>t.subcategorias.some(e=>e.value===n));a&&d([a[0]])}}catch(e){k("Erro ao carregar")}finally{A(!1)}}})()},[r]);const W=[{value:"supermanchete",label:"Super Manchete",icon:ie},{value:"destaque",label:"Destaque",icon:X},{value:"geral",label:"Geral",icon:g},{value:"municipios",label:"Municípios",icon:$e}],H=L.titulo&&L.conteudo&&L.autor&&p.length>0,K=m||b,Y=(e,t)=>{U(r=>({...r,[e]:t})),"igCardAuto"===e&&!0===t&&L.titulo&&mM.addToQueue(C||`draft_${Date.now()}`,L.titulo,L.chapéu),"igCardAuto"===e&&!1===t&&C&&mM.removeFromQueue(C)},Q=()=>p.some(e=>["policia","politica","esporte","entretenimento","geral"].includes(e))?p.includes("policia")?"policia":p.includes("politica")?"politica":p.includes("esporte")?"esporte":p.includes("entretenimento")?"entretenimento":"geral":p.some(e=>["piripiri","pedro-ii","brasileira","lagoa-de-sao-francisco","piracuruca","sao-jose-do-divino","domingos-mourao","capitao-de-campos","cocal-de-telha","milton-brandao","teresina","boa-hora"].includes(e))?"municipios":p.some(e=>["investigacao","series-especiais","entrevistas","grandes-reportagens","documentarios"].includes(e))?"especiais":"geral",Z=e=>({id:C||void 0,titulo:L.titulo,subtitulo:L.subtitulo,autor:L.autor,conteudo:L.conteudo,chapeu:L.chapéu,categoria:e,posicao:L.posicao,dataPublicacao:(new Date).toISOString(),imagemUrl:L.imagemDestaque}),ee=e=>{T(e),setTimeout(()=>T(null),2500)},te=async()=>{if(L.titulo)try{x(!0),k(null);const e=Q(),t=Z(e),r=C?await wt(C,t):await jt(t);C||M(r.id);L.posicao!==F&&["supermanchete","destaque"].includes(L.posicao)&&await dM(r.id,L.posicao),ee("Rascunho salvo!")}catch(e){k("Erro ao salvar.")}finally{x(!1)}},re=async()=>{if(H){await(async()=>{if(L.imagemDestaque&&L.imagemDestaque.startsWith("data:"))try{const e=await(await fetch(L.imagemDestaque)).blob(),t=new File([e],"capa-auto.png",{type:e.type||"image/png"}),r=new FormData;r.append("image",t),j(!0);const n=Ze()||localStorage.getItem("token"),a=n?{Authorization:`Bearer ${n}`}:{},i=await fetch("/api/upload",{method:"POST",headers:a,body:r});if(i.ok){const e=await i.json();let t=e.imageUrl||e.relativeUrl||e.relative||e.url;t=t.includes("?")?`${t}&t=${Date.now()}`:`${t}?t=${Date.now()}`,Y("imagemDestaque",t)}}catch(e){}finally{j(!1)}})();try{x(!0),k(null);const t=Q(),r=Z(t),n=C?await wt(C,r):await jt(r);L.posicao!==F&&["supermanchete","destaque"].includes(L.posicao)&&await dM(n.id,L.posicao),ee("Publicado!"),setTimeout(()=>e("/admin/materias"),1200)}catch(t){k("Erro ao publicar.")}finally{x(!1)}}},ne=e=>{const t=document.createElement("div");return t.innerHTML=e||"",t.querySelectorAll("p,br,div,h1,h2,h3,h4").forEach(e=>{if("BR"===e.tagName)e.replaceWith("\n");else{const t=e.textContent||"";t.trim()&&e.replaceWith(t+"\n")}}),(t.textContent||"").trim()},ae=(e,t)=>{Y(e,t),setTimeout(()=>R({titulos:[],subtitulos:[],chapeus:[]}),1500)};return S?Ye.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Ye.jsx("p",{children:"Carregando..."})}):Ye.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 font-body",children:[Ye.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:Ye.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between",children:[Ye.jsxs("div",{className:"flex items-center gap-3",children:[Ye.jsx(o,{to:"/admin?tab=materias",className:"text-gray-600 hover:text-gray-900",children:Ye.jsx(Le,{className:"w-5 h-5"})}),Ye.jsx("h1",{className:"text-lg font-bold",children:r?"Editando Matéria":"Nova Matéria"})]}),Ye.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[n&&Ye.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[Ye.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"Salvando..."]}),m&&Ye.jsxs("span",{className:"text-blue-600 flex items-center gap-1",children:[Ye.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),"Processando..."]}),E&&Ye.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[Ye.jsx($,{className:"w-3 h-3"}),E]}),P&&Ye.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[Ye.jsx(q,{className:"w-3 h-3"}),P]}),Ye.jsxs("button",{onClick:async()=>{try{if(!L.conteudo||L.conteudo.length<100)return void k("Mínimo 100 caracteres para IA");const e=ne(L.conteudo);if(e.length<100)return void k("Texto insuficiente");I(!0),k(null);const t=await async function(e,t=75,r,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- NUNCA invente informações que não estão no texto\n- Use APENAS os fatos presentes no conteúdo fornecido\n- NÃO adicione detalhes, números ou nomes que não existem no texto original\n- Seja factual e preciso, sem especulação\n- IMPORTANTE: Use palavras DIFERENTES do subtítulo e chapéu existentes\n\n${r?`SUBTÍTULO EXISTENTE: "${r}" - NÃO repita estas palavras`:""}\n${n?`CHAPÉU EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nBaseado ESTRITAMENTE no seguinte conteúdo jornalístico, gere 3 títulos informativos.\nCada título deve ter no máximo ${t} caracteres.\nUse APENAS as informações que estão explicitamente no texto.\nUse palavras COMPLEMENTARES, não repetitivas.\n\nConteúdo:\n${e.substring(0,1e3)}\n\nResponda apenas com os 3 títulos, um por linha, sem numeração:\n`;try{let e=(await hM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().substring(0,t));const i=[r,n].filter(Boolean);if(i.length>0){const t=pM(e,i);t.length>0&&(e=t)}return e}catch(P){const n=function(e,t){const r=e.split(".")[0].split(" ").slice(0,8);return[r.slice(0,6).join(" "),`Novo: ${r.slice(1,6).join(" ")}`,`${r.slice(0,5).join(" ")} em destaque`].map(e=>e.length>t?e.substring(0,t-3)+"...":e)}(e,t);return n}}(e,75,L.subtitulo,L.chapéu),r=await async function(e,t,r=120,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- NUNCA invente informações que não estão no texto\n- Use APENAS os fatos presentes no conteúdo fornecido\n- NÃO adicione detalhes, números ou nomes que não existem no texto original\n- Seja factual e preciso, complementando o título sem especular\n- IMPORTANTE: Use palavras DIFERENTES do título e chapéu existentes\n\nTÍTULO EXISTENTE: "${t}" - NÃO repita estas palavras\n${n?`CHAPÉU EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nPara o título "${t}", gere 3 subtítulos jornalísticos que complementem a informação.\nCada subtítulo deve ter no máximo ${r} caracteres.\nUse APENAS as informações que estão explicitamente no conteúdo abaixo.\nUse palavras COMPLEMENTARES ao título, não repetitivas.\n\nConteúdo:\n${e.substring(0,1e3)}\n\nResponda apenas com os 3 subtítulos, um por linha, sem numeração:\n`;try{let e=(await hM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().substring(0,r));const i=pM(e,[t,n].filter(Boolean));return i.length>0&&(e=i),e}catch(P){return function(e,t,r){return[`Entenda os detalhes sobre ${e.split(" ").slice(0,10).slice(0,4).join(" ").toLowerCase()}`,"Confira as principais informações do caso","Saiba mais sobre os desdobramentos"].map(e=>e.length>r?e.substring(0,r-3)+"...":e)}(e,0,r)}}(e,L.titulo,120,L.chapéu),n=await async function(e,t=20,r,n){const a=`\nINSTRUÇÕES CRÍTICAS PARA JORNALISMO:\n- Analise APENAS o conteúdo fornecido\n- NÃO invente palavras que não se relacionam ao texto\n- Chapéu é uma CHAMADA ou PALAVRA-CHAVE sobre o assunto principal\n- IMPORTANTE: Use palavras DIFERENTES do título e subtítulo existentes\n\n${r?`TÍTULO EXISTENTE: "${r}" - NÃO repita estas palavras`:""}\n${n?`SUBTÍTULO EXISTENTE: "${n}" - NÃO repita estas palavras`:""}\n\nBaseado ESTRITAMENTE no conteúdo jornalístico abaixo, gere 3 opções de chapéu.\nCHAPÉU = palavra ou duas palavras que resumem o ASSUNTO PRINCIPAL da matéria.\nCada chapéu deve ter no máximo ${t} caracteres.\nUse palavras COMPLEMENTARES ao título e subtítulo, não repetitivas.\n\nExemplos de bons chapéus:\n- "EDUCAÇÃO" (para matéria sobre escolas)\n- "TRÂNSITO" (para matéria sobre vias)\n- "SAÚDE" (para matéria sobre hospitais)\n- "OBRAS" (para matéria sobre construções)\n- "ELEIÇÕES" (para matéria sobre política eleitoral)\n\nConteúdo:\n${e.substring(0,800)}\n\nResponda apenas com os 3 chapéus em MAIÚSCULAS, um por linha, sem numeração:\n`;try{let e=(await hM(a)).split("\n").filter(e=>e.trim()).slice(0,3).map(e=>e.trim().toUpperCase().substring(0,t));const i=[r,n].filter(Boolean);if(i.length>0){const t=pM(e,i);t.length>0&&(e=t)}return e}catch(P){return function(e){const t=e.toLowerCase();return t.includes("prefeito")||t.includes("prefeitura")||t.includes("governo municipal")?["PREFEITURA","GOVERNO","GESTÃO"]:t.includes("escola")||t.includes("educação")||t.includes("professor")?["EDUCAÇÃO","ENSINO","ESCOLA"]:t.includes("hospital")||t.includes("saúde")||t.includes("médico")?["SAÚDE","MEDICINA","HOSPITAL"]:t.includes("obra")||t.includes("construção")||t.includes("pavimentação")?["OBRAS","INFRAESTRUTURA","CONSTRUÇÃO"]:t.includes("polícia")||t.includes("crime")||t.includes("segurança")?["SEGURANÇA","POLÍCIA","CRIME"]:t.includes("eleição")||t.includes("candidato")||t.includes("voto")?["ELEIÇÕES","POLÍTICA","CANDIDATOS"]:t.includes("trânsito")||t.includes("rua")||t.includes("avenida")?["TRÂNSITO","VIAS","MOBILIDADE"]:["NOTÍCIAS","CIDADE","COMUNIDADE"]}(e)}}(e,20,L.titulo,L.subtitulo);R({titulos:t,subtitulos:r,chapeus:n}),ee("Sugestões geradas!")}catch(e){k("Erro IA")}finally{I(!1)}},disabled:_||!L.conteudo||ne(L.conteudo).length<100,className:"px-3 py-1.5 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-full flex items-center gap-2 disabled:opacity-50",children:[_?Ye.jsx(v,{className:"w-3 h-3 animate-spin"}):Ye.jsx(Ee,{className:"w-3 h-3"}),"IA"]}),Ye.jsxs("button",{onClick:te,className:"px-3 py-1.5 border border-gray-300 rounded flex items-center gap-1",children:[Ye.jsx(J,{className:"w-3 h-3"}),"Salvar"]}),Ye.jsxs("button",{onClick:re,disabled:!H||K,className:"px-4 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded flex items-center gap-1 disabled:bg-gray-400",children:[Ye.jsx(ze,{className:"w-3 h-3"}),"Publicar"]})]})]})}),Ye.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[Ye.jsx("div",{className:"mb-4",children:Ye.jsxs("details",{className:"bg-white rounded-lg border",open:!r,children:[Ye.jsxs("summary",{className:"px-4 py-3 cursor-pointer font-medium flex items-center justify-between",children:[Ye.jsxs("span",{className:"flex items-center gap-2",children:[Ye.jsx(Be,{className:"w-4 h-4 text-blue-500"}),"Categorização"]}),Ye.jsxs("span",{className:"text-xs text-gray-500",children:[p.length," selecionada(s)"]})]}),Ye.jsx("div",{className:"px-4 pb-4 space-y-3",children:Ye.jsxs("div",{children:[Ye.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Object.entries(V).map(([e,t])=>Ye.jsxs("button",{onClick:()=>{return t=e,d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"px-3 py-1.5 rounded-full border text-xs "+(u.includes(e)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-blue-300 bg-white"),children:[Ye.jsx(t.icon,{className:"w-3 h-3"}),t.nome]},e))}),Ye.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(e=>{const t=V[e];return Ye.jsxs("div",{className:"space-y-2",children:[Ye.jsxs("h4",{className:"text-sm font-medium flex items-center gap-1",children:[Ye.jsx(t.icon,{className:"w-3 h-3"}),t.nome]}),Ye.jsx("div",{className:"space-y-1",children:t.subcategorias.map(t=>Ye.jsx("button",{onClick:()=>{return r=t.value,n=e,void h(e=>{const t=V[n].subcategorias.map(e=>e.value),a=e.filter(e=>!t.includes(e));return e.includes(r)?a:[...a,r]});var r,n},className:"w-full text-left px-3 py-1.5 rounded text-xs "+(p.includes(t.value)?"bg-green-100 text-green-800 border border-green-300":"bg-gray-50 hover:bg-green-50"),children:t.label},t.value))})]},e)})})]})})]})}),Ye.jsx("div",{className:"bg-white rounded-lg border p-3 mb-4",children:Ye.jsxs("div",{className:"flex items-center justify-between text-xs",children:[Ye.jsxs("div",{className:"flex items-center gap-2 "+(L.chapéu&&L.titulo?"text-green-600":"text-gray-400"),children:[Ye.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+(L.chapéu&&L.titulo?"bg-green-100":"bg-gray-100"),children:L.chapéu&&L.titulo?Ye.jsx($,{className:"w-4 h-4"}):"1"}),Ye.jsx("span",{className:"font-medium",children:"Informações Básicas"})]}),Ye.jsxs("div",{className:"flex items-center gap-2 "+(L.conteudo&&L.imagemDestaque?"text-green-600":"text-gray-400"),children:[Ye.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+(L.conteudo&&L.imagemDestaque?"bg-green-100":"bg-gray-100"),children:L.conteudo&&L.imagemDestaque?Ye.jsx($,{className:"w-4 h-4"}):"2"}),Ye.jsx("span",{className:"font-medium",children:"Conteúdo"})]}),Ye.jsxs("div",{className:"flex items-center gap-2 "+(p.length>0?"text-green-600":"text-gray-400"),children:[Ye.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+(p.length>0?"bg-green-100":"bg-gray-100"),children:p.length>0?Ye.jsx($,{className:"w-4 h-4"}):"3"}),Ye.jsx("span",{className:"font-medium",children:"Configurações"})]})]})}),Ye.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[Ye.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[Ye.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200 p-5 shadow-sm",children:[Ye.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Ye.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:Ye.jsx(g,{className:"w-5 h-5 text-white"})}),Ye.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"1. Informações Básicas"})]}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium mb-1",children:"Chapéu *"}),Ye.jsx(oM,{value:L.chapéu,onChange:e=>Y("chapéu",e),isValid:L.chapéu.length>=3&&L.chapéu.length<=15}),D.chapeus.length>0&&Ye.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded border",children:[Ye.jsxs("div",{className:"text-xs font-medium text-green-800 mb-2 flex items-center gap-1",children:[Ye.jsx(Ee,{className:"w-3 h-3"}),"Chapéus"]}),Ye.jsx("div",{className:"flex flex-wrap gap-1",children:D.chapeus.map((e,t)=>Ye.jsx("button",{onClick:()=>ae("chapéu",e),className:"px-2 py-1 bg-white rounded border hover:border-green-300 text-xs",children:e},t))})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium mb-2",children:"Título *"}),Ye.jsx("input",{value:L.titulo,onChange:e=>Y("titulo",e.target.value),maxLength:80,className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"}),Ye.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[Ye.jsxs("span",{children:["r10piaui.com.br/",(oe=L.titulo,oe.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g,"-")||"titulo-da-materia")]}),Ye.jsxs("span",{children:[L.titulo.length,"/80"]})]}),D.titulos.length>0&&Ye.jsxs("div",{className:"mt-2 p-2 bg-purple-50 rounded border",children:[Ye.jsxs("div",{className:"text-xs font-medium text-purple-800 mb-2 flex items-center gap-1",children:[Ye.jsx(Ee,{className:"w-3 h-3"}),"Sugestões"]}),Ye.jsx("div",{className:"space-y-1",children:D.titulos.map((e,t)=>Ye.jsx("button",{onClick:()=>ae("titulo",e),className:"w-full text-left p-2 bg-white rounded border hover:border-purple-300 text-sm",children:e},t))})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subtítulo *"}),Ye.jsx("input",{value:L.subtitulo,onChange:e=>Y("subtitulo",e.target.value),maxLength:120,className:"w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"}),Ye.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[Ye.jsx("span",{children:"Complementa o título"}),Ye.jsxs("span",{children:[L.subtitulo.length,"/120"]})]}),D.subtitulos.length>0&&Ye.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border",children:[Ye.jsxs("div",{className:"text-xs font-medium text-blue-800 mb-2 flex items-center gap-1",children:[Ye.jsx(Ee,{className:"w-3 h-3"}),"Sugestões"]}),Ye.jsx("div",{className:"space-y-1",children:D.subtitulos.map((e,t)=>Ye.jsx("button",{onClick:()=>ae("subtitulo",e),className:"w-full text-left p-2 bg-white rounded border hover:border-blue-300 text-sm",children:e},t))})]})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-5 hover:border-purple-400 transition-all",children:[Ye.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[Ye.jsx(N,{className:"w-4 h-4 text-purple-500"}),"Imagem de Destaque *"]}),Ye.jsxs("div",{className:"cursor-pointer",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},children:[L.imagemDestaque?Ye.jsxs("div",{className:"relative group",children:[Ye.jsx("img",{src:L.imagemDestaque,alt:"Preview",className:"w-full h-64 object-cover rounded-lg"}),Ye.jsx("button",{onClick:e=>{e.stopPropagation(),Y("imagemDestaque",null)},className:"absolute top-2 right-2 p-2 bg-red-500 hover:bg-red-600 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:Ye.jsx(z,{className:"w-4 h-4"})}),Ye.jsx("div",{className:"absolute bottom-2 left-2 px-3 py-1 bg-black/70 text-white text-xs rounded-full",children:"✓ Imagem carregada"})]}):Ye.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-purple-400 hover:bg-purple-50/50 transition-all",children:[Ye.jsx(N,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),Ye.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Clique ou arraste para enviar"}),Ye.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG ou WebP (máx. 5MB)"})]}),Ye.jsx("input",{id:"image-upload",type:"file",className:"hidden",accept:"image/*",onChange:async e=>{var t;const r=null==(t=e.target.files)?void 0:t[0];if(!r)return;j(!0);const n=new FormData;n.append("image",r);const a=Ze()||localStorage.getItem("token"),i=a?{Authorization:`Bearer ${a}`}:{};try{const e=await fetch("/api/upload",{method:"POST",headers:i,body:n}),t=await e.text();let r;try{r=JSON.parse(t)}catch(o){throw new Error("Resposta não é JSON válido")}if(e.ok&&r.imageUrl){let e=r.imageUrl.includes("?")?`${r.imageUrl}&t=${Date.now()}`:`${r.imageUrl}?t=${Date.now()}`;Y("imagemDestaque",e),ee("Imagem enviada!")}else k("Falha no upload")}catch(s){k("Erro ao enviar imagem")}finally{j(!1)}}})]}),b&&Ye.jsxs("p",{className:"text-sm text-blue-600 mt-3 flex items-center gap-2 animate-pulse",children:[Ye.jsx(v,{className:"w-4 h-4 animate-spin"}),"Enviando imagem..."]})]}),Ye.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border-2 border-green-200 p-5 shadow-sm",children:[Ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[Ye.jsxs("div",{className:"flex items-center gap-2",children:[Ye.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:Ye.jsx(g,{className:"w-5 h-5 text-white"})}),Ye.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"2. Conteúdo da Matéria"})]}),Ye.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[Ye.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[Ye.jsx(g,{className:"w-4 h-4"}),Ye.jsxs("span",{className:"font-medium",children:[l," palavras"]})]}),Ye.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[Ye.jsx(B,{className:"w-4 h-4"}),Ye.jsxs("span",{children:["~",Math.ceil(l/200)," min"]})]}),Ye.jsxs("div",{className:"text-gray-600",children:[L.conteudo.replace(/<[^>]*>/g,"").length," chars"]})]})]}),Ye.jsx("div",{className:"bg-white rounded-lg p-1",children:Ye.jsx(iM,{value:L.conteudo,onChange:e=>Y("conteudo",e),placeholder:"Digite o conteúdo da matéria aqui..."})}),n&&Ye.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-green-600",children:[Ye.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),Ye.jsx("span",{children:"Salvamento automático ativo (a cada 8s)"})]})]})]}),Ye.jsxs("div",{className:"space-y-4",children:[Ye.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200 p-4 shadow-sm",children:[Ye.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[Ye.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:Ye.jsx(ie,{className:"w-5 h-5 text-white"})}),Ye.jsx("h2",{className:"text-base font-bold text-gray-800",children:"3. Configurações"})]}),Ye.jsxs("div",{className:"space-y-3",children:[Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Autor *"}),Ye.jsxs("select",{value:L.autor,onChange:e=>Y("autor",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm bg-white",children:[Ye.jsx("option",{value:(null==t?void 0:t.name)||"",children:(null==t?void 0:t.name)||"Selecione"}),Ye.jsx("option",{value:"Redação R10 Piauí",children:"Redação R10 Piauí"})]})]}),Ye.jsxs("div",{children:[Ye.jsx("label",{className:"block text-xs font-medium mb-1.5",children:"Posição na Home"}),Ye.jsx("select",{value:L.posicao,onChange:e=>Y("posicao",e.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm bg-white",children:W.map(e=>Ye.jsx("option",{value:e.value,children:e.label},e.value))})]})]})]}),Ye.jsxs("div",{className:"bg-white rounded-lg border-2 border-blue-200 p-4",children:[Ye.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[Ye.jsx(O,{className:"w-4 h-4 text-blue-500"}),"Resumo Rápido"]}),Ye.jsx(lM,{value:L.resumo,onChange:e=>Y("resumo",e),content:L.conteudo})]}),Ye.jsx("div",{className:"bg-white rounded-lg border p-4",children:Ye.jsxs("details",{children:[Ye.jsxs("summary",{className:"cursor-pointer flex items-center gap-2 font-medium text-sm",children:[Ye.jsx(le,{className:"w-4 h-4 text-purple-500"}),"Recursos Avançados"]}),Ye.jsxs("div",{className:"mt-3 space-y-4",children:[Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"text-sm font-medium mb-2",children:"Tags com IA"}),Ye.jsx(sM,{title:L.titulo,content:L.conteudo,tags:L.tags,onTagsChange:e=>Y("tags",e)})]}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"text-sm font-medium mb-2",children:"Agendamento"}),Ye.jsx("input",{type:"datetime-local",value:L.agendamento||"",onChange:e=>Y("agendamento",e.target.value),className:"w-full px-3 py-2 border rounded text-sm"}),L.agendamento&&Ye.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["📅 ",new Date(L.agendamento).toLocaleString("pt-BR")]})]}),Ye.jsxs("div",{children:[Ye.jsx("h4",{className:"text-sm font-medium mb-2",children:"Distribuição Automática"}),Ye.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"whatsappAuto",icon:de,title:"WhatsApp",color:"bg-green-500"},{key:"pushAuto",icon:y,title:"Push",color:"bg-blue-500"},{key:"igCardAuto",icon:w,title:"Instagram",color:"bg-pink-500"},{key:"audioAuto",icon:fe,title:"Áudio",color:"bg-purple-500"}].map(e=>Ye.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded cursor-pointer hover:bg-gray-50 transition-colors",children:[Ye.jsx("div",{className:`${e.color} p-1 rounded`,children:Ye.jsx(e.icon,{className:"w-3 h-3 text-white"})}),Ye.jsx("span",{className:"text-xs flex-1",children:e.title}),Ye.jsx("input",{type:"checkbox",checked:L[e.key],onChange:t=>Y(e.key,t.target.checked),className:"rounded"})]},e.key))})]})]})]})})]})]}),Ye.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-3 -mx-4 shadow-lg",children:Ye.jsxs("div",{className:"max-w-6xl mx-auto flex gap-2",children:[Ye.jsxs("button",{onClick:te,className:"flex-1 bg-gray-200 hover:bg-gray-300 py-2 px-3 rounded font-medium flex items-center justify-center gap-2 text-sm",children:[Ye.jsx(J,{className:"w-4 h-4"}),"Salvar Rascunho"]}),Ye.jsxs("button",{onClick:re,disabled:!H||K,className:"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white py-2 px-3 rounded font-medium flex items-center justify-center gap-2 text-sm",children:[Ye.jsx(ze,{className:"w-4 h-4"}),L.agendamento?"Agendar":"Publicar"]})]})})]})]});var oe}},Symbol.toStringTag,{value:"Module"}));export{Mt as A,BC as B,BE as C,aM as D,zC as L,$C as P,Up as R,mp as T,ET as X,$T as Y,ct as a,Nt as b,Et as c,Dt as d,zt as e,bt as f,vt as g,Je as h,At as i,Ye as j,rt as k,ot as l,qC as m,xT as n,rT as o,_P as p,mA as q,lt as r,st as s,Fp as t,Ct as u,Ot as v,gM as w};
